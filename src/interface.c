/*
 * DO NOT EDIT THIS FILE - it is generated by Glade.
 */

#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif

#include <sys/types.h>
#include <sys/stat.h>
#include <unistd.h>
#include <string.h>

#include <gdk/gdkkeysyms.h>
#include <gtk/gtk.h>

#include "callbacks.h"
#include "interface.h"
#include "support.h"

/* Global Widgets (added by extern.tcl) */

GtkWidget *sw_menu;
GtkWidget *menu_toolbar_visible;
GtkWidget *menu_statusbar_visible;
GtkWidget *menu_uploads_visible;
GtkWidget *menu_downloads_visible;
GtkWidget *menu_connections_visible;
GtkWidget *menu_bps_in_visible;
GtkWidget *menu_bps_out_visible;
GtkWidget *hbox_statusbar;
GtkWidget *label_statusbar_uptime;
GtkWidget *button_config_move_path;
GtkWidget *button_config_rescan_dir;
GtkWidget *button_config_save_path;
GtkWidget *button_config_update_port;
GtkWidget *checkbutton_config_force_ip;
GtkWidget *checkbutton_config_proxy_connections;
GtkWidget *checkbutton_config_proxy_auth;
GtkWidget *entry_config_extensions;
GtkWidget *entry_config_force_ip;
GtkWidget *entry_config_maxttl;
GtkWidget *entry_config_myttl;
GtkWidget *entry_config_path;
GtkWidget *entry_config_port;
GtkWidget *entry_config_search_items;
GtkWidget *entry_config_socks_host;
GtkWidget *entry_config_socks_password;
GtkWidget *entry_config_socks_username;
GtkWidget *entry_config_speed;
GtkWidget *radio_config_http;
GtkWidget *radio_config_socksv4;
GtkWidget *radio_config_socksv5;
GtkWidget *checkbutton_config_use_netmasks;
GtkWidget *entry_config_netmasks;
GtkWidget *entry_config_socks_port;
GtkWidget *spinbutton_config_bps_in;
GtkWidget *spinbutton_config_bps_out;
GtkWidget *button_nodes_add;
GtkWidget *button_nodes_remove;
GtkWidget *button_host_catcher_clear;
GtkWidget *entry_hosts_in_catcher;
GtkWidget *button_uploads_kill;
GtkWidget *button_uploads_clear_completed;
GtkWidget *checkbutton_uploads_auto_clear;
GtkWidget *clist_uploads;
GtkWidget *clist_downloads_queue;
GtkWidget *button_queue_clear;
GtkWidget *button_queue_remove;
GtkWidget *togglebutton_queue_freeze;
GtkWidget *button_downloads_abort;
GtkWidget *button_downloads_clear_completed;
GtkWidget *button_downloads_resume;
GtkWidget *checkbutton_downloads_auto_clear;
GtkWidget *checkbutton_downloads_never_push;
GtkWidget *clist_downloads;
GtkWidget *button_search;
GtkWidget *button_search_clear;
GtkWidget *button_search_close;
GtkWidget *button_search_download;
GtkWidget *button_search_filter;
GtkWidget *button_search_stream;
GtkWidget *checkbutton_search_jump_to_downloads;
GtkWidget *entry_search;
GtkWidget *entry_search_reissue_timeout;
GtkWidget *entry_search_stats_delcoef;
GtkWidget *entry_search_stats_update_interval;
GtkWidget *clist_monitor;
GtkWidget *checkbutton_monitor_enable;
GtkWidget *popup_search_clear_results;
GtkWidget *popup_search_close;
GtkWidget *popup_search_duplicate;
GtkWidget *popup_search_filters;
GtkWidget *popup_search_restart;
GtkWidget *popup_search_resume;
GtkWidget *popup_search_stop;
GtkWidget *popup_search_stop_sorting;
GtkWidget *popup_search_toggle_tabs;
GtkWidget *popup_search;
GtkWidget *popup_hosts;
GtkWidget *popup_hosts_export;
GtkWidget *popup_dl_queued;
GtkWidget *popup_queue_abort;
GtkWidget *popup_queue_abort_named;
GtkWidget *popup_queue_abort_host;
GtkWidget *popup_queue_search_again;
GtkWidget *popup_queue_start_now;
GtkWidget *popup_queue_search_again;
GtkWidget *popup_dl_active;
GtkWidget *popup_downloads_abort;
GtkWidget *popup_downloads_resume;
GtkWidget *popup_downloads_kill;
GtkWidget *popup_downloads_push;
GtkWidget *popup_downloads_queue;
GtkWidget *popup_downloads_remove_file;
GtkWidget *popup_downloads_search_again;
GtkWidget *popup_monitor;
GtkWidget *popup_monitor_add_search;
GtkWidget *popup_nodes;
GtkWidget *popup_nodes_remove;
GtkWidget *popup_uploads;
GtkWidget *popup_uploads_title;
GtkWidget *button_ul_stats_clear_all;
GtkWidget *button_ul_stats_clear_deleted;
GtkWidget *checkbutton_autodownload;
GtkWidget *checkbutton_search_stats_enable;
GtkWidget *clist_connections;
GtkWidget *clist_nodes;
GtkWidget *clist_search_stats;
GtkWidget *clist_ul_stats;
GtkWidget *combo_entry_searches;
GtkWidget *combo_searches;
GtkWidget *ctree_menu;
GtkWidget *entry_count_downloads;
GtkWidget *entry_count_uploads;
GtkWidget *entry_dropped_messages;
GtkWidget *entry_global_messages;
GtkWidget *entry_global_searches;
GtkWidget *entry_host;
GtkWidget *entry_max_connections;
GtkWidget *entry_max_downloads;
GtkWidget *entry_max_host_downloads;
GtkWidget *entry_max_uploads;
GtkWidget *entry_minimum_speed;
GtkWidget *entry_monitor;
GtkWidget *entry_routing_errors;
GtkWidget *entry_up_connections;
GtkWidget *hb_toolbar;
GtkWidget *label_current_port;
GtkWidget *label_files_scanned;
GtkWidget *label_items_found;
GtkWidget *label_search_stats_count;
GtkWidget *notebook_main;
GtkWidget *notebook_search_results;
GtkWidget *progressbar_downloads;
GtkWidget *progressbar_uploads;
GtkWidget *progressbar_bps_in;
GtkWidget *progressbar_bps_out;
GtkWidget *statusbar;
GtkWidget *sw_connections;
GtkWidget *progressbar_connections;

/* End of global widgets */


GtkWidget*
create_main_window (void)
{
  GtkWidget *main_window;
  GtkWidget *vbox12;
  GtkWidget *handlebox1;
  GtkWidget *menubar1;
  guint tmp_key;
  GtkWidget *menu_file;
  GtkWidget *menu_file_menu;
  GtkAccelGroup *menu_file_menu_accels;
  GtkWidget *quit;
  GtkWidget *menu_view;
  GtkWidget *menu_view_menu;
  GtkAccelGroup *menu_view_menu_accels;
  GtkWidget *separator6;
  GtkWidget *toolbar1;
  GtkWidget *button_quit;
  GtkWidget *hbox_main;
  GtkWidget *vbox_left;
  GtkWidget *label117;
  GtkWidget *frame9;
  GtkWidget *label118;
  GtkWidget *vbox_right;
  GtkWidget *vbox_gnutellanet;
  GtkWidget *frame5;
  GtkWidget *vbox17;
  GtkWidget *sw_nodes;
  GtkWidget *label13;
  GtkWidget *label14;
  GtkWidget *label_node_vendor;
  GtkWidget *label_node_proto;
  GtkWidget *label15;
  GtkWidget *hbox2;
  GtkWidget *hbox16;
  GtkWidget *hbox3;
  GtkWidget *label2;
  GtkObject *entry_up_connections_adj;
  GtkWidget *label3;
  GtkWidget *hbox54;
  GtkWidget *label82;
  GtkObject *entry_max_connections_adj;
  GtkWidget *label83;
  GtkWidget *hbox5;
  GtkWidget *frame_network;
  GtkWidget *vbox13;
  GtkWidget *table1;
  GtkWidget *label7;
  GtkWidget *label8;
  GtkWidget *label9;
  GtkWidget *label10;
  GtkWidget *label11;
  GtkWidget *label12;
  GtkWidget *frame10;
  GtkWidget *vbox20;
  GtkWidget *hbox69;
  GtkWidget *label95;
  GtkWidget *label_gnutellanet;
  GtkWidget *frame6;
  GtkWidget *vbox18;
  GtkWidget *scrolledwindow9;
  GtkWidget *label72;
  GtkWidget *label73;
  GtkWidget *label_size_range;
  GtkWidget *label_up_range;
  GtkWidget *label74;
  GtkWidget *vbox21;
  GtkWidget *hbox72;
  GtkWidget *hbox70;
  GtkWidget *label81;
  GtkObject *entry_max_uploads_adj;
  GtkWidget *label_uploads;
  GtkWidget *frame7;
  GtkWidget *vbox19;
  GtkWidget *ul_stats_scrolledwindow;
  GtkWidget *ul_stats_label2;
  GtkWidget *ul_stats_size;
  GtkWidget *ul_stats_label3;
  GtkWidget *ul_stats_label4;
  GtkWidget *ul_stats_label5;
  GtkWidget *ul_stats_hbox2;
  GtkWidget *label_ul_stats;
  GtkWidget *vpaned1;
  GtkWidget *frame3;
  GtkWidget *vbox16;
  GtkWidget *scrolledwindow6;
  GtkWidget *label112;
  GtkWidget *label113;
  GtkWidget *label114;
  GtkWidget *label115;
  GtkWidget *hbox41;
  GtkWidget *hbox42;
  GtkWidget *label64;
  GtkObject *entry_max_downloads_adj;
  GtkWidget *label80;
  GtkObject *entry_max_host_downloads_adj;
  GtkWidget *hbox73;
  GtkWidget *frame4;
  GtkWidget *vbox15;
  GtkWidget *scrolledwindow7;
  GtkWidget *label66;
  GtkWidget *label96;
  GtkWidget *label67;
  GtkWidget *hbox68;
  GtkWidget *label_downloads;
  GtkWidget *vbox_search;
  GtkWidget *hbox18;
  GtkWidget *table2;
  GtkWidget *label79;
  GtkWidget *hbox19;
  GtkWidget *label_blank_3;
  GtkWidget *label30;
  GtkWidget *empty_notebook_page;
  GtkWidget *hbox20;
  GtkWidget *button_search_passive;
  GtkWidget *hbox52;
  GtkWidget *search_reissue_label;
  GtkObject *entry_search_reissue_timeout_adj;
  GtkWidget *label_search;
  GtkWidget *vbox_monitor;
  GtkWidget *hbox45;
  GtkWidget *label75;
  GtkWidget *label68;
  GtkObject *entry_monitor_adj;
  GtkWidget *label69;
  GtkWidget *scrolledwindow8;
  GtkWidget *label70;
  GtkWidget *label_monitor;
  GtkWidget *vbox12a;
  GtkWidget *hbox67;
  GtkWidget *label101;
  GtkWidget *label102;
  GtkWidget *scrolledwindow10;
  GtkWidget *label105;
  GtkWidget *label106;
  GtkWidget *label107;
  GtkWidget *alignment1;
  GtkWidget *hbox66;
  GtkWidget *button_search_stats_reset;
  GtkWidget *label98;
  GtkWidget *notebook1;
  GtkWidget *vbox24;
  GtkWidget *frame13;
  GtkWidget *vbox30;
  GtkWidget *hbox79;
  GtkWidget *label128;
  GtkWidget *hseparator2;
  GtkWidget *table5;
  GtkWidget *label129;
  GtkWidget *label35;
  GtkWidget *frame_proxy_settings;
  GtkWidget *vbox28;
  GtkWidget *hbox59;
  GtkWidget *label90;
  GSList *socks_version_group = NULL;
  GtkWidget *hbox60;
  GtkWidget *label91;
  GtkWidget *label92;
  GtkWidget *hbox61;
  GtkWidget *label93;
  GtkWidget *label94;
  GtkWidget *frame11;
  GtkWidget *vbox23_2;
  GtkWidget *hbox77;
  GtkWidget *hbox78;
  GtkWidget *eventbox1;
  GtkWidget *label126_2;
  GtkWidget *label119;
  GtkWidget *vbox23;
  GtkWidget *frame_save_new_files;
  GtkWidget *table_save_files_button;
  GtkWidget *frame_move_downloaded_files;
  GtkWidget *table_move_files_button;
  GtkWidget *frame_path_to_files;
  GtkWidget *vbox_path_to_files;
  GtkWidget *hbox_path_buttons;
  GtkWidget *button_config_add_dir;
  GtkWidget *label42;
  GtkWidget *hbox27;
  GtkWidget *label41;
  GtkWidget *label120;
  GtkWidget *vbox29;
  GtkWidget *frame12;
  GtkWidget *vbox27;
  GtkWidget *table4;
  GtkWidget *label123;
  GtkWidget *label124;
  GtkWidget *label125;
  GtkWidget *label126;
  GtkObject *spinbutton_config_bps_in_adj;
  GtkObject *spinbutton_config_bps_out_adj;
  GtkWidget *label127;
  GtkWidget *label121;
  GtkWidget *vbox25;
  GtkWidget *frame_connection_speed;
  GtkWidget *vbox_connection_speed;
  GtkWidget *vbox22;
  GtkWidget *hbox_speed_kpbs;
  GtkWidget *label36;
  GtkWidget *checkbutton_config_throttle;
  GtkWidget *frame1;
  GtkWidget *hbox56;
  GtkWidget *label84;
  GtkWidget *label85;
  GtkWidget *frame_searches;
  GtkWidget *vbox_searches;
  GtkWidget *hbox_limit_search_results;
  GtkWidget *label37;
  GtkWidget *label38;
  GtkWidget *label39;
  GtkWidget *label122;
  GtkWidget *label_config;
  GtkAccelGroup *accel_group;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  accel_group = gtk_accel_group_new ();

  main_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (main_window), "main_window", main_window);
  gtk_window_set_title (GTK_WINDOW (main_window), "gtk-gnutella");

  vbox12 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox12);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox12", vbox12,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox12);
  gtk_container_add (GTK_CONTAINER (main_window), vbox12);

  handlebox1 = gtk_handle_box_new ();
  gtk_widget_ref (handlebox1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "handlebox1", handlebox1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (handlebox1);
  gtk_box_pack_start (GTK_BOX (vbox12), handlebox1, FALSE, FALSE, 0);

  menubar1 = gtk_menu_bar_new ();
  gtk_widget_ref (menubar1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menubar1", menubar1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menubar1);
  gtk_container_add (GTK_CONTAINER (handlebox1), menubar1);

  menu_file = gtk_menu_item_new_with_label ("");
  tmp_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (menu_file)->child),
                                   "_File");
  gtk_widget_add_accelerator (menu_file, "activate_item", accel_group,
                              tmp_key, GDK_MOD1_MASK, (GtkAccelFlags) 0);
  gtk_widget_ref (menu_file);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_file", menu_file,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menu_file);
  gtk_container_add (GTK_CONTAINER (menubar1), menu_file);

  menu_file_menu = gtk_menu_new ();
  gtk_widget_ref (menu_file_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_file_menu", menu_file_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (menu_file), menu_file_menu);
  menu_file_menu_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (menu_file_menu));

  quit = gtk_menu_item_new_with_label ("");
  tmp_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (quit)->child),
                                   "_Quit");
  gtk_widget_add_accelerator (quit, "activate_item", menu_file_menu_accels,
                              tmp_key, 0, 0);
  gtk_widget_ref (quit);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "quit", quit,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (quit);
  gtk_container_add (GTK_CONTAINER (menu_file_menu), quit);
  gtk_widget_add_accelerator (quit, "activate", accel_group,
                              GDK_q, GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  menu_view = gtk_menu_item_new_with_label ("");
  tmp_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (menu_view)->child),
                                   "_View");
  gtk_widget_add_accelerator (menu_view, "activate_item", accel_group,
                              tmp_key, GDK_MOD1_MASK, (GtkAccelFlags) 0);
  gtk_widget_ref (menu_view);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_view", menu_view,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menu_view);
  gtk_container_add (GTK_CONTAINER (menubar1), menu_view);

  menu_view_menu = gtk_menu_new ();
  gtk_widget_ref (menu_view_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_view_menu", menu_view_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (menu_view), menu_view_menu);
  menu_view_menu_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (menu_view_menu));

  menu_toolbar_visible = gtk_check_menu_item_new_with_label ("");
  tmp_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (menu_toolbar_visible)->child),
                                   "show _Toolbar");
  gtk_widget_add_accelerator (menu_toolbar_visible, "activate_item", menu_view_menu_accels,
                              tmp_key, 0, 0);
  gtk_widget_ref (menu_toolbar_visible);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_toolbar_visible", menu_toolbar_visible,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menu_toolbar_visible);
  gtk_container_add (GTK_CONTAINER (menu_view_menu), menu_toolbar_visible);
  gtk_check_menu_item_set_active (GTK_CHECK_MENU_ITEM (menu_toolbar_visible), TRUE);
  gtk_check_menu_item_set_show_toggle (GTK_CHECK_MENU_ITEM (menu_toolbar_visible), TRUE);

  menu_statusbar_visible = gtk_check_menu_item_new_with_label ("");
  tmp_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (menu_statusbar_visible)->child),
                                   "show _Statusbar");
  gtk_widget_add_accelerator (menu_statusbar_visible, "activate_item", menu_view_menu_accels,
                              tmp_key, 0, 0);
  gtk_widget_ref (menu_statusbar_visible);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_statusbar_visible", menu_statusbar_visible,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menu_statusbar_visible);
  gtk_container_add (GTK_CONTAINER (menu_view_menu), menu_statusbar_visible);
  gtk_check_menu_item_set_active (GTK_CHECK_MENU_ITEM (menu_statusbar_visible), TRUE);
  gtk_check_menu_item_set_show_toggle (GTK_CHECK_MENU_ITEM (menu_statusbar_visible), TRUE);

  separator6 = gtk_menu_item_new ();
  gtk_widget_ref (separator6);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "separator6", separator6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator6);
  gtk_container_add (GTK_CONTAINER (menu_view_menu), separator6);
  gtk_widget_set_sensitive (separator6, FALSE);

  menu_downloads_visible = gtk_check_menu_item_new_with_label ("");
  tmp_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (menu_downloads_visible)->child),
                                   "show _Downloads");
  gtk_widget_add_accelerator (menu_downloads_visible, "activate_item", menu_view_menu_accels,
                              tmp_key, 0, 0);
  gtk_widget_ref (menu_downloads_visible);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_downloads_visible", menu_downloads_visible,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menu_downloads_visible);
  gtk_container_add (GTK_CONTAINER (menu_view_menu), menu_downloads_visible);
  gtk_check_menu_item_set_active (GTK_CHECK_MENU_ITEM (menu_downloads_visible), TRUE);
  gtk_check_menu_item_set_show_toggle (GTK_CHECK_MENU_ITEM (menu_downloads_visible), TRUE);

  menu_uploads_visible = gtk_check_menu_item_new_with_label ("");
  tmp_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (menu_uploads_visible)->child),
                                   "show _Uploads");
  gtk_widget_add_accelerator (menu_uploads_visible, "activate_item", menu_view_menu_accels,
                              tmp_key, 0, 0);
  gtk_widget_ref (menu_uploads_visible);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_uploads_visible", menu_uploads_visible,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menu_uploads_visible);
  gtk_container_add (GTK_CONTAINER (menu_view_menu), menu_uploads_visible);
  gtk_check_menu_item_set_active (GTK_CHECK_MENU_ITEM (menu_uploads_visible), TRUE);
  gtk_check_menu_item_set_show_toggle (GTK_CHECK_MENU_ITEM (menu_uploads_visible), TRUE);

  menu_connections_visible = gtk_check_menu_item_new_with_label ("");
  tmp_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (menu_connections_visible)->child),
                                   "show _Connections");
  gtk_widget_add_accelerator (menu_connections_visible, "activate_item", menu_view_menu_accels,
                              tmp_key, 0, 0);
  gtk_widget_ref (menu_connections_visible);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_connections_visible", menu_connections_visible,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menu_connections_visible);
  gtk_container_add (GTK_CONTAINER (menu_view_menu), menu_connections_visible);
  gtk_check_menu_item_set_active (GTK_CHECK_MENU_ITEM (menu_connections_visible), TRUE);
  gtk_check_menu_item_set_show_toggle (GTK_CHECK_MENU_ITEM (menu_connections_visible), TRUE);

  menu_bps_in_visible = gtk_check_menu_item_new_with_label ("");
  tmp_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (menu_bps_in_visible)->child),
                                   "show _Input Banwidth");
  gtk_widget_add_accelerator (menu_bps_in_visible, "activate_item", menu_view_menu_accels,
                              tmp_key, 0, 0);
  gtk_widget_ref (menu_bps_in_visible);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_bps_in_visible", menu_bps_in_visible,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menu_bps_in_visible);
  gtk_container_add (GTK_CONTAINER (menu_view_menu), menu_bps_in_visible);
  gtk_check_menu_item_set_active (GTK_CHECK_MENU_ITEM (menu_bps_in_visible), TRUE);
  gtk_check_menu_item_set_show_toggle (GTK_CHECK_MENU_ITEM (menu_bps_in_visible), TRUE);

  menu_bps_out_visible = gtk_check_menu_item_new_with_label ("");
  tmp_key = gtk_label_parse_uline (GTK_LABEL (GTK_BIN (menu_bps_out_visible)->child),
                                   "show _Output Bandwidth");
  gtk_widget_add_accelerator (menu_bps_out_visible, "activate_item", menu_view_menu_accels,
                              tmp_key, 0, 0);
  gtk_widget_ref (menu_bps_out_visible);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menu_bps_out_visible", menu_bps_out_visible,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menu_bps_out_visible);
  gtk_container_add (GTK_CONTAINER (menu_view_menu), menu_bps_out_visible);
  gtk_check_menu_item_set_active (GTK_CHECK_MENU_ITEM (menu_bps_out_visible), TRUE);
  gtk_check_menu_item_set_show_toggle (GTK_CHECK_MENU_ITEM (menu_bps_out_visible), TRUE);

  hb_toolbar = gtk_handle_box_new ();
  gtk_widget_ref (hb_toolbar);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hb_toolbar", hb_toolbar,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hb_toolbar);
  gtk_box_pack_start (GTK_BOX (vbox12), hb_toolbar, FALSE, TRUE, 0);

  toolbar1 = gtk_toolbar_new (GTK_ORIENTATION_HORIZONTAL, GTK_TOOLBAR_BOTH);
  gtk_widget_ref (toolbar1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "toolbar1", toolbar1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (toolbar1);
  gtk_container_add (GTK_CONTAINER (hb_toolbar), toolbar1);

  button_quit = gtk_button_new_with_label ("Quit");
  gtk_widget_ref (button_quit);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_quit", button_quit,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_quit);
  gtk_toolbar_append_widget (GTK_TOOLBAR (toolbar1), button_quit, "Exit gtk-gnutella", NULL);

  hbox_main = gtk_hbox_new (FALSE, 3);
  gtk_widget_ref (hbox_main);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_main", hbox_main,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_main);
  gtk_box_pack_start (GTK_BOX (vbox12), hbox_main, TRUE, TRUE, 0);

  vbox_left = gtk_vbox_new (FALSE, 3);
  gtk_widget_ref (vbox_left);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_left", vbox_left,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_left);
  gtk_box_pack_start (GTK_BOX (hbox_main), vbox_left, FALSE, FALSE, 0);
  gtk_widget_set_usize (vbox_left, 110, -2);

  sw_menu = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (sw_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "sw_menu", sw_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sw_menu);
  gtk_box_pack_start (GTK_BOX (vbox_left), sw_menu, FALSE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw_menu), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  ctree_menu = gtk_ctree_new (1, 0);
  gtk_widget_ref (ctree_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ctree_menu", ctree_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ctree_menu);
  gtk_container_add (GTK_CONTAINER (sw_menu), ctree_menu);
  gtk_clist_set_column_width (GTK_CLIST (ctree_menu), 0, 80);
  gtk_clist_set_selection_mode (GTK_CLIST (ctree_menu), GTK_SELECTION_BROWSE);
  gtk_clist_column_titles_hide (GTK_CLIST (ctree_menu));

  label117 = gtk_label_new ("Menu");
  gtk_widget_ref (label117);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label117", label117,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label117);
  gtk_clist_set_column_widget (GTK_CLIST (ctree_menu), 0, label117);

  frame9 = gtk_frame_new ("Connections");
  gtk_widget_ref (frame9);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame9", frame9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_box_pack_start (GTK_BOX (vbox_left), frame9, FALSE, FALSE, 0);

  sw_connections = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (sw_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "sw_connections", sw_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sw_connections);
  gtk_container_add (GTK_CONTAINER (frame9), sw_connections);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw_connections), GTK_POLICY_NEVER, GTK_POLICY_NEVER);

  clist_connections = gtk_clist_new (1);
  gtk_widget_ref (clist_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_connections", clist_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_connections);
  gtk_container_add (GTK_CONTAINER (sw_connections), clist_connections);
  gtk_widget_set_sensitive (clist_connections, FALSE);
  GTK_WIDGET_UNSET_FLAGS (clist_connections, GTK_CAN_FOCUS);
  gtk_clist_set_column_width (GTK_CLIST (clist_connections), 0, 80);
  gtk_clist_column_titles_hide (GTK_CLIST (clist_connections));

  label118 = gtk_label_new ("");
  gtk_widget_ref (label118);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label118", label118,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label118);
  gtk_box_pack_start (GTK_BOX (vbox_left), label118, TRUE, FALSE, 0);

  progressbar_connections = gtk_progress_bar_new ();
  gtk_widget_ref (progressbar_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "progressbar_connections", progressbar_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (progressbar_connections);
  gtk_box_pack_start (GTK_BOX (vbox_left), progressbar_connections, FALSE, FALSE, 0);
  gtk_progress_set_show_text (GTK_PROGRESS (progressbar_connections), TRUE);
  gtk_progress_set_format_string (GTK_PROGRESS (progressbar_connections), "%v/%u Gnet nodes");

  progressbar_uploads = gtk_progress_bar_new ();
  gtk_widget_ref (progressbar_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "progressbar_uploads", progressbar_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (progressbar_uploads);
  gtk_box_pack_start (GTK_BOX (vbox_left), progressbar_uploads, FALSE, FALSE, 0);
  gtk_progress_set_show_text (GTK_PROGRESS (progressbar_uploads), TRUE);
  gtk_progress_set_format_string (GTK_PROGRESS (progressbar_uploads), "%v/%u uploads");

  progressbar_downloads = gtk_progress_bar_new ();
  gtk_widget_ref (progressbar_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "progressbar_downloads", progressbar_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (progressbar_downloads);
  gtk_box_pack_start (GTK_BOX (vbox_left), progressbar_downloads, FALSE, FALSE, 0);
  gtk_progress_set_show_text (GTK_PROGRESS (progressbar_downloads), TRUE);
  gtk_progress_set_format_string (GTK_PROGRESS (progressbar_downloads), "%v/%u downloads");

  progressbar_bps_in = gtk_progress_bar_new ();
  gtk_widget_ref (progressbar_bps_in);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "progressbar_bps_in", progressbar_bps_in,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (progressbar_bps_in);
  gtk_box_pack_start (GTK_BOX (vbox_left), progressbar_bps_in, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, progressbar_bps_in, "Click to toggle display.", NULL);
  gtk_widget_set_events (progressbar_bps_in, GDK_BUTTON_PRESS_MASK);
  gtk_progress_set_show_text (GTK_PROGRESS (progressbar_bps_in), TRUE);
  gtk_progress_set_format_string (GTK_PROGRESS (progressbar_bps_in), "%v/%u bps in");

  progressbar_bps_out = gtk_progress_bar_new ();
  gtk_widget_ref (progressbar_bps_out);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "progressbar_bps_out", progressbar_bps_out,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (progressbar_bps_out);
  gtk_box_pack_start (GTK_BOX (vbox_left), progressbar_bps_out, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, progressbar_bps_out, "Click to toggle display.", NULL);
  gtk_widget_set_events (progressbar_bps_out, GDK_BUTTON_PRESS_MASK);
  gtk_progress_set_show_text (GTK_PROGRESS (progressbar_bps_out), TRUE);
  gtk_progress_set_format_string (GTK_PROGRESS (progressbar_bps_out), "%v/%u bps out");

  vbox_right = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox_right);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_right", vbox_right,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_right);
  gtk_box_pack_start (GTK_BOX (hbox_main), vbox_right, TRUE, TRUE, 0);

  notebook_main = gtk_notebook_new ();
  gtk_widget_ref (notebook_main);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "notebook_main", notebook_main,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (notebook_main);
  gtk_box_pack_start (GTK_BOX (vbox_right), notebook_main, TRUE, TRUE, 0);
  GTK_WIDGET_UNSET_FLAGS (notebook_main, GTK_CAN_FOCUS);
  gtk_notebook_set_show_tabs (GTK_NOTEBOOK (notebook_main), FALSE);
  gtk_notebook_set_show_border (GTK_NOTEBOOK (notebook_main), FALSE);

  vbox_gnutellanet = gtk_vbox_new (FALSE, 6);
  gtk_widget_ref (vbox_gnutellanet);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_gnutellanet", vbox_gnutellanet,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_gnutellanet);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox_gnutellanet);

  frame5 = gtk_frame_new ("gnutellaNet connections");
  gtk_widget_ref (frame5);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame5", frame5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame5);
  gtk_box_pack_start (GTK_BOX (vbox_gnutellanet), frame5, TRUE, TRUE, 0);

  vbox17 = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox17);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox17", vbox17,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox17);
  gtk_container_add (GTK_CONTAINER (frame5), vbox17);
  gtk_container_set_border_width (GTK_CONTAINER (vbox17), 2);

  sw_nodes = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (sw_nodes);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "sw_nodes", sw_nodes,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sw_nodes);
  gtk_box_pack_start (GTK_BOX (vbox17), sw_nodes, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw_nodes), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_nodes = gtk_clist_new (5);
  gtk_widget_ref (clist_nodes);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_nodes", clist_nodes,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_nodes);
  gtk_container_add (GTK_CONTAINER (sw_nodes), clist_nodes);
  gtk_container_set_border_width (GTK_CONTAINER (clist_nodes), 2);
  GTK_WIDGET_UNSET_FLAGS (clist_nodes, GTK_CAN_FOCUS);
  gtk_clist_set_column_width (GTK_CLIST (clist_nodes), 0, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_nodes), 1, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_nodes), 2, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_nodes), 3, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_nodes), 4, 80);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_nodes), GTK_SELECTION_EXTENDED);
  gtk_clist_column_titles_show (GTK_CLIST (clist_nodes));

  label13 = gtk_label_new ("Host");
  gtk_widget_ref (label13);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label13", label13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label13);
  gtk_clist_set_column_widget (GTK_CLIST (clist_nodes), 0, label13);
  gtk_misc_set_alignment (GTK_MISC (label13), 0, 0.5);

  label14 = gtk_label_new ("Type");
  gtk_widget_ref (label14);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label14", label14,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label14);
  gtk_clist_set_column_widget (GTK_CLIST (clist_nodes), 1, label14);

  label_node_vendor = gtk_label_new ("Vendor");
  gtk_widget_ref (label_node_vendor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_node_vendor", label_node_vendor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_node_vendor);
  gtk_clist_set_column_widget (GTK_CLIST (clist_nodes), 2, label_node_vendor);

  label_node_proto = gtk_label_new ("Ver");
  gtk_widget_ref (label_node_proto);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_node_proto", label_node_proto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_node_proto);
  gtk_clist_set_column_widget (GTK_CLIST (clist_nodes), 3, label_node_proto);

  label15 = gtk_label_new ("Info");
  gtk_widget_ref (label15);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label15", label15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label15);
  gtk_clist_set_column_widget (GTK_CLIST (clist_nodes), 4, label15);

  hbox2 = gtk_hbox_new (FALSE, 6);
  gtk_widget_ref (hbox2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox2", hbox2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox2);
  gtk_box_pack_start (GTK_BOX (vbox17), hbox2, FALSE, TRUE, 0);

  hbox16 = gtk_hbox_new (TRUE, 8);
  gtk_widget_ref (hbox16);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox16", hbox16,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox16);
  gtk_box_pack_start (GTK_BOX (hbox2), hbox16, FALSE, TRUE, 0);

  button_nodes_remove = gtk_button_new_with_label ("Remove");
  gtk_widget_ref (button_nodes_remove);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_nodes_remove", button_nodes_remove,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_nodes_remove);
  gtk_box_pack_start (GTK_BOX (hbox16), button_nodes_remove, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (button_nodes_remove, FALSE);
  gtk_tooltips_set_tip (tooltips, button_nodes_remove, "Disconnect from selected nodes", NULL);

  button_nodes_add = gtk_button_new_with_label ("Add");
  gtk_widget_ref (button_nodes_add);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_nodes_add", button_nodes_add,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_nodes_add);
  gtk_box_pack_start (GTK_BOX (hbox16), button_nodes_add, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (button_nodes_add, FALSE);
  gtk_tooltips_set_tip (tooltips, button_nodes_add, "Try to connect to specified address", NULL);

  entry_host = gtk_entry_new ();
  gtk_widget_ref (entry_host);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_host", entry_host,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_host);
  gtk_box_pack_start (GTK_BOX (hbox2), entry_host, TRUE, TRUE, 0);

  hbox3 = gtk_hbox_new (FALSE, 6);
  gtk_widget_ref (hbox3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox3", hbox3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox3);
  gtk_box_pack_start (GTK_BOX (vbox17), hbox3, FALSE, TRUE, 0);

  label2 = gtk_label_new ("Try to keep at least");
  gtk_widget_ref (label2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label2", label2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label2);
  gtk_box_pack_start (GTK_BOX (hbox3), label2, FALSE, FALSE, 0);

  entry_up_connections_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
  entry_up_connections = gtk_spin_button_new (GTK_ADJUSTMENT (entry_up_connections_adj), 1, 0);
  gtk_widget_ref (entry_up_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_up_connections", entry_up_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_up_connections);
  gtk_box_pack_start (GTK_BOX (hbox3), entry_up_connections, FALSE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (entry_up_connections), TRUE);

  label3 = gtk_label_new ("connections up.");
  gtk_widget_ref (label3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label3", label3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label3);
  gtk_box_pack_start (GTK_BOX (hbox3), label3, FALSE, FALSE, 0);

  hbox54 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox54);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox54", hbox54,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox54);
  gtk_box_pack_start (GTK_BOX (hbox3), hbox54, TRUE, TRUE, 0);

  label82 = gtk_label_new ("Maximum of");
  gtk_widget_ref (label82);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label82", label82,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label82);
  gtk_box_pack_start (GTK_BOX (hbox54), label82, FALSE, FALSE, 0);

  entry_max_connections_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
  entry_max_connections = gtk_spin_button_new (GTK_ADJUSTMENT (entry_max_connections_adj), 1, 0);
  gtk_widget_ref (entry_max_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_max_connections", entry_max_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_max_connections);
  gtk_box_pack_start (GTK_BOX (hbox54), entry_max_connections, FALSE, FALSE, 4);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (entry_max_connections), TRUE);

  label83 = gtk_label_new ("total connections.");
  gtk_widget_ref (label83);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label83", label83,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label83);
  gtk_box_pack_start (GTK_BOX (hbox54), label83, FALSE, FALSE, 0);

  hbox5 = gtk_hbox_new (TRUE, 6);
  gtk_widget_ref (hbox5);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox5", hbox5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox5);
  gtk_box_pack_start (GTK_BOX (vbox_gnutellanet), hbox5, FALSE, TRUE, 0);

  frame_network = gtk_frame_new ("Network information");
  gtk_widget_ref (frame_network);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_network", frame_network,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_network);
  gtk_box_pack_start (GTK_BOX (hbox5), frame_network, FALSE, TRUE, 0);

  vbox13 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox13);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox13", vbox13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox13);
  gtk_container_add (GTK_CONTAINER (frame_network), vbox13);

  table1 = gtk_table_new (6, 2, FALSE);
  gtk_widget_ref (table1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table1", table1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table1);
  gtk_box_pack_start (GTK_BOX (vbox13), table1, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (table1), 4);
  gtk_table_set_row_spacings (GTK_TABLE (table1), 2);
  gtk_table_set_col_spacings (GTK_TABLE (table1), 2);

  label7 = gtk_label_new ("gnutellaNet messages:");
  gtk_widget_ref (label7);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label7", label7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label7);
  gtk_table_attach (GTK_TABLE (table1), label7, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label7), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);

  label8 = gtk_label_new ("Searches to local DB:");
  gtk_widget_ref (label8);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label8", label8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label8);
  gtk_table_attach (GTK_TABLE (table1), label8, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label8), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label8), 7.45058e-09, 0.5);

  entry_routing_errors = gtk_entry_new ();
  gtk_widget_ref (entry_routing_errors);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_routing_errors", entry_routing_errors,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_routing_errors);
  gtk_table_attach (GTK_TABLE (table1), entry_routing_errors, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_routing_errors, 72, -2);
  gtk_widget_set_sensitive (entry_routing_errors, FALSE);
  gtk_tooltips_set_tip (tooltips, entry_routing_errors, "Somebody tell me a sensible tooltip for this.", NULL);
  gtk_entry_set_editable (GTK_ENTRY (entry_routing_errors), FALSE);

  entry_global_searches = gtk_entry_new ();
  gtk_widget_ref (entry_global_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_global_searches", entry_global_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_global_searches);
  gtk_table_attach (GTK_TABLE (table1), entry_global_searches, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_global_searches, 72, -2);
  gtk_widget_set_sensitive (entry_global_searches, FALSE);
  gtk_tooltips_set_tip (tooltips, entry_global_searches, "Somebody tell me a sensible tooltip for this.", NULL);
  gtk_entry_set_editable (GTK_ENTRY (entry_global_searches), FALSE);

  entry_dropped_messages = gtk_entry_new ();
  gtk_widget_ref (entry_dropped_messages);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_dropped_messages", entry_dropped_messages,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_dropped_messages);
  gtk_table_attach (GTK_TABLE (table1), entry_dropped_messages, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_dropped_messages, 72, -2);
  gtk_widget_set_sensitive (entry_dropped_messages, FALSE);
  gtk_tooltips_set_tip (tooltips, entry_dropped_messages, "Somebody tell me a sensible tooltip for this.", NULL);
  gtk_entry_set_editable (GTK_ENTRY (entry_dropped_messages), FALSE);

  entry_count_downloads = gtk_entry_new ();
  gtk_widget_ref (entry_count_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_count_downloads", entry_count_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_count_downloads);
  gtk_table_attach (GTK_TABLE (table1), entry_count_downloads, 1, 2, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_count_downloads, 72, -2);
  gtk_widget_set_sensitive (entry_count_downloads, FALSE);
  gtk_tooltips_set_tip (tooltips, entry_count_downloads, "Somebody tell me a sensible tooltip for this.", NULL);
  gtk_entry_set_editable (GTK_ENTRY (entry_count_downloads), FALSE);

  entry_count_uploads = gtk_entry_new ();
  gtk_widget_ref (entry_count_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_count_uploads", entry_count_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_count_uploads);
  gtk_table_attach (GTK_TABLE (table1), entry_count_uploads, 1, 2, 5, 6,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_count_uploads, 72, -2);
  gtk_widget_set_sensitive (entry_count_uploads, FALSE);
  gtk_tooltips_set_tip (tooltips, entry_count_uploads, "Somebody tell me a sensible tooltip for this.", NULL);
  gtk_entry_set_editable (GTK_ENTRY (entry_count_uploads), FALSE);

  label9 = gtk_label_new ("Routing errors:");
  gtk_widget_ref (label9);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label9", label9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label9);
  gtk_table_attach (GTK_TABLE (table1), label9, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label9), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label9), 7.45058e-09, 0.5);

  label10 = gtk_label_new ("Dropped messages:");
  gtk_widget_ref (label10);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label10", label10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label10);
  gtk_table_attach (GTK_TABLE (table1), label10, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label10), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label10), 7.45058e-09, 0.5);

  label11 = gtk_label_new ("Download count (files):");
  gtk_widget_ref (label11);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label11", label11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label11);
  gtk_table_attach (GTK_TABLE (table1), label11, 0, 1, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label11), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label11), 7.45058e-09, 0.5);

  label12 = gtk_label_new ("Upload count (files):");
  gtk_widget_ref (label12);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label12", label12,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label12);
  gtk_table_attach (GTK_TABLE (table1), label12, 0, 1, 5, 6,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label12), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label12), 7.45058e-09, 0.5);

  entry_global_messages = gtk_entry_new ();
  gtk_widget_ref (entry_global_messages);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_global_messages", entry_global_messages,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_global_messages);
  gtk_table_attach (GTK_TABLE (table1), entry_global_messages, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_global_messages, 72, -2);
  gtk_widget_set_sensitive (entry_global_messages, FALSE);
  gtk_tooltips_set_tip (tooltips, entry_global_messages, "Somebody tell me a sensible tooltip for this.", NULL);
  gtk_entry_set_editable (GTK_ENTRY (entry_global_messages), FALSE);

  frame10 = gtk_frame_new ("Host catcher");
  gtk_widget_ref (frame10);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame10", frame10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame10);
  gtk_box_pack_start (GTK_BOX (hbox5), frame10, TRUE, TRUE, 0);

  vbox20 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox20);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox20", vbox20,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox20);
  gtk_container_add (GTK_CONTAINER (frame10), vbox20);

  hbox69 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox69);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox69", hbox69,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox69);
  gtk_box_pack_start (GTK_BOX (vbox20), hbox69, FALSE, TRUE, 0);

  label95 = gtk_label_new ("Hosts in catcher:");
  gtk_widget_ref (label95);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label95", label95,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label95);
  gtk_box_pack_start (GTK_BOX (hbox69), label95, FALSE, FALSE, 0);

  entry_hosts_in_catcher = gtk_entry_new ();
  gtk_widget_ref (entry_hosts_in_catcher);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_hosts_in_catcher", entry_hosts_in_catcher,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_hosts_in_catcher);
  gtk_box_pack_start (GTK_BOX (hbox69), entry_hosts_in_catcher, TRUE, TRUE, 0);
  gtk_widget_set_usize (entry_hosts_in_catcher, 72, -2);
  gtk_widget_set_sensitive (entry_hosts_in_catcher, FALSE);
  gtk_tooltips_set_tip (tooltips, entry_hosts_in_catcher, "Somebody tell me a sensible tooltip for this.", NULL);
  gtk_entry_set_editable (GTK_ENTRY (entry_hosts_in_catcher), FALSE);

  button_host_catcher_clear = gtk_button_new_with_label ("Clear");
  gtk_widget_ref (button_host_catcher_clear);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_host_catcher_clear", button_host_catcher_clear,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_host_catcher_clear);
  gtk_box_pack_start (GTK_BOX (hbox69), button_host_catcher_clear, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_host_catcher_clear, FALSE);
  GTK_WIDGET_SET_FLAGS (button_host_catcher_clear, GTK_CAN_DEFAULT);

  label_gnutellanet = gtk_label_new ("gnutellaNet");
  gtk_widget_ref (label_gnutellanet);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_gnutellanet", label_gnutellanet,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_gnutellanet);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 0), label_gnutellanet);

  frame6 = gtk_frame_new ("Uploads");
  gtk_widget_ref (frame6);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame6", frame6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame6);
  gtk_container_add (GTK_CONTAINER (notebook_main), frame6);

  vbox18 = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox18);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox18", vbox18,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox18);
  gtk_container_add (GTK_CONTAINER (frame6), vbox18);
  gtk_container_set_border_width (GTK_CONTAINER (vbox18), 2);

  scrolledwindow9 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow9);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow9", scrolledwindow9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow9);
  gtk_box_pack_start (GTK_BOX (vbox18), scrolledwindow9, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow9), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_uploads = gtk_clist_new (5);
  gtk_widget_ref (clist_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_uploads", clist_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_uploads);
  gtk_container_add (GTK_CONTAINER (scrolledwindow9), clist_uploads);
  gtk_clist_set_column_width (GTK_CLIST (clist_uploads), 0, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_uploads), 1, 60);
  gtk_clist_set_column_width (GTK_CLIST (clist_uploads), 2, 40);
  gtk_clist_set_column_width (GTK_CLIST (clist_uploads), 3, 40);
  gtk_clist_set_column_width (GTK_CLIST (clist_uploads), 4, 60);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_uploads), GTK_SELECTION_EXTENDED);
  gtk_clist_column_titles_show (GTK_CLIST (clist_uploads));

  label72 = gtk_label_new ("Filename");
  gtk_widget_ref (label72);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label72", label72,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label72);
  gtk_clist_set_column_widget (GTK_CLIST (clist_uploads), 0, label72);
  gtk_misc_set_alignment (GTK_MISC (label72), 7.45058e-09, 0.5);

  label73 = gtk_label_new ("Host");
  gtk_widget_ref (label73);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label73", label73,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label73);
  gtk_clist_set_column_widget (GTK_CLIST (clist_uploads), 1, label73);

  label_size_range = gtk_label_new ("Size");
  gtk_widget_ref (label_size_range);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_size_range", label_size_range,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_size_range);
  gtk_clist_set_column_widget (GTK_CLIST (clist_uploads), 2, label_size_range);

  label_up_range = gtk_label_new ("Range");
  gtk_widget_ref (label_up_range);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_up_range", label_up_range,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_up_range);
  gtk_clist_set_column_widget (GTK_CLIST (clist_uploads), 3, label_up_range);

  label74 = gtk_label_new ("Status");
  gtk_widget_ref (label74);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label74", label74,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label74);
  gtk_clist_set_column_widget (GTK_CLIST (clist_uploads), 4, label74);

  vbox21 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox21);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox21", vbox21,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox21);
  gtk_box_pack_start (GTK_BOX (vbox18), vbox21, FALSE, TRUE, 0);

  hbox72 = gtk_hbox_new (FALSE, 6);
  gtk_widget_ref (hbox72);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox72", hbox72,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox72);
  gtk_box_pack_start (GTK_BOX (vbox21), hbox72, TRUE, TRUE, 0);

  button_uploads_kill = gtk_button_new_with_label (" Kill selected ");
  gtk_widget_ref (button_uploads_kill);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_uploads_kill", button_uploads_kill,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_uploads_kill);
  gtk_box_pack_start (GTK_BOX (hbox72), button_uploads_kill, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_uploads_kill, FALSE);
  gtk_tooltips_set_tip (tooltips, button_uploads_kill, "Abort and remove all selected uploads", NULL);

  button_uploads_clear_completed = gtk_button_new_with_label (" Clear completed ");
  gtk_widget_ref (button_uploads_clear_completed);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_uploads_clear_completed", button_uploads_clear_completed,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_uploads_clear_completed);
  gtk_box_pack_start (GTK_BOX (hbox72), button_uploads_clear_completed, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_uploads_clear_completed, FALSE);
  gtk_tooltips_set_tip (tooltips, button_uploads_clear_completed, "Clear already completed uploads from list", NULL);

  hbox70 = gtk_hbox_new (FALSE, 6);
  gtk_widget_ref (hbox70);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox70", hbox70,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox70);
  gtk_box_pack_start (GTK_BOX (vbox21), hbox70, TRUE, TRUE, 0);

  checkbutton_uploads_auto_clear = gtk_check_button_new_with_label ("Auto clear completed uploads");
  gtk_widget_ref (checkbutton_uploads_auto_clear);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_uploads_auto_clear", checkbutton_uploads_auto_clear,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_uploads_auto_clear);
  gtk_box_pack_start (GTK_BOX (hbox70), checkbutton_uploads_auto_clear, FALSE, FALSE, 0);

  label81 = gtk_label_new ("Maximum simultaneous uploads");
  gtk_widget_ref (label81);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label81", label81,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label81);
  gtk_box_pack_start (GTK_BOX (hbox70), label81, FALSE, FALSE, 0);

  entry_max_uploads_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
  entry_max_uploads = gtk_spin_button_new (GTK_ADJUSTMENT (entry_max_uploads_adj), 1, 0);
  gtk_widget_ref (entry_max_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_max_uploads", entry_max_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_max_uploads);
  gtk_box_pack_start (GTK_BOX (hbox70), entry_max_uploads, FALSE, TRUE, 0);

  label_uploads = gtk_label_new ("Uploads");
  gtk_widget_ref (label_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_uploads", label_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_uploads);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 1), label_uploads);

  frame7 = gtk_frame_new ("Upload history");
  gtk_widget_ref (frame7);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame7", frame7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame7);
  gtk_container_add (GTK_CONTAINER (notebook_main), frame7);

  vbox19 = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox19);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox19", vbox19,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox19);
  gtk_container_add (GTK_CONTAINER (frame7), vbox19);
  gtk_container_set_border_width (GTK_CONTAINER (vbox19), 2);

  ul_stats_scrolledwindow = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (ul_stats_scrolledwindow);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_scrolledwindow", ul_stats_scrolledwindow,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_scrolledwindow);
  gtk_box_pack_start (GTK_BOX (vbox19), ul_stats_scrolledwindow, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (ul_stats_scrolledwindow), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_ul_stats = gtk_clist_new (5);
  gtk_widget_ref (clist_ul_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_ul_stats", clist_ul_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_ul_stats);
  gtk_container_add (GTK_CONTAINER (ul_stats_scrolledwindow), clist_ul_stats);
  gtk_clist_set_column_width (GTK_CLIST (clist_ul_stats), 0, 204);
  gtk_clist_set_column_width (GTK_CLIST (clist_ul_stats), 1, 41);
  gtk_clist_set_column_width (GTK_CLIST (clist_ul_stats), 2, 60);
  gtk_clist_set_column_width (GTK_CLIST (clist_ul_stats), 3, 67);
  gtk_clist_set_column_width (GTK_CLIST (clist_ul_stats), 4, 67);
  gtk_clist_column_titles_show (GTK_CLIST (clist_ul_stats));

  ul_stats_label2 = gtk_label_new ("Filename");
  gtk_widget_ref (ul_stats_label2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_label2", ul_stats_label2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_label2);
  gtk_clist_set_column_widget (GTK_CLIST (clist_ul_stats), 0, ul_stats_label2);
  gtk_misc_set_alignment (GTK_MISC (ul_stats_label2), 7.45058e-09, 0.5);

  ul_stats_size = gtk_label_new ("Size");
  gtk_widget_ref (ul_stats_size);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_size", ul_stats_size,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_size);
  gtk_clist_set_column_widget (GTK_CLIST (clist_ul_stats), 1, ul_stats_size);

  ul_stats_label3 = gtk_label_new ("Attempts");
  gtk_widget_ref (ul_stats_label3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_label3", ul_stats_label3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_label3);
  gtk_clist_set_column_widget (GTK_CLIST (clist_ul_stats), 2, ul_stats_label3);

  ul_stats_label4 = gtk_label_new ("Complete");
  gtk_widget_ref (ul_stats_label4);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_label4", ul_stats_label4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_label4);
  gtk_clist_set_column_widget (GTK_CLIST (clist_ul_stats), 3, ul_stats_label4);

  ul_stats_label5 = gtk_label_new ("Normalized");
  gtk_widget_ref (ul_stats_label5);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_label5", ul_stats_label5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_label5);
  gtk_clist_set_column_widget (GTK_CLIST (clist_ul_stats), 4, ul_stats_label5);

  ul_stats_hbox2 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (ul_stats_hbox2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_hbox2", ul_stats_hbox2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_hbox2);
  gtk_box_pack_start (GTK_BOX (vbox19), ul_stats_hbox2, FALSE, TRUE, 0);

  button_ul_stats_clear_deleted = gtk_button_new_with_label (" Clear Nonexistant Files ");
  gtk_widget_ref (button_ul_stats_clear_deleted);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_ul_stats_clear_deleted", button_ul_stats_clear_deleted,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_ul_stats_clear_deleted);
  gtk_box_pack_start (GTK_BOX (ul_stats_hbox2), button_ul_stats_clear_deleted, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_ul_stats_clear_deleted, FALSE);
  gtk_tooltips_set_tip (tooltips, button_ul_stats_clear_deleted, "Somebody tell me a sensible tooltip for this.", NULL);

  button_ul_stats_clear_all = gtk_button_new_with_label (" Clear All ");
  gtk_widget_ref (button_ul_stats_clear_all);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_ul_stats_clear_all", button_ul_stats_clear_all,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_ul_stats_clear_all);
  gtk_box_pack_start (GTK_BOX (ul_stats_hbox2), button_ul_stats_clear_all, FALSE, FALSE, 0);

  label_ul_stats = gtk_label_new ("Upload Stats");
  gtk_widget_ref (label_ul_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_ul_stats", label_ul_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_ul_stats);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 2), label_ul_stats);

  vpaned1 = gtk_vpaned_new ();
  gtk_widget_ref (vpaned1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vpaned1", vpaned1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vpaned1);
  gtk_container_add (GTK_CONTAINER (notebook_main), vpaned1);
  gtk_paned_set_position (GTK_PANED (vpaned1), 293);

  frame3 = gtk_frame_new ("Active downloads");
  gtk_widget_ref (frame3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame3", frame3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame3);
  gtk_paned_pack1 (GTK_PANED (vpaned1), frame3, FALSE, TRUE);

  vbox16 = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox16);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox16", vbox16,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox16);
  gtk_container_add (GTK_CONTAINER (frame3), vbox16);
  gtk_container_set_border_width (GTK_CONTAINER (vbox16), 2);

  scrolledwindow6 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow6);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow6", scrolledwindow6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow6);
  gtk_box_pack_start (GTK_BOX (vbox16), scrolledwindow6, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow6), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_downloads = gtk_clist_new (4);
  gtk_widget_ref (clist_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_downloads", clist_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_downloads);
  gtk_container_add (GTK_CONTAINER (scrolledwindow6), clist_downloads);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads), 0, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads), 1, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads), 2, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads), 3, 80);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_downloads), GTK_SELECTION_EXTENDED);
  gtk_clist_column_titles_show (GTK_CLIST (clist_downloads));

  label112 = gtk_label_new ("Filename");
  gtk_widget_ref (label112);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label112", label112,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label112);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads), 0, label112);

  label113 = gtk_label_new ("Host");
  gtk_widget_ref (label113);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label113", label113,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label113);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads), 1, label113);

  label114 = gtk_label_new ("Size");
  gtk_widget_ref (label114);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label114", label114,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label114);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads), 2, label114);

  label115 = gtk_label_new ("Status");
  gtk_widget_ref (label115);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label115", label115,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label115);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads), 3, label115);

  hbox41 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox41);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox41", hbox41,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox41);
  gtk_box_pack_start (GTK_BOX (vbox16), hbox41, FALSE, TRUE, 0);

  button_downloads_abort = gtk_button_new_with_label ("Abort selected");
  gtk_widget_ref (button_downloads_abort);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_downloads_abort", button_downloads_abort,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_downloads_abort);
  gtk_box_pack_start (GTK_BOX (hbox41), button_downloads_abort, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_downloads_abort, FALSE);
  gtk_tooltips_set_tip (tooltips, button_downloads_abort, "Abort all selected downloads", NULL);

  button_downloads_resume = gtk_button_new_with_label ("Resume selected");
  gtk_widget_ref (button_downloads_resume);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_downloads_resume", button_downloads_resume,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_downloads_resume);
  gtk_box_pack_start (GTK_BOX (hbox41), button_downloads_resume, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_downloads_resume, FALSE);
  gtk_tooltips_set_tip (tooltips, button_downloads_resume, "Resume all selected downloads", NULL);

  button_downloads_clear_completed = gtk_button_new_with_label ("Clear completed");
  gtk_widget_ref (button_downloads_clear_completed);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_downloads_clear_completed", button_downloads_clear_completed,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_downloads_clear_completed);
  gtk_box_pack_start (GTK_BOX (hbox41), button_downloads_clear_completed, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_downloads_clear_completed, FALSE);
  gtk_tooltips_set_tip (tooltips, button_downloads_clear_completed, "Remove completed downloads from list", NULL);

  hbox42 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox42);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox42", hbox42,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox42);
  gtk_box_pack_start (GTK_BOX (vbox16), hbox42, FALSE, TRUE, 0);

  label64 = gtk_label_new ("Maximum simultaneous downloads:");
  gtk_widget_ref (label64);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label64", label64,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label64);
  gtk_box_pack_start (GTK_BOX (hbox42), label64, FALSE, FALSE, 0);

  entry_max_downloads_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
  entry_max_downloads = gtk_spin_button_new (GTK_ADJUSTMENT (entry_max_downloads_adj), 1, 0);
  gtk_widget_ref (entry_max_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_max_downloads", entry_max_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_max_downloads);
  gtk_box_pack_start (GTK_BOX (hbox42), entry_max_downloads, FALSE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (entry_max_downloads), TRUE);

  label80 = gtk_label_new ("Max downloads from single host:");
  gtk_widget_ref (label80);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label80", label80,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label80);
  gtk_box_pack_start (GTK_BOX (hbox42), label80, FALSE, FALSE, 0);

  entry_max_host_downloads_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
  entry_max_host_downloads = gtk_spin_button_new (GTK_ADJUSTMENT (entry_max_host_downloads_adj), 1, 0);
  gtk_widget_ref (entry_max_host_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_max_host_downloads", entry_max_host_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_max_host_downloads);
  gtk_box_pack_start (GTK_BOX (hbox42), entry_max_host_downloads, FALSE, TRUE, 0);

  hbox73 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox73);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox73", hbox73,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox73);
  gtk_box_pack_start (GTK_BOX (vbox16), hbox73, FALSE, TRUE, 0);

  checkbutton_downloads_auto_clear = gtk_check_button_new_with_label ("Auto clear completed downloads");
  gtk_widget_ref (checkbutton_downloads_auto_clear);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_downloads_auto_clear", checkbutton_downloads_auto_clear,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_downloads_auto_clear);
  gtk_box_pack_start (GTK_BOX (hbox73), checkbutton_downloads_auto_clear, FALSE, FALSE, 0);

  checkbutton_downloads_never_push = gtk_check_button_new_with_label ("Never send a push request");
  gtk_widget_ref (checkbutton_downloads_never_push);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_downloads_never_push", checkbutton_downloads_never_push,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_downloads_never_push);
  gtk_box_pack_start (GTK_BOX (hbox73), checkbutton_downloads_never_push, FALSE, FALSE, 0);

  frame4 = gtk_frame_new ("Download queue");
  gtk_widget_ref (frame4);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame4", frame4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame4);
  gtk_paned_pack2 (GTK_PANED (vpaned1), frame4, TRUE, TRUE);

  vbox15 = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox15);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox15", vbox15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox15);
  gtk_container_add (GTK_CONTAINER (frame4), vbox15);
  gtk_container_set_border_width (GTK_CONTAINER (vbox15), 2);

  scrolledwindow7 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow7);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow7", scrolledwindow7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow7);
  gtk_box_pack_start (GTK_BOX (vbox15), scrolledwindow7, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow7), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_downloads_queue = gtk_clist_new (3);
  gtk_widget_ref (clist_downloads_queue);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_downloads_queue", clist_downloads_queue,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_downloads_queue);
  gtk_container_add (GTK_CONTAINER (scrolledwindow7), clist_downloads_queue);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads_queue), 0, 79);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads_queue), 1, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads_queue), 2, 80);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_downloads_queue), GTK_SELECTION_EXTENDED);
  gtk_clist_column_titles_show (GTK_CLIST (clist_downloads_queue));

  label66 = gtk_label_new ("File");
  gtk_widget_ref (label66);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label66", label66,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label66);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads_queue), 0, label66);

  label96 = gtk_label_new ("Host");
  gtk_widget_ref (label96);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label96", label96,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label96);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads_queue), 1, label96);

  label67 = gtk_label_new ("Size");
  gtk_widget_ref (label67);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label67", label67,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label67);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads_queue), 2, label67);

  hbox68 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox68);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox68", hbox68,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox68);
  gtk_box_pack_start (GTK_BOX (vbox15), hbox68, FALSE, FALSE, 0);

  button_queue_clear = gtk_button_new_with_label ("Clear queue");
  gtk_widget_ref (button_queue_clear);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_queue_clear", button_queue_clear,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_queue_clear);
  gtk_box_pack_start (GTK_BOX (hbox68), button_queue_clear, FALSE, FALSE, 0);

  togglebutton_queue_freeze = gtk_toggle_button_new_with_label ("Freeze queue");
  gtk_widget_ref (togglebutton_queue_freeze);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "togglebutton_queue_freeze", togglebutton_queue_freeze,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (togglebutton_queue_freeze);
  gtk_box_pack_start (GTK_BOX (hbox68), togglebutton_queue_freeze, FALSE, FALSE, 0);

  label_downloads = gtk_label_new ("Downloads");
  gtk_widget_ref (label_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_downloads", label_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_downloads);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 3), label_downloads);

  vbox_search = gtk_vbox_new (FALSE, 6);
  gtk_widget_ref (vbox_search);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_search", vbox_search,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_search);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox_search);

  hbox18 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox18);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox18", hbox18,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox18);
  gtk_box_pack_start (GTK_BOX (vbox_search), hbox18, FALSE, TRUE, 0);

  entry_search = gtk_entry_new ();
  gtk_widget_ref (entry_search);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_search", entry_search,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_search);
  gtk_box_pack_start (GTK_BOX (hbox18), entry_search, TRUE, TRUE, 0);

  button_search = gtk_button_new_with_label (" New search ");
  gtk_widget_ref (button_search);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search", button_search,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search);
  gtk_box_pack_start (GTK_BOX (hbox18), button_search, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_search, FALSE);

  table2 = gtk_table_new (1, 4, FALSE);
  gtk_widget_ref (table2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table2", table2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table2);
  gtk_box_pack_start (GTK_BOX (vbox_search), table2, FALSE, FALSE, 0);
  gtk_table_set_col_spacings (GTK_TABLE (table2), 8);

  button_search_close = gtk_button_new_with_label ("Close this search");
  gtk_widget_ref (button_search_close);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_close", button_search_close,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_close);
  gtk_table_attach (GTK_TABLE (table2), button_search_close, 3, 4, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (button_search_close, FALSE);

  button_search_filter = gtk_button_new_with_label ("Filter results");
  gtk_widget_ref (button_search_filter);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_filter", button_search_filter,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_filter);
  gtk_table_attach (GTK_TABLE (table2), button_search_filter, 2, 3, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);

  label79 = gtk_label_new ("Active searches:");
  gtk_widget_ref (label79);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label79", label79,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label79);
  gtk_table_attach (GTK_TABLE (table2), label79, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);

  combo_searches = gtk_combo_new ();
  gtk_widget_ref (combo_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "combo_searches", combo_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (combo_searches);
  gtk_table_attach (GTK_TABLE (table2), combo_searches, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (combo_searches, FALSE);

  combo_entry_searches = GTK_COMBO (combo_searches)->entry;
  gtk_widget_ref (combo_entry_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "combo_entry_searches", combo_entry_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (combo_entry_searches);
  gtk_entry_set_editable (GTK_ENTRY (combo_entry_searches), FALSE);

  hbox19 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox19);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox19", hbox19,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox19);
  gtk_box_pack_start (GTK_BOX (vbox_search), hbox19, FALSE, FALSE, 0);

  label_items_found = gtk_label_new ("No item found");
  gtk_widget_ref (label_items_found);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_items_found", label_items_found,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_items_found);
  gtk_box_pack_start (GTK_BOX (hbox19), label_items_found, FALSE, FALSE, 0);

  label_blank_3 = gtk_label_new ("");
  gtk_widget_ref (label_blank_3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_blank_3", label_blank_3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_blank_3);
  gtk_box_pack_start (GTK_BOX (hbox19), label_blank_3, TRUE, TRUE, 0);

  label30 = gtk_label_new ("Minimum connection speed (kbps)");
  gtk_widget_ref (label30);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label30", label30,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label30);
  gtk_box_pack_start (GTK_BOX (hbox19), label30, FALSE, FALSE, 0);

  entry_minimum_speed = gtk_entry_new ();
  gtk_widget_ref (entry_minimum_speed);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_minimum_speed", entry_minimum_speed,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_minimum_speed);
  gtk_box_pack_start (GTK_BOX (hbox19), entry_minimum_speed, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_minimum_speed, 32, -2);

  notebook_search_results = gtk_notebook_new ();
  gtk_widget_ref (notebook_search_results);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "notebook_search_results", notebook_search_results,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (notebook_search_results);
  gtk_box_pack_start (GTK_BOX (vbox_search), notebook_search_results, TRUE, TRUE, 0);
  GTK_WIDGET_UNSET_FLAGS (notebook_search_results, GTK_CAN_FOCUS);
  gtk_notebook_set_show_tabs (GTK_NOTEBOOK (notebook_search_results), FALSE);
  gtk_notebook_set_show_border (GTK_NOTEBOOK (notebook_search_results), FALSE);

  empty_notebook_page = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (empty_notebook_page);
  gtk_container_add (GTK_CONTAINER (notebook_search_results), empty_notebook_page);

  hbox20 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox20);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox20", hbox20,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox20);
  gtk_box_pack_start (GTK_BOX (vbox_search), hbox20, FALSE, TRUE, 0);

  button_search_download = gtk_button_new_with_label (" Download selected files ");
  gtk_widget_ref (button_search_download);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_download", button_search_download,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_download);
  gtk_box_pack_start (GTK_BOX (hbox20), button_search_download, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_search_download, FALSE);
  gtk_widget_add_accelerator (button_search_download, "clicked", accel_group,
                              GDK_d, GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  button_search_stream = gtk_button_new_with_label (" Stream selected files ");
  gtk_widget_ref (button_search_stream);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_stream", button_search_stream,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_stream);
  gtk_box_pack_start (GTK_BOX (hbox20), button_search_stream, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_search_stream, FALSE);

  button_search_passive = gtk_button_new_with_label ("New passive search");
  gtk_widget_ref (button_search_passive);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_passive", button_search_passive,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_passive);
  gtk_box_pack_start (GTK_BOX (hbox20), button_search_passive, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, button_search_passive, "A passive search matches any search results routed through this node", NULL);
  gtk_widget_add_accelerator (button_search_passive, "clicked", accel_group,
                              GDK_p, GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  button_search_clear = gtk_button_new_with_label ("Clear results");
  gtk_widget_ref (button_search_clear);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_clear", button_search_clear,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_clear);
  gtk_box_pack_start (GTK_BOX (hbox20), button_search_clear, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_search_clear, FALSE);
  gtk_widget_add_accelerator (button_search_clear, "clicked", accel_group,
                              GDK_c, GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  hbox52 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox52);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox52", hbox52,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox52);
  gtk_box_pack_start (GTK_BOX (vbox_search), hbox52, FALSE, TRUE, 0);

  checkbutton_search_jump_to_downloads = gtk_check_button_new_with_label ("Jump to downloads");
  gtk_widget_ref (checkbutton_search_jump_to_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_search_jump_to_downloads", checkbutton_search_jump_to_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_search_jump_to_downloads);
  gtk_box_pack_start (GTK_BOX (hbox52), checkbutton_search_jump_to_downloads, FALSE, FALSE, 0);

  checkbutton_autodownload = gtk_check_button_new_with_label ("Automatic Download");
  gtk_widget_ref (checkbutton_autodownload);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_autodownload", checkbutton_autodownload,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_autodownload);
  gtk_box_pack_start (GTK_BOX (hbox52), checkbutton_autodownload, FALSE, FALSE, 0);

  search_reissue_label = gtk_label_new ("Retry search every (seconds, 0=never):");
  gtk_widget_ref (search_reissue_label);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "search_reissue_label", search_reissue_label,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (search_reissue_label);
  gtk_box_pack_start (GTK_BOX (hbox52), search_reissue_label, TRUE, TRUE, 0);
  gtk_misc_set_alignment (GTK_MISC (search_reissue_label), 1, 0.5);

  entry_search_reissue_timeout_adj = gtk_adjustment_new (1, 0, 10000, 60, 600, 600);
  entry_search_reissue_timeout = gtk_spin_button_new (GTK_ADJUSTMENT (entry_search_reissue_timeout_adj), 1, 0);
  gtk_widget_ref (entry_search_reissue_timeout);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_search_reissue_timeout", entry_search_reissue_timeout,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_search_reissue_timeout);
  gtk_box_pack_start (GTK_BOX (hbox52), entry_search_reissue_timeout, FALSE, TRUE, 0);
  gtk_widget_set_usize (entry_search_reissue_timeout, 70, -2);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (entry_search_reissue_timeout), TRUE);

  label_search = gtk_label_new ("Search");
  gtk_widget_ref (label_search);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_search", label_search,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_search);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 4), label_search);

  vbox_monitor = gtk_vbox_new (FALSE, 10);
  gtk_widget_ref (vbox_monitor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_monitor", vbox_monitor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_monitor);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox_monitor);

  hbox45 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox45);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox45", hbox45,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox45);
  gtk_box_pack_start (GTK_BOX (vbox_monitor), hbox45, FALSE, TRUE, 0);

  checkbutton_monitor_enable = gtk_check_button_new_with_label ("Search monitor enabled");
  gtk_widget_ref (checkbutton_monitor_enable);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_monitor_enable", checkbutton_monitor_enable,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_monitor_enable);
  gtk_box_pack_start (GTK_BOX (hbox45), checkbutton_monitor_enable, FALSE, FALSE, 0);

  label75 = gtk_label_new ("");
  gtk_widget_ref (label75);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label75", label75,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label75);
  gtk_box_pack_start (GTK_BOX (hbox45), label75, TRUE, FALSE, 0);

  label68 = gtk_label_new ("Show last");
  gtk_widget_ref (label68);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label68", label68,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label68);
  gtk_box_pack_start (GTK_BOX (hbox45), label68, FALSE, FALSE, 0);

  entry_monitor_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
  entry_monitor = gtk_spin_button_new (GTK_ADJUSTMENT (entry_monitor_adj), 1, 0);
  gtk_widget_ref (entry_monitor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_monitor", entry_monitor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_monitor);
  gtk_box_pack_start (GTK_BOX (hbox45), entry_monitor, FALSE, TRUE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (entry_monitor), TRUE);

  label69 = gtk_label_new ("searches");
  gtk_widget_ref (label69);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label69", label69,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label69);
  gtk_box_pack_start (GTK_BOX (hbox45), label69, FALSE, FALSE, 0);

  scrolledwindow8 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow8);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow8", scrolledwindow8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow8);
  gtk_box_pack_start (GTK_BOX (vbox_monitor), scrolledwindow8, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow8), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_monitor = gtk_clist_new (1);
  gtk_widget_ref (clist_monitor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_monitor", clist_monitor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_monitor);
  gtk_container_add (GTK_CONTAINER (scrolledwindow8), clist_monitor);
  GTK_WIDGET_UNSET_FLAGS (clist_monitor, GTK_CAN_FOCUS);
  gtk_clist_set_column_width (GTK_CLIST (clist_monitor), 0, 80);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_monitor), GTK_SELECTION_EXTENDED);
  gtk_clist_column_titles_show (GTK_CLIST (clist_monitor));

  label70 = gtk_label_new ("Search");
  gtk_widget_ref (label70);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label70", label70,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label70);
  gtk_clist_set_column_widget (GTK_CLIST (clist_monitor), 0, label70);
  gtk_label_set_justify (GTK_LABEL (label70), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label70), 7.45058e-09, 0.5);

  label_monitor = gtk_label_new ("Monitor");
  gtk_widget_ref (label_monitor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_monitor", label_monitor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_monitor);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 5), label_monitor);

  vbox12a = gtk_vbox_new (FALSE, 5);
  gtk_widget_ref (vbox12a);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox12a", vbox12a,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox12a);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox12a);

  hbox67 = gtk_hbox_new (FALSE, 3);
  gtk_widget_ref (hbox67);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox67", hbox67,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox67);
  gtk_box_pack_start (GTK_BOX (vbox12a), hbox67, FALSE, TRUE, 0);

  checkbutton_search_stats_enable = gtk_check_button_new_with_label ("Enable Search Stats");
  gtk_widget_ref (checkbutton_search_stats_enable);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_search_stats_enable", checkbutton_search_stats_enable,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_search_stats_enable);
  gtk_box_pack_start (GTK_BOX (hbox67), checkbutton_search_stats_enable, FALSE, FALSE, 0);

  label101 = gtk_label_new ("             Update Interval (1/10s)");
  gtk_widget_ref (label101);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label101", label101,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label101);
  gtk_box_pack_start (GTK_BOX (hbox67), label101, TRUE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label101), GTK_JUSTIFY_RIGHT);

  entry_search_stats_update_interval = gtk_entry_new ();
  gtk_widget_ref (entry_search_stats_update_interval);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_search_stats_update_interval", entry_search_stats_update_interval,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_search_stats_update_interval);
  gtk_box_pack_start (GTK_BOX (hbox67), entry_search_stats_update_interval, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_search_stats_update_interval, 40, -2);

  label102 = gtk_label_new ("  Deletion Coeff. (0-100)");
  gtk_widget_ref (label102);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label102", label102,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label102);
  gtk_box_pack_start (GTK_BOX (hbox67), label102, TRUE, TRUE, 0);
  gtk_label_set_justify (GTK_LABEL (label102), GTK_JUSTIFY_RIGHT);

  entry_search_stats_delcoef = gtk_entry_new ();
  gtk_widget_ref (entry_search_stats_delcoef);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_search_stats_delcoef", entry_search_stats_delcoef,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_search_stats_delcoef);
  gtk_box_pack_end (GTK_BOX (hbox67), entry_search_stats_delcoef, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_search_stats_delcoef, 32, -2);

  scrolledwindow10 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow10);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow10", scrolledwindow10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow10);
  gtk_box_pack_start (GTK_BOX (vbox12a), scrolledwindow10, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow10), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_search_stats = gtk_clist_new (3);
  gtk_widget_ref (clist_search_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_search_stats", clist_search_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_search_stats);
  gtk_container_add (GTK_CONTAINER (scrolledwindow10), clist_search_stats);
  gtk_clist_set_column_width (GTK_CLIST (clist_search_stats), 0, 287);
  gtk_clist_set_column_width (GTK_CLIST (clist_search_stats), 1, 93);
  gtk_clist_set_column_width (GTK_CLIST (clist_search_stats), 2, 80);
  gtk_clist_column_titles_show (GTK_CLIST (clist_search_stats));

  label105 = gtk_label_new ("Search Term");
  gtk_widget_ref (label105);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label105", label105,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label105);
  gtk_clist_set_column_widget (GTK_CLIST (clist_search_stats), 0, label105);
  gtk_misc_set_alignment (GTK_MISC (label105), 7.45058e-09, 0.5);

  label106 = gtk_label_new ("This Interval");
  gtk_widget_ref (label106);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label106", label106,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label106);
  gtk_clist_set_column_widget (GTK_CLIST (clist_search_stats), 1, label106);

  label107 = gtk_label_new ("Total");
  gtk_widget_ref (label107);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label107", label107,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label107);
  gtk_clist_set_column_widget (GTK_CLIST (clist_search_stats), 2, label107);

  alignment1 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "alignment1", alignment1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment1);
  gtk_box_pack_start (GTK_BOX (vbox12a), alignment1, FALSE, FALSE, 0);

  hbox66 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox66);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox66", hbox66,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox66);
  gtk_container_add (GTK_CONTAINER (alignment1), hbox66);

  button_search_stats_reset = gtk_button_new_with_label ("  Reset Stats  ");
  gtk_widget_ref (button_search_stats_reset);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_stats_reset", button_search_stats_reset,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_stats_reset);
  gtk_box_pack_start (GTK_BOX (hbox66), button_search_stats_reset, FALSE, FALSE, 0);

  label_search_stats_count = gtk_label_new ("0");
  gtk_widget_ref (label_search_stats_count);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_search_stats_count", label_search_stats_count,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_search_stats_count);
  gtk_box_pack_end (GTK_BOX (hbox66), label_search_stats_count, FALSE, FALSE, 0);
  gtk_widget_set_usize (label_search_stats_count, 48, -2);
  gtk_label_set_justify (GTK_LABEL (label_search_stats_count), GTK_JUSTIFY_RIGHT);

  label98 = gtk_label_new ("Search Stats");
  gtk_widget_ref (label98);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label98", label98,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label98);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 6), label98);

  notebook1 = gtk_notebook_new ();
  gtk_widget_ref (notebook1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "notebook1", notebook1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (notebook1);
  gtk_container_add (GTK_CONTAINER (notebook_main), notebook1);

  vbox24 = gtk_vbox_new (FALSE, 2);
  gtk_widget_ref (vbox24);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox24", vbox24,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox24);
  gtk_container_add (GTK_CONTAINER (notebook1), vbox24);
  gtk_container_set_border_width (GTK_CONTAINER (vbox24), 2);

  frame13 = gtk_frame_new ("IP settings");
  gtk_widget_ref (frame13);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame13", frame13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame13);
  gtk_box_pack_start (GTK_BOX (vbox24), frame13, FALSE, TRUE, 0);

  vbox30 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox30);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox30", vbox30,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox30);
  gtk_container_add (GTK_CONTAINER (frame13), vbox30);
  gtk_container_set_border_width (GTK_CONTAINER (vbox30), 4);

  hbox79 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox79);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox79", hbox79,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox79);
  gtk_box_pack_start (GTK_BOX (vbox30), hbox79, FALSE, TRUE, 0);

  label128 = gtk_label_new ("Current IP settings (Address:Port):");
  gtk_widget_ref (label128);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label128", label128,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label128);
  gtk_box_pack_start (GTK_BOX (hbox79), label128, FALSE, FALSE, 0);

  label_current_port = gtk_label_new ("not yet determined");
  gtk_widget_ref (label_current_port);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_current_port", label_current_port,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_current_port);
  gtk_box_pack_start (GTK_BOX (hbox79), label_current_port, FALSE, FALSE, 0);

  hseparator2 = gtk_hseparator_new ();
  gtk_widget_ref (hseparator2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hseparator2", hseparator2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hseparator2);
  gtk_box_pack_start (GTK_BOX (vbox30), hseparator2, FALSE, TRUE, 3);

  table5 = gtk_table_new (2, 4, FALSE);
  gtk_widget_ref (table5);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table5", table5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table5);
  gtk_box_pack_start (GTK_BOX (vbox30), table5, TRUE, TRUE, 0);
  gtk_table_set_row_spacings (GTK_TABLE (table5), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table5), 4);

  checkbutton_config_force_ip = gtk_check_button_new_with_label ("Force local IP to:");
  gtk_widget_ref (checkbutton_config_force_ip);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_config_force_ip", checkbutton_config_force_ip,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_config_force_ip);
  gtk_table_attach (GTK_TABLE (table5), checkbutton_config_force_ip, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label129 = gtk_label_new ("Listen port");
  gtk_widget_ref (label129);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label129", label129,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label129);
  gtk_table_attach (GTK_TABLE (table5), label129, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label129), 0, 0.5);

  label35 = gtk_label_new ("Default : 6346, Disable : 0");
  gtk_widget_ref (label35);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label35", label35,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label35);
  gtk_table_attach (GTK_TABLE (table5), label35, 3, 4, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  button_config_update_port = gtk_button_new_with_label (" Update ");
  gtk_widget_ref (button_config_update_port);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_config_update_port", button_config_update_port,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_config_update_port);
  gtk_table_attach (GTK_TABLE (table5), button_config_update_port, 2, 3, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (button_config_update_port, FALSE);
  GTK_WIDGET_UNSET_FLAGS (button_config_update_port, GTK_CAN_FOCUS);

  entry_config_force_ip = gtk_entry_new ();
  gtk_widget_ref (entry_config_force_ip);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_force_ip", entry_config_force_ip,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_force_ip);
  gtk_table_attach (GTK_TABLE (table5), entry_config_force_ip, 1, 3, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  entry_config_port = gtk_entry_new ();
  gtk_widget_ref (entry_config_port);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_port", entry_config_port,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_port);
  gtk_table_attach (GTK_TABLE (table5), entry_config_port, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_usize (entry_config_port, 64, -2);

  frame_proxy_settings = gtk_frame_new ("Proxy settings");
  gtk_widget_ref (frame_proxy_settings);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_proxy_settings", frame_proxy_settings,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_proxy_settings);
  gtk_box_pack_start (GTK_BOX (vbox24), frame_proxy_settings, FALSE, TRUE, 0);

  vbox28 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox28);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox28", vbox28,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox28);
  gtk_container_add (GTK_CONTAINER (frame_proxy_settings), vbox28);
  gtk_container_set_border_width (GTK_CONTAINER (vbox28), 4);

  checkbutton_config_proxy_connections = gtk_check_button_new_with_label ("Use proxy to connect to the internet");
  gtk_widget_ref (checkbutton_config_proxy_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_config_proxy_connections", checkbutton_config_proxy_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_config_proxy_connections);
  gtk_box_pack_start (GTK_BOX (vbox28), checkbutton_config_proxy_connections, FALSE, FALSE, 0);

  hbox59 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox59);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox59", hbox59,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox59);
  gtk_box_pack_start (GTK_BOX (vbox28), hbox59, FALSE, TRUE, 0);

  label90 = gtk_label_new ("Proxy type:");
  gtk_widget_ref (label90);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label90", label90,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label90);
  gtk_box_pack_start (GTK_BOX (hbox59), label90, FALSE, FALSE, 0);

  radio_config_http = gtk_radio_button_new_with_label (socks_version_group, "http");
  socks_version_group = gtk_radio_button_group (GTK_RADIO_BUTTON (radio_config_http));
  gtk_widget_ref (radio_config_http);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "radio_config_http", radio_config_http,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (radio_config_http);
  gtk_box_pack_start (GTK_BOX (hbox59), radio_config_http, FALSE, FALSE, 0);

  radio_config_socksv4 = gtk_radio_button_new_with_label (socks_version_group, "v4");
  socks_version_group = gtk_radio_button_group (GTK_RADIO_BUTTON (radio_config_socksv4));
  gtk_widget_ref (radio_config_socksv4);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "radio_config_socksv4", radio_config_socksv4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (radio_config_socksv4);
  gtk_box_pack_start (GTK_BOX (hbox59), radio_config_socksv4, FALSE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (radio_config_socksv4), TRUE);

  radio_config_socksv5 = gtk_radio_button_new_with_label (socks_version_group, "v5");
  socks_version_group = gtk_radio_button_group (GTK_RADIO_BUTTON (radio_config_socksv5));
  gtk_widget_ref (radio_config_socksv5);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "radio_config_socksv5", radio_config_socksv5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (radio_config_socksv5);
  gtk_box_pack_start (GTK_BOX (hbox59), radio_config_socksv5, FALSE, FALSE, 0);

  hbox60 = gtk_hbox_new (FALSE, 5);
  gtk_widget_ref (hbox60);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox60", hbox60,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox60);
  gtk_box_pack_start (GTK_BOX (vbox28), hbox60, FALSE, TRUE, 0);

  label91 = gtk_label_new ("Host:");
  gtk_widget_ref (label91);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label91", label91,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label91);
  gtk_box_pack_start (GTK_BOX (hbox60), label91, FALSE, FALSE, 0);

  entry_config_socks_host = gtk_entry_new ();
  gtk_widget_ref (entry_config_socks_host);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_socks_host", entry_config_socks_host,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_socks_host);
  gtk_box_pack_start (GTK_BOX (hbox60), entry_config_socks_host, FALSE, FALSE, 0);

  label92 = gtk_label_new ("Port:");
  gtk_widget_ref (label92);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label92", label92,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label92);
  gtk_box_pack_start (GTK_BOX (hbox60), label92, FALSE, FALSE, 0);

  entry_config_socks_port = gtk_entry_new ();
  gtk_widget_ref (entry_config_socks_port);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_socks_port", entry_config_socks_port,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_socks_port);
  gtk_box_pack_start (GTK_BOX (hbox60), entry_config_socks_port, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_config_socks_port, 43, -2);

  checkbutton_config_proxy_auth = gtk_check_button_new_with_label ("Use username and password to authenticate to proxy");
  gtk_widget_ref (checkbutton_config_proxy_auth);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_config_proxy_auth", checkbutton_config_proxy_auth,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_config_proxy_auth);
  gtk_box_pack_start (GTK_BOX (vbox28), checkbutton_config_proxy_auth, FALSE, FALSE, 0);

  hbox61 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox61);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox61", hbox61,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox61);
  gtk_box_pack_start (GTK_BOX (vbox28), hbox61, FALSE, TRUE, 0);

  label93 = gtk_label_new ("Username:");
  gtk_widget_ref (label93);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label93", label93,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label93);
  gtk_box_pack_start (GTK_BOX (hbox61), label93, FALSE, FALSE, 4);

  entry_config_socks_username = gtk_entry_new ();
  gtk_widget_ref (entry_config_socks_username);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_socks_username", entry_config_socks_username,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_socks_username);
  gtk_box_pack_start (GTK_BOX (hbox61), entry_config_socks_username, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_config_socks_username, 82, -2);

  label94 = gtk_label_new ("Password:");
  gtk_widget_ref (label94);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label94", label94,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label94);
  gtk_box_pack_start (GTK_BOX (hbox61), label94, FALSE, FALSE, 2);

  entry_config_socks_password = gtk_entry_new ();
  gtk_widget_ref (entry_config_socks_password);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_socks_password", entry_config_socks_password,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_socks_password);
  gtk_box_pack_start (GTK_BOX (hbox61), entry_config_socks_password, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_config_socks_password, 82, -2);

  frame11 = gtk_frame_new ("Local Networks");
  gtk_widget_ref (frame11);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame11", frame11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame11);
  gtk_box_pack_start (GTK_BOX (vbox24), frame11, FALSE, TRUE, 0);

  vbox23_2 = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox23_2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox23_2", vbox23_2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox23_2);
  gtk_container_add (GTK_CONTAINER (frame11), vbox23_2);
  gtk_container_set_border_width (GTK_CONTAINER (vbox23_2), 4);

  hbox77 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox77);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox77", hbox77,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox77);
  gtk_box_pack_start (GTK_BOX (vbox23_2), hbox77, FALSE, FALSE, 0);

  checkbutton_config_use_netmasks = gtk_check_button_new_with_label ("Try to connect to local networks first");
  gtk_widget_ref (checkbutton_config_use_netmasks);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_config_use_netmasks", checkbutton_config_use_netmasks,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_config_use_netmasks);
  gtk_box_pack_start (GTK_BOX (hbox77), checkbutton_config_use_netmasks, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_config_use_netmasks, "This option can give peformance boosts to those on a large WAN with many peers (such as a university). Enter the networks of nearby dorms and peered networks to take advantage of this", NULL);

  hbox78 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox78);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox78", hbox78,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox78);
  gtk_box_pack_start (GTK_BOX (vbox23_2), hbox78, FALSE, FALSE, 0);

  eventbox1 = gtk_event_box_new ();
  gtk_widget_ref (eventbox1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "eventbox1", eventbox1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (eventbox1);
  gtk_box_pack_start (GTK_BOX (hbox78), eventbox1, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, eventbox1, "Enter a semicolon separated list of networks that are local to you in the form of ip/bits or ip/netmask (eg 192.168.0.0/24 or 192.168.1.0/255.255.255.0)", NULL);

  label126_2 = gtk_label_new ("Addresses of Local Network(s): ");
  gtk_widget_ref (label126_2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label126_2", label126_2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label126_2);
  gtk_container_add (GTK_CONTAINER (eventbox1), label126_2);

  entry_config_netmasks = gtk_entry_new ();
  gtk_widget_ref (entry_config_netmasks);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_netmasks", entry_config_netmasks,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_netmasks);
  gtk_box_pack_start (GTK_BOX (hbox78), entry_config_netmasks, TRUE, TRUE, 0);
  gtk_tooltips_set_tip (tooltips, entry_config_netmasks, "Enter a semicolon separated list of networks that are local to you in the form of ip/bits or ip/netmask (eg 192.168.1.0/24 or 192.168.1.0/255.255.255.0)", NULL);

  label119 = gtk_label_new ("Connection\nsettings");
  gtk_widget_ref (label119);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label119", label119,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label119);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 0), label119);

  vbox23 = gtk_vbox_new (FALSE, 2);
  gtk_widget_ref (vbox23);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox23", vbox23,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox23);
  gtk_container_add (GTK_CONTAINER (notebook1), vbox23);
  gtk_container_set_border_width (GTK_CONTAINER (vbox23), 2);

  frame_save_new_files = gtk_frame_new ("While downloading, store files to:");
  gtk_widget_ref (frame_save_new_files);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_save_new_files", frame_save_new_files,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_save_new_files);
  gtk_box_pack_start (GTK_BOX (vbox23), frame_save_new_files, FALSE, TRUE, 0);

  table_save_files_button = gtk_table_new (1, 1, FALSE);
  gtk_widget_ref (table_save_files_button);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table_save_files_button", table_save_files_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table_save_files_button);
  gtk_container_add (GTK_CONTAINER (frame_save_new_files), table_save_files_button);
  gtk_container_set_border_width (GTK_CONTAINER (table_save_files_button), 4);

  button_config_save_path = gtk_button_new_with_label ("");
  gtk_widget_ref (button_config_save_path);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_config_save_path", button_config_save_path,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_config_save_path);
  gtk_table_attach (GTK_TABLE (table_save_files_button), button_config_save_path, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);

  frame_move_downloaded_files = gtk_frame_new ("Move downloaded files to:");
  gtk_widget_ref (frame_move_downloaded_files);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_move_downloaded_files", frame_move_downloaded_files,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_move_downloaded_files);
  gtk_box_pack_start (GTK_BOX (vbox23), frame_move_downloaded_files, FALSE, TRUE, 0);

  table_move_files_button = gtk_table_new (1, 1, FALSE);
  gtk_widget_ref (table_move_files_button);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table_move_files_button", table_move_files_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table_move_files_button);
  gtk_container_add (GTK_CONTAINER (frame_move_downloaded_files), table_move_files_button);
  gtk_container_set_border_width (GTK_CONTAINER (table_move_files_button), 4);

  button_config_move_path = gtk_button_new_with_label ("");
  gtk_widget_ref (button_config_move_path);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_config_move_path", button_config_move_path,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_config_move_path);
  gtk_table_attach (GTK_TABLE (table_move_files_button), button_config_move_path, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);

  frame_path_to_files = gtk_frame_new ("Path(s) to files");
  gtk_widget_ref (frame_path_to_files);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_path_to_files", frame_path_to_files,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_path_to_files);
  gtk_box_pack_start (GTK_BOX (vbox23), frame_path_to_files, FALSE, TRUE, 0);

  vbox_path_to_files = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox_path_to_files);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_path_to_files", vbox_path_to_files,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_path_to_files);
  gtk_container_add (GTK_CONTAINER (frame_path_to_files), vbox_path_to_files);
  gtk_container_set_border_width (GTK_CONTAINER (vbox_path_to_files), 4);

  entry_config_path = gtk_entry_new ();
  gtk_widget_ref (entry_config_path);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_path", entry_config_path,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_path);
  gtk_box_pack_start (GTK_BOX (vbox_path_to_files), entry_config_path, FALSE, FALSE, 0);

  hbox_path_buttons = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox_path_buttons);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_path_buttons", hbox_path_buttons,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_path_buttons);
  gtk_box_pack_start (GTK_BOX (vbox_path_to_files), hbox_path_buttons, FALSE, FALSE, 0);

  button_config_add_dir = gtk_button_new_with_label (" Add directory ");
  gtk_widget_ref (button_config_add_dir);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_config_add_dir", button_config_add_dir,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_config_add_dir);
  gtk_box_pack_start (GTK_BOX (hbox_path_buttons), button_config_add_dir, FALSE, FALSE, 0);

  label_files_scanned = gtk_label_new ("Files scanned : ");
  gtk_widget_ref (label_files_scanned);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_files_scanned", label_files_scanned,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_files_scanned);
  gtk_box_pack_start (GTK_BOX (hbox_path_buttons), label_files_scanned, FALSE, FALSE, 0);

  label42 = gtk_label_new ("");
  gtk_widget_ref (label42);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label42", label42,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label42);
  gtk_box_pack_start (GTK_BOX (hbox_path_buttons), label42, TRUE, FALSE, 0);

  button_config_rescan_dir = gtk_button_new_with_label (" Rescan ");
  gtk_widget_ref (button_config_rescan_dir);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_config_rescan_dir", button_config_rescan_dir,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_config_rescan_dir);
  gtk_box_pack_start (GTK_BOX (hbox_path_buttons), button_config_rescan_dir, FALSE, FALSE, 0);

  hbox27 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox27);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox27", hbox27,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox27);
  gtk_box_pack_start (GTK_BOX (vbox_path_to_files), hbox27, FALSE, TRUE, 0);

  label41 = gtk_label_new ("Search extensions:");
  gtk_widget_ref (label41);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label41", label41,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label41);
  gtk_box_pack_start (GTK_BOX (hbox27), label41, FALSE, FALSE, 0);

  entry_config_extensions = gtk_entry_new ();
  gtk_widget_ref (entry_config_extensions);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_extensions", entry_config_extensions,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_extensions);
  gtk_box_pack_start (GTK_BOX (hbox27), entry_config_extensions, TRUE, TRUE, 0);

  label120 = gtk_label_new ("File\nsharing");
  gtk_widget_ref (label120);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label120", label120,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label120);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 1), label120);

  vbox29 = gtk_vbox_new (FALSE, 2);
  gtk_widget_ref (vbox29);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox29", vbox29,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox29);
  gtk_container_add (GTK_CONTAINER (notebook1), vbox29);
  gtk_container_set_border_width (GTK_CONTAINER (vbox29), 2);

  frame12 = gtk_frame_new ("Bandwidth settings");
  gtk_widget_ref (frame12);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame12", frame12,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame12);
  gtk_box_pack_start (GTK_BOX (vbox29), frame12, FALSE, TRUE, 0);

  vbox27 = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox27);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox27", vbox27,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox27);
  gtk_container_add (GTK_CONTAINER (frame12), vbox27);
  gtk_container_set_border_width (GTK_CONTAINER (vbox27), 4);

  table4 = gtk_table_new (2, 3, FALSE);
  gtk_widget_ref (table4);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table4", table4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table4);
  gtk_box_pack_start (GTK_BOX (vbox27), table4, FALSE, FALSE, 0);
  gtk_table_set_row_spacings (GTK_TABLE (table4), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table4), 4);

  label123 = gtk_label_new ("Input bandwidth limit");
  gtk_widget_ref (label123);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label123", label123,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label123);
  gtk_table_attach (GTK_TABLE (table4), label123, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label123), 0, 0.5);

  label124 = gtk_label_new ("Output bandwidth limit");
  gtk_widget_ref (label124);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label124", label124,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label124);
  gtk_table_attach (GTK_TABLE (table4), label124, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label124), 0, 0.5);

  label125 = gtk_label_new ("bps");
  gtk_widget_ref (label125);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label125", label125,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label125);
  gtk_table_attach (GTK_TABLE (table4), label125, 2, 3, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label125), 0, 0.5);

  label126 = gtk_label_new ("bps");
  gtk_widget_ref (label126);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label126", label126,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label126);
  gtk_table_attach (GTK_TABLE (table4), label126, 2, 3, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label126), 0, 0.5);

  spinbutton_config_bps_in_adj = gtk_adjustment_new (0, 0, 2e+06, 1, 1024, 1024);
  spinbutton_config_bps_in = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_config_bps_in_adj), 1, 0);
  gtk_widget_ref (spinbutton_config_bps_in);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "spinbutton_config_bps_in", spinbutton_config_bps_in,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton_config_bps_in);
  gtk_table_attach (GTK_TABLE (table4), spinbutton_config_bps_in, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_usize (spinbutton_config_bps_in, 100, -2);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton_config_bps_in), TRUE);

  spinbutton_config_bps_out_adj = gtk_adjustment_new (0, 0, 2e+06, 1, 1024, 1024);
  spinbutton_config_bps_out = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_config_bps_out_adj), 1, 0);
  gtk_widget_ref (spinbutton_config_bps_out);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "spinbutton_config_bps_out", spinbutton_config_bps_out,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton_config_bps_out);
  gtk_table_attach (GTK_TABLE (table4), spinbutton_config_bps_out, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_usize (spinbutton_config_bps_out, 100, -2);

  label127 = gtk_label_new ("Due to the current implementation limitations,\nthis does not affect Gnet traffic.");
  gtk_widget_ref (label127);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label127", label127,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label127);
  gtk_box_pack_start (GTK_BOX (vbox27), label127, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label127), GTK_JUSTIFY_FILL);
  gtk_misc_set_alignment (GTK_MISC (label127), 7.45058e-09, 0.5);

  label121 = gtk_label_new ("Bandwidth\ncontrol");
  gtk_widget_ref (label121);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label121", label121,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label121);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 2), label121);

  vbox25 = gtk_vbox_new (FALSE, 2);
  gtk_widget_ref (vbox25);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox25", vbox25,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox25);
  gtk_container_add (GTK_CONTAINER (notebook1), vbox25);
  gtk_container_set_border_width (GTK_CONTAINER (vbox25), 2);

  frame_connection_speed = gtk_frame_new ("Connection speed");
  gtk_widget_ref (frame_connection_speed);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_connection_speed", frame_connection_speed,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_connection_speed);
  gtk_box_pack_start (GTK_BOX (vbox25), frame_connection_speed, FALSE, TRUE, 0);

  vbox_connection_speed = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_connection_speed);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_connection_speed", vbox_connection_speed,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_connection_speed);
  gtk_container_add (GTK_CONTAINER (frame_connection_speed), vbox_connection_speed);
  gtk_container_set_border_width (GTK_CONTAINER (vbox_connection_speed), 4);

  vbox22 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox22);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox22", vbox22,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox22);
  gtk_box_pack_start (GTK_BOX (vbox_connection_speed), vbox22, TRUE, TRUE, 0);

  hbox_speed_kpbs = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox_speed_kpbs);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_speed_kpbs", hbox_speed_kpbs,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_speed_kpbs);
  gtk_box_pack_start (GTK_BOX (vbox22), hbox_speed_kpbs, TRUE, TRUE, 0);

  entry_config_speed = gtk_entry_new ();
  gtk_widget_ref (entry_config_speed);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_speed", entry_config_speed,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_speed);
  gtk_box_pack_start (GTK_BOX (hbox_speed_kpbs), entry_config_speed, FALSE, TRUE, 0);
  gtk_widget_set_usize (entry_config_speed, 48, -2);

  label36 = gtk_label_new ("kbits/s");
  gtk_widget_ref (label36);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label36", label36,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label36);
  gtk_box_pack_start (GTK_BOX (hbox_speed_kpbs), label36, FALSE, FALSE, 0);

  checkbutton_config_throttle = gtk_check_button_new_with_label ("Throttle uploads");
  gtk_widget_ref (checkbutton_config_throttle);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_config_throttle", checkbutton_config_throttle,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_config_throttle);
  gtk_box_pack_start (GTK_BOX (vbox22), checkbutton_config_throttle, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (checkbutton_config_throttle, FALSE);

  frame1 = gtk_frame_new ("gnutellaNet TTL settings");
  gtk_widget_ref (frame1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame1", frame1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame1);
  gtk_box_pack_start (GTK_BOX (vbox25), frame1, FALSE, TRUE, 0);
  gtk_widget_set_usize (frame1, 178, -2);

  hbox56 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox56);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox56", hbox56,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox56);
  gtk_container_add (GTK_CONTAINER (frame1), hbox56);

  label84 = gtk_label_new ("Max TTL:");
  gtk_widget_ref (label84);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label84", label84,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label84);
  gtk_box_pack_start (GTK_BOX (hbox56), label84, FALSE, FALSE, 2);

  entry_config_maxttl = gtk_entry_new ();
  gtk_widget_ref (entry_config_maxttl);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_maxttl", entry_config_maxttl,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_maxttl);
  gtk_box_pack_start (GTK_BOX (hbox56), entry_config_maxttl, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_config_maxttl, 32, -2);

  label85 = gtk_label_new ("My TTL:");
  gtk_widget_ref (label85);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label85", label85,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label85);
  gtk_box_pack_start (GTK_BOX (hbox56), label85, FALSE, FALSE, 7);
  gtk_widget_set_usize (label85, 46, -2);

  entry_config_myttl = gtk_entry_new ();
  gtk_widget_ref (entry_config_myttl);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_myttl", entry_config_myttl,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_myttl);
  gtk_box_pack_start (GTK_BOX (hbox56), entry_config_myttl, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_config_myttl, 32, -2);

  frame_searches = gtk_frame_new ("Searches");
  gtk_widget_ref (frame_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_searches", frame_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_searches);
  gtk_box_pack_start (GTK_BOX (vbox25), frame_searches, FALSE, TRUE, 0);

  vbox_searches = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_searches", vbox_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_searches);
  gtk_container_add (GTK_CONTAINER (frame_searches), vbox_searches);
  gtk_container_set_border_width (GTK_CONTAINER (vbox_searches), 4);

  hbox_limit_search_results = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox_limit_search_results);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_limit_search_results", hbox_limit_search_results,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_limit_search_results);
  gtk_box_pack_start (GTK_BOX (vbox_searches), hbox_limit_search_results, TRUE, TRUE, 0);

  label37 = gtk_label_new ("Limit search results to ");
  gtk_widget_ref (label37);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label37", label37,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label37);
  gtk_box_pack_start (GTK_BOX (hbox_limit_search_results), label37, FALSE, FALSE, 0);

  entry_config_search_items = gtk_entry_new ();
  gtk_widget_ref (entry_config_search_items);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_search_items", entry_config_search_items,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_search_items);
  gtk_box_pack_start (GTK_BOX (hbox_limit_search_results), entry_config_search_items, FALSE, TRUE, 0);
  gtk_widget_set_usize (entry_config_search_items, 32, -2);

  label38 = gtk_label_new ("items");
  gtk_widget_ref (label38);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label38", label38,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label38);
  gtk_box_pack_start (GTK_BOX (hbox_limit_search_results), label38, FALSE, FALSE, 0);

  label39 = gtk_label_new ("(This limits how many results gnutella returns to other people searching your files)");
  gtk_widget_ref (label39);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label39", label39,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label39);
  gtk_box_pack_start (GTK_BOX (vbox_searches), label39, TRUE, TRUE, 0);
  gtk_label_set_line_wrap (GTK_LABEL (label39), TRUE);

  label122 = gtk_label_new ("Gnutella\noptions");
  gtk_widget_ref (label122);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label122", label122,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label122);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 3), label122);

  label_config = gtk_label_new ("Config");
  gtk_widget_ref (label_config);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_config", label_config,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_config);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 7), label_config);

  hbox_statusbar = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox_statusbar);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_statusbar", hbox_statusbar,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_statusbar);
  gtk_box_pack_start (GTK_BOX (vbox12), hbox_statusbar, FALSE, FALSE, 0);

  statusbar = gtk_statusbar_new ();
  gtk_widget_ref (statusbar);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "statusbar", statusbar,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (statusbar);
  gtk_box_pack_start (GTK_BOX (hbox_statusbar), statusbar, TRUE, TRUE, 0);

  label_statusbar_uptime = gtk_label_new ("Uptime");
  gtk_widget_ref (label_statusbar_uptime);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_statusbar_uptime", label_statusbar_uptime,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_statusbar_uptime);
  gtk_box_pack_start (GTK_BOX (hbox_statusbar), label_statusbar_uptime, FALSE, FALSE, 0);

  gtk_signal_connect (GTK_OBJECT (main_window), "delete_event",
                      GTK_SIGNAL_FUNC (on_main_window_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (quit), "activate",
                      GTK_SIGNAL_FUNC (on_button_quit_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (menu_toolbar_visible), "activate",
                      GTK_SIGNAL_FUNC (on_menu_toolbar_visible_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (menu_statusbar_visible), "activate",
                      GTK_SIGNAL_FUNC (on_menu_statusbar_visible_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (menu_downloads_visible), "activate",
                      GTK_SIGNAL_FUNC (on_menu_downloads_visible_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (menu_uploads_visible), "activate",
                      GTK_SIGNAL_FUNC (on_menu_uploads_visible_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (menu_connections_visible), "activate",
                      GTK_SIGNAL_FUNC (on_menu_connections_visible_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (menu_bps_in_visible), "activate",
                      GTK_SIGNAL_FUNC (on_menu_bps_in_visible_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (menu_bps_out_visible), "activate",
                      GTK_SIGNAL_FUNC (on_menu_bps_out_visible_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_quit), "clicked",
                      GTK_SIGNAL_FUNC (on_button_quit_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (ctree_menu), "tree_select_row",
                      GTK_SIGNAL_FUNC (on_ctree_menu_tree_select_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (progressbar_bps_in), "button_press_event",
                      GTK_SIGNAL_FUNC (on_progressbar_bps_in_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (progressbar_bps_out), "button_press_event",
                      GTK_SIGNAL_FUNC (on_progressbar_bps_out_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_nodes), "select_row",
                      GTK_SIGNAL_FUNC (on_clist_nodes_select_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_nodes), "unselect_row",
                      GTK_SIGNAL_FUNC (on_clist_nodes_unselect_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_nodes), "button_press_event",
                      GTK_SIGNAL_FUNC (on_clist_nodes_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_nodes), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_nodes_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_nodes_remove), "clicked",
                      GTK_SIGNAL_FUNC (on_button_nodes_remove_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_nodes_add), "clicked",
                      GTK_SIGNAL_FUNC (on_button_nodes_add_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_host), "changed",
                      GTK_SIGNAL_FUNC (on_entry_host_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_host), "activate",
                      GTK_SIGNAL_FUNC (on_entry_host_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_up_connections), "activate",
                      GTK_SIGNAL_FUNC (on_entry_up_connections_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_up_connections), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_up_connections_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_connections), "activate",
                      GTK_SIGNAL_FUNC (on_entry_max_connections_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_connections), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_max_connections_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_host_catcher_clear), "clicked",
                      GTK_SIGNAL_FUNC (on_button_host_catcher_clear_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_uploads), "select_row",
                      GTK_SIGNAL_FUNC (on_clist_uploads_select_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_uploads), "unselect_row",
                      GTK_SIGNAL_FUNC (on_clist_uploads_unselect_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_uploads), "click_column",
                      GTK_SIGNAL_FUNC (on_clist_uploads_click_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_uploads), "button_press_event",
                      GTK_SIGNAL_FUNC (on_clist_uploads_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_uploads), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_uploads_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_uploads_kill), "clicked",
                      GTK_SIGNAL_FUNC (on_button_uploads_kill_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_uploads_clear_completed), "clicked",
                      GTK_SIGNAL_FUNC (on_button_uploads_clear_completed_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_uploads_auto_clear), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_uploads_auto_clear_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_uploads), "activate",
                      GTK_SIGNAL_FUNC (on_entry_max_uploads_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_uploads), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_max_uploads_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_ul_stats), "click_column",
                      GTK_SIGNAL_FUNC (on_clist_ul_stats_click_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_ul_stats), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_ul_stats_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_ul_stats_clear_deleted), "clicked",
                      GTK_SIGNAL_FUNC (on_button_ul_stats_clear_deleted_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_ul_stats_clear_all), "clicked",
                      GTK_SIGNAL_FUNC (on_button_ul_stats_clear_all_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads), "unselect_row",
                      GTK_SIGNAL_FUNC (on_clist_downloads_unselect_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads), "select_row",
                      GTK_SIGNAL_FUNC (on_clist_downloads_select_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads), "button_press_event",
                      GTK_SIGNAL_FUNC (on_clist_downloads_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_downloads_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_downloads_abort), "clicked",
                      GTK_SIGNAL_FUNC (on_button_downloads_abort_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_downloads_resume), "clicked",
                      GTK_SIGNAL_FUNC (on_button_downloads_resume_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_downloads_clear_completed), "clicked",
                      GTK_SIGNAL_FUNC (on_button_downloads_clear_completed_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_downloads), "activate",
                      GTK_SIGNAL_FUNC (on_entry_max_downloads_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_downloads), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_max_downloads_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_host_downloads), "activate",
                      GTK_SIGNAL_FUNC (on_entry_max_host_downloads_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_host_downloads), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_max_host_downloads_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_downloads_auto_clear), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_downloads_auto_clear_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_downloads_never_push), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_downloads_never_push_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads_queue), "select_row",
                      GTK_SIGNAL_FUNC (on_clist_downloads_queue_select_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads_queue), "unselect_row",
                      GTK_SIGNAL_FUNC (on_clist_downloads_queue_unselect_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads_queue), "button_press_event",
                      GTK_SIGNAL_FUNC (on_clist_downloads_queue_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads_queue), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_downloads_queue_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_queue_clear), "clicked",
                      GTK_SIGNAL_FUNC (on_button_queue_clear_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (togglebutton_queue_freeze), "toggled",
                      GTK_SIGNAL_FUNC (on_togglebutton_queue_freeze_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search), "changed",
                      GTK_SIGNAL_FUNC (on_entry_search_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search), "activate",
                      GTK_SIGNAL_FUNC (on_entry_search_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_close), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_close_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_filter), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_filter_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_minimum_speed), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_minimum_speed_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_minimum_speed), "activate",
                      GTK_SIGNAL_FUNC (on_entry_minimum_speed_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_download), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_download_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_stream), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_stream_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_passive), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_passive_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_clear), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_clear_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_search_jump_to_downloads), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_search_jump_to_downloads_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_autodownload), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_autodownload_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_reissue_timeout), "activate",
                      GTK_SIGNAL_FUNC (on_entry_search_reissue_timeout_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_reissue_timeout), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_search_reissue_timeout_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_monitor_enable), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_monitor_enable_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_monitor), "activate",
                      GTK_SIGNAL_FUNC (on_entry_monitor_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_monitor), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_monitor_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_monitor), "button_press_event",
                      GTK_SIGNAL_FUNC (on_clist_monitor_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_search_stats_enable), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_search_stats_enable_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_stats_update_interval), "activate",
                      GTK_SIGNAL_FUNC (on_entry_search_stats_update_interval_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_stats_update_interval), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_search_stats_update_interval_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_stats_delcoef), "activate",
                      GTK_SIGNAL_FUNC (on_entry_search_stats_delcoef_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_stats_delcoef), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_search_stats_delcoef_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_search_stats), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_search_stats_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_stats_reset), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_stats_reset_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_config_force_ip), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_config_force_ip_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_config_update_port), "clicked",
                      GTK_SIGNAL_FUNC (on_button_config_update_port_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_force_ip), "changed",
                      GTK_SIGNAL_FUNC (on_entry_config_force_ip_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_force_ip), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_force_ip_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_force_ip), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_force_ip_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_port), "changed",
                      GTK_SIGNAL_FUNC (on_entry_config_port_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_port), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_port_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_config_proxy_connections), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_config_proxy_connections_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (radio_config_http), "toggled",
                      GTK_SIGNAL_FUNC (on_radio_config_http_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (radio_config_socksv4), "toggled",
                      GTK_SIGNAL_FUNC (on_radio_config_socksv4_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (radio_config_socksv5), "toggled",
                      GTK_SIGNAL_FUNC (on_radio_config_socksv5_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_socks_host), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_socks_host_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_socks_host), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_socks_host_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_socks_port), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_socks_port_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_socks_port), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_socks_port_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_config_proxy_auth), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_config_proxy_auth_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_socks_username), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_socks_username_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_socks_username), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_socks_username_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_socks_password), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_socks_password_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_socks_password), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_socks_password_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_config_use_netmasks), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_use_netmasks_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_netmasks), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_netmask_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_netmasks), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_netmask_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_config_save_path), "clicked",
                      GTK_SIGNAL_FUNC (on_button_config_save_path_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_config_move_path), "clicked",
                      GTK_SIGNAL_FUNC (on_button_config_move_path_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_path), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_path_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_path), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_path_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_config_add_dir), "clicked",
                      GTK_SIGNAL_FUNC (on_button_config_add_dir_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_config_rescan_dir), "clicked",
                      GTK_SIGNAL_FUNC (on_button_config_rescan_dir_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_extensions), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_extensions_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_extensions), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_extensions_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (spinbutton_config_bps_in), "changed",
                      GTK_SIGNAL_FUNC (on_spinbutton_config_bps_in_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (spinbutton_config_bps_out), "changed",
                      GTK_SIGNAL_FUNC (on_spinbutton_config_bps_out_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_speed), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_speed_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_speed), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_speed_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_config_throttle), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_config_throttle_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_maxttl), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_maxttl_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_maxttl), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_maxttl_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_myttl), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_myttl_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_myttl), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_myttl_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_search_items), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_search_items_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_search_items), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_search_items_focus_out_event),
                      NULL);

  gtk_object_set_data (GTK_OBJECT (main_window), "tooltips", tooltips);

  gtk_window_add_accel_group (GTK_WINDOW (main_window), accel_group);

  return main_window;
}

GtkWidget*
create_popup_dl_active (void)
{
  GtkAccelGroup *popup_dl_active_accels;
  GtkWidget *popup_downloads_abort_named;
  GtkWidget *popup_downloads_abort_host;
  GtkWidget *separator9;
  GtkWidget *separator10;

  popup_dl_active = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_dl_active), "popup_dl_active", popup_dl_active);
  popup_dl_active_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_dl_active));

  popup_downloads_abort = gtk_menu_item_new_with_label ("Abort");
  gtk_widget_ref (popup_downloads_abort);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "popup_downloads_abort", popup_downloads_abort,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_downloads_abort);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), popup_downloads_abort);

  popup_downloads_kill = gtk_menu_item_new_with_label ("Abort and remove file");
  gtk_widget_ref (popup_downloads_kill);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "popup_downloads_kill", popup_downloads_kill,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_downloads_kill);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), popup_downloads_kill);

  popup_downloads_abort_named = gtk_menu_item_new_with_label ("Abort all with name");
  gtk_widget_ref (popup_downloads_abort_named);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "popup_downloads_abort_named", popup_downloads_abort_named,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_downloads_abort_named);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), popup_downloads_abort_named);

  popup_downloads_abort_host = gtk_menu_item_new_with_label ("Abort all from host");
  gtk_widget_ref (popup_downloads_abort_host);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "popup_downloads_abort_host", popup_downloads_abort_host,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_downloads_abort_host);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), popup_downloads_abort_host);

  popup_downloads_remove_file = gtk_menu_item_new_with_label ("Remove file");
  gtk_widget_ref (popup_downloads_remove_file);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "popup_downloads_remove_file", popup_downloads_remove_file,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_downloads_remove_file);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), popup_downloads_remove_file);

  popup_downloads_resume = gtk_menu_item_new_with_label ("Resume");
  gtk_widget_ref (popup_downloads_resume);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "popup_downloads_resume", popup_downloads_resume,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_downloads_resume);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), popup_downloads_resume);

  popup_downloads_queue = gtk_menu_item_new_with_label ("Move back to queue");
  gtk_widget_ref (popup_downloads_queue);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "popup_downloads_queue", popup_downloads_queue,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_downloads_queue);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), popup_downloads_queue);

  separator9 = gtk_menu_item_new ();
  gtk_widget_ref (separator9);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "separator9", separator9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator9);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), separator9);
  gtk_widget_set_sensitive (separator9, FALSE);

  popup_downloads_push = gtk_menu_item_new_with_label ("Force push mode");
  gtk_widget_ref (popup_downloads_push);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "popup_downloads_push", popup_downloads_push,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_downloads_push);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), popup_downloads_push);

  separator10 = gtk_menu_item_new ();
  gtk_widget_ref (separator10);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "separator10", separator10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator10);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), separator10);
  gtk_widget_set_sensitive (separator10, FALSE);

  popup_downloads_search_again = gtk_menu_item_new_with_label ("Search again");
  gtk_widget_ref (popup_downloads_search_again);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "popup_downloads_search_again", popup_downloads_search_again,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_downloads_search_again);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), popup_downloads_search_again);

  gtk_signal_connect (GTK_OBJECT (popup_downloads_abort), "activate",
                      GTK_SIGNAL_FUNC (on_button_downloads_abort_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_downloads_kill), "activate",
                      GTK_SIGNAL_FUNC (on_popup_downloads_kill_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_downloads_abort_named), "activate",
                      GTK_SIGNAL_FUNC (on_popup_downloads_abort_named_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_downloads_abort_host), "activate",
                      GTK_SIGNAL_FUNC (on_popup_downloads_abort_host_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_downloads_remove_file), "activate",
                      GTK_SIGNAL_FUNC (on_popup_downloads_remove_file_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_downloads_resume), "activate",
                      GTK_SIGNAL_FUNC (on_button_downloads_resume_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_downloads_queue), "activate",
                      GTK_SIGNAL_FUNC (on_popup_downloads_queue_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_downloads_push), "activate",
                      GTK_SIGNAL_FUNC (on_popup_downloads_push_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_downloads_search_again), "activate",
                      GTK_SIGNAL_FUNC (on_popup_downloads_search_again_activate),
                      NULL);

  return popup_dl_active;
}

GtkWidget*
create_popup_dl_queued (void)
{
  GtkAccelGroup *popup_dl_queued_accels;
  GtkWidget *separator8;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  popup_dl_queued = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_dl_queued), "popup_dl_queued", popup_dl_queued);
  popup_dl_queued_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_dl_queued));

  popup_queue_start_now = gtk_menu_item_new_with_label ("Start now");
  gtk_widget_ref (popup_queue_start_now);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_queued), "popup_queue_start_now", popup_queue_start_now,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_queue_start_now);
  gtk_container_add (GTK_CONTAINER (popup_dl_queued), popup_queue_start_now);

  popup_queue_abort = gtk_menu_item_new_with_label ("Abort");
  gtk_widget_ref (popup_queue_abort);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_queued), "popup_queue_abort", popup_queue_abort,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_queue_abort);
  gtk_container_add (GTK_CONTAINER (popup_dl_queued), popup_queue_abort);
  gtk_tooltips_set_tip (tooltips, popup_queue_abort, "Dequeue selected downloads", NULL);

  popup_queue_abort_named = gtk_menu_item_new_with_label ("Abort all with name");
  gtk_widget_ref (popup_queue_abort_named);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_queued), "popup_queue_abort_named", popup_queue_abort_named,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_queue_abort_named);
  gtk_container_add (GTK_CONTAINER (popup_dl_queued), popup_queue_abort_named);
  gtk_tooltips_set_tip (tooltips, popup_queue_abort_named, "Abort and dequeue all downloads with selected names", NULL);

  popup_queue_abort_host = gtk_menu_item_new_with_label ("Abort all from host");
  gtk_widget_ref (popup_queue_abort_host);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_queued), "popup_queue_abort_host", popup_queue_abort_host,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_queue_abort_host);
  gtk_container_add (GTK_CONTAINER (popup_dl_queued), popup_queue_abort_host);
  gtk_tooltips_set_tip (tooltips, popup_queue_abort_host, "Abort and dequeue all downloads from selected hosts", NULL);

  separator8 = gtk_menu_item_new ();
  gtk_widget_ref (separator8);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_queued), "separator8", separator8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator8);
  gtk_container_add (GTK_CONTAINER (popup_dl_queued), separator8);
  gtk_widget_set_sensitive (separator8, FALSE);

  popup_queue_search_again = gtk_menu_item_new_with_label ("Search again");
  gtk_widget_ref (popup_queue_search_again);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_queued), "popup_queue_search_again", popup_queue_search_again,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_queue_search_again);
  gtk_container_add (GTK_CONTAINER (popup_dl_queued), popup_queue_search_again);

  gtk_signal_connect (GTK_OBJECT (popup_queue_start_now), "activate",
                      GTK_SIGNAL_FUNC (on_popup_queue_start_now_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_queue_abort), "activate",
                      GTK_SIGNAL_FUNC (on_popup_queue_abort_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_queue_abort_named), "activate",
                      GTK_SIGNAL_FUNC (on_popup_queue_abort_named_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_queue_abort_host), "activate",
                      GTK_SIGNAL_FUNC (on_popup_queue_abort_host_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_queue_search_again), "activate",
                      GTK_SIGNAL_FUNC (on_popup_queue_search_again_activate),
                      NULL);

  gtk_object_set_data (GTK_OBJECT (popup_dl_queued), "tooltips", tooltips);

  return popup_dl_queued;
}

GtkWidget*
create_popup_search (void)
{
  GtkAccelGroup *popup_search_accels;
  GtkWidget *separator3;
  GtkWidget *separator2;

  popup_search = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_search), "popup_search", popup_search);
  popup_search_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_search));

  popup_search_filters = gtk_menu_item_new_with_label ("Filter the results");
  gtk_widget_ref (popup_search_filters);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_filters", popup_search_filters,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_filters);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_filters);

  separator3 = gtk_menu_item_new ();
  gtk_widget_ref (separator3);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "separator3", separator3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator3);
  gtk_container_add (GTK_CONTAINER (popup_search), separator3);
  gtk_widget_set_sensitive (separator3, FALSE);

  popup_search_stop = gtk_menu_item_new_with_label ("Stop this search");
  gtk_widget_ref (popup_search_stop);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_stop", popup_search_stop,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_stop);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_stop);

  popup_search_resume = gtk_menu_item_new_with_label ("Resume this search");
  gtk_widget_ref (popup_search_resume);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_resume", popup_search_resume,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_resume);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_resume);

  popup_search_restart = gtk_menu_item_new_with_label ("Restart this search");
  gtk_widget_ref (popup_search_restart);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_restart", popup_search_restart,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_restart);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_restart);

  popup_search_duplicate = gtk_menu_item_new_with_label ("Duplicate this search");
  gtk_widget_ref (popup_search_duplicate);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_duplicate", popup_search_duplicate,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_duplicate);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_duplicate);

  popup_search_close = gtk_menu_item_new_with_label ("Close this search");
  gtk_widget_ref (popup_search_close);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_close", popup_search_close,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_close);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_close);

  popup_search_clear_results = gtk_menu_item_new_with_label ("Clear search results");
  gtk_widget_ref (popup_search_clear_results);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_clear_results", popup_search_clear_results,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_clear_results);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_clear_results);
  gtk_widget_set_sensitive (popup_search_clear_results, FALSE);

  separator2 = gtk_menu_item_new ();
  gtk_widget_ref (separator2);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "separator2", separator2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator2);
  gtk_container_add (GTK_CONTAINER (popup_search), separator2);
  gtk_widget_set_sensitive (separator2, FALSE);

  popup_search_stop_sorting = gtk_menu_item_new_with_label ("Stop automatic sorting");
  gtk_widget_ref (popup_search_stop_sorting);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_stop_sorting", popup_search_stop_sorting,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_stop_sorting);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_stop_sorting);

  popup_search_toggle_tabs = gtk_menu_item_new_with_label ("Show tabs");
  gtk_widget_ref (popup_search_toggle_tabs);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_toggle_tabs", popup_search_toggle_tabs,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_toggle_tabs);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_toggle_tabs);

  gtk_signal_connect (GTK_OBJECT (popup_search_filters), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_filters_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_stop), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_stop_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_resume), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_resume_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_restart), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_restart_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_duplicate), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_duplicate_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_close), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_close_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_clear_results), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_clear_results_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_stop_sorting), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_stop_sorting_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_toggle_tabs), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_toggle_tabs_activate),
                      NULL);

  return popup_search;
}

GtkWidget*
create_popup_monitor (void)
{
  GtkAccelGroup *popup_monitor_accels;

  popup_monitor = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_monitor), "popup_monitor", popup_monitor);
  popup_monitor_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_monitor));

  popup_monitor_add_search = gtk_menu_item_new_with_label ("Add as search");
  gtk_widget_ref (popup_monitor_add_search);
  gtk_object_set_data_full (GTK_OBJECT (popup_monitor), "popup_monitor_add_search", popup_monitor_add_search,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_monitor_add_search);
  gtk_container_add (GTK_CONTAINER (popup_monitor), popup_monitor_add_search);

  gtk_signal_connect (GTK_OBJECT (popup_monitor), "hide",
                      GTK_SIGNAL_FUNC (on_popup_monitor_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_monitor_add_search), "activate",
                      GTK_SIGNAL_FUNC (on_popup_monitor_add_search_activate),
                      NULL);

  return popup_monitor;
}

GtkWidget*
create_popup_nodes (void)
{
  GtkAccelGroup *popup_nodes_accels;

  popup_nodes = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_nodes), "popup_nodes", popup_nodes);
  popup_nodes_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_nodes));

  popup_nodes_remove = gtk_menu_item_new_with_label ("Remove");
  gtk_widget_ref (popup_nodes_remove);
  gtk_object_set_data_full (GTK_OBJECT (popup_nodes), "popup_nodes_remove", popup_nodes_remove,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_nodes_remove);
  gtk_container_add (GTK_CONTAINER (popup_nodes), popup_nodes_remove);

  gtk_signal_connect (GTK_OBJECT (popup_nodes_remove), "activate",
                      GTK_SIGNAL_FUNC (on_popup_nodes_remove_activate),
                      NULL);

  return popup_nodes;
}

GtkWidget*
create_popup_uploads (void)
{
  GtkAccelGroup *popup_uploads_accels;

  popup_uploads = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_uploads), "popup_uploads", popup_uploads);
  popup_uploads_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_uploads));

  popup_uploads_title = gtk_menu_item_new_with_label ("Nothing for now");
  gtk_widget_ref (popup_uploads_title);
  gtk_object_set_data_full (GTK_OBJECT (popup_uploads), "popup_uploads_title", popup_uploads_title,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_uploads_title);
  gtk_container_add (GTK_CONTAINER (popup_uploads), popup_uploads_title);

  gtk_signal_connect (GTK_OBJECT (popup_uploads_title), "activate",
                      GTK_SIGNAL_FUNC (on_popup_uploads_title_activate),
                      NULL);

  return popup_uploads;
}


