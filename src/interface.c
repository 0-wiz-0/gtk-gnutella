/*
 * DO NOT EDIT THIS FILE - it is generated by Glade.
 */

#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif

#include <sys/types.h>
#include <sys/stat.h>
#include <unistd.h>
#include <string.h>

#include <gdk/gdkkeysyms.h>
#include <gtk/gtk.h>

#include "callbacks.h"
#include "interface.h"
#include "support.h"

/* Global Widgets (added by extern.tcl) */

GtkWidget *notebook_main;
GtkWidget *clist_menu;
GtkWidget *clist_stats;
GtkWidget *clist_connections;
GtkWidget *button_stats_update;
GtkWidget *sw_menu;
GtkWidget *sw_stats;
GtkWidget *sw_connections;
GtkWidget *clist_nodes;
GtkWidget *button_nodes_add;
GtkWidget *button_nodes_remove;
GtkWidget *entry_host;
GtkWidget *entry_up_connections;
GtkWidget *entry_global_messages;
GtkWidget *entry_global_searches;
GtkWidget *entry_routing_errors;
GtkWidget *entry_dropped_messages;
GtkWidget *entry_count_downloads;
GtkWidget *entry_count_uploads;
GtkWidget *entry_hosts_in_catcher;
GtkWidget *button_host_catcher_clear;
GtkWidget *clist_uploads;
GtkWidget *button_kill_upload;
GtkWidget *button_clear_uploads;
GtkWidget *checkbutton_clear_uploads;
GtkWidget *entry_max_uploads;
GtkWidget *clist_downloads;
GtkWidget *button_abort_download;
GtkWidget *button_resume_download;
GtkWidget *button_clear_download;
GtkWidget *entry_max_downloads;
GtkWidget *entry_max_host_downloads;
GtkWidget *checkbutton_clear_downloads;
GtkWidget *clist_download_queue;
GtkWidget *button_remove_download;
GtkWidget *checkbutton_never_push;
GtkWidget *checkbutton_jump_to_downloads;
GtkWidget *checkbutton_autodownload;
GtkWidget *entry_search;
GtkWidget *button_search;
GtkWidget *label_items_found;
GtkWidget *entry_minimum_speed;
GtkWidget *notebook_search_results;
GtkWidget *button_search_download;
GtkWidget *button_search_stream;
GtkWidget *button_search_clear;
GtkWidget *combo_searches;
GtkWidget *combo_entry_searches;
GtkWidget *button_search_filter;
GtkWidget *button_search_close;
GtkWidget *checkbutton_monitor;
GtkWidget *entry_monitor;
GtkWidget *clist_monitor;
GtkWidget *clist_ul_stats;
GtkWidget *button_ul_stats_clear_deleted;
GtkWidget *button_ul_stats_clear_all;
GtkWidget *checkbutton_enable_search_stats;
GtkWidget *clist_search_stats;
GtkWidget *entry_search_stats_update_interval;
GtkWidget *entry_search_stats_delcoef;
GtkWidget *label_search_stats_count;
GtkWidget *button_config_move_path;
GtkWidget *button_config_save_path;
GtkWidget *entry_config_path;
GtkWidget *label_files_scanned;
GtkWidget *entry_config_extensions;
GtkWidget *entry_config_port;
GtkWidget *entry_config_force_ip;
GtkWidget *entry_config_speed;
GtkWidget *checkbutton_config_throttle;
GtkWidget *label_current_port;
GtkWidget *checkbutton_config_force_ip;
GtkWidget *entry_config_search_items;
GtkWidget *entry_config_maxttl;
GtkWidget *entry_config_myttl;
GtkWidget *button_config_update_port;
GtkWidget *button_config_rescan_dir;
GtkWidget *label_left;
GtkWidget *label_right;
GtkWidget *entry_config;
GtkWidget *radio_http;
GtkWidget *radio_socksv4;
GtkWidget *radio_socksv5;
GtkWidget *checkbutton_proxy_connections;
GtkWidget *config_entry_socks_host;
GtkWidget *config_entry_socks_port;
GtkWidget *config_entry_socks_username;
GtkWidget *config_entry_socks_password;
GtkWidget *entry_max_connections;
GtkWidget *entry_search_reissue_timeout;
GtkWidget *popup_hosts;
GtkWidget *popup_hosts_title;
GtkWidget *popup_hosts_export;
GtkWidget *popup_dl_active;
GtkWidget *popup_dl_active_title;
GtkWidget *download_p_push;
GtkWidget *download_p_queue;
GtkWidget *download_p_kill;
GtkWidget *popup_dl_queued;
GtkWidget *popup_dl_queued_title;
GtkWidget *download_start_now;
GtkWidget *popup_search;
GtkWidget *popup_search_title;
GtkWidget *popup_search_stop_sorting;
GtkWidget *popup_search_filters;
GtkWidget *popup_search_close;
GtkWidget *popup_search_toggle_tabs;
GtkWidget *popup_search_restart;
GtkWidget *popup_search_duplicate;
GtkWidget *popup_search_clear_results;
GtkWidget *popup_search_stop;
GtkWidget *popup_search_resume;
GtkWidget *popup_monitor;
GtkWidget *popup_monitor_title;
GtkWidget *popup_nodes;
GtkWidget *popup_nodes_title;
GtkWidget *popup_uploads;
GtkWidget *popup_uploads_title;

/* End of global widgets */


GtkWidget*
create_main_window (void)
{
  GtkWidget *main_window;
  GtkWidget *hbox_main;
  GtkWidget *vbox_left;
  GtkWidget *vbox_connections;
  GtkWidget *hbox6;
  GtkWidget *label_connections;
  GtkWidget *label_blank_1;
  GtkWidget *vbox_stats;
  GtkWidget *hbox7;
  GtkWidget *label_stats;
  GtkWidget *hseparator1;
  GtkWidget *button_quit;
  GtkWidget *vbox_right;
  GtkWidget *vbox_gnutellanet;
  GtkWidget *vbox6;
  GtkWidget *hbox15;
  GtkWidget *label22;
  GtkWidget *sw_nodes;
  GtkWidget *label13;
  GtkWidget *label14;
  GtkWidget *label_node_vendor;
  GtkWidget *label_node_proto;
  GtkWidget *label15;
  GtkWidget *hbox2;
  GtkWidget *hbox16;
  GtkWidget *hbox3;
  GtkWidget *label2;
  GtkWidget *label3;
  GtkWidget *hbox54;
  GtkWidget *label82;
  GtkWidget *label83;
  GtkWidget *hbox5;
  GtkWidget *frame_network;
  GtkWidget *table1;
  GtkWidget *hbox9;
  GtkWidget *label7;
  GtkWidget *hbox10;
  GtkWidget *label8;
  GtkWidget *hbox11;
  GtkWidget *label9;
  GtkWidget *hbox12;
  GtkWidget *label10;
  GtkWidget *hbox13;
  GtkWidget *label11;
  GtkWidget *hbox14;
  GtkWidget *label12;
  GtkWidget *vbox3;
  GtkWidget *hbox8;
  GtkWidget *label_host_catcher;
  GtkWidget *table3;
  GtkWidget *hbox65;
  GtkWidget *label95;
  GtkWidget *hbuttonbox1;
  GtkWidget *hbuttonbox2;
  GtkWidget *label_gnutellanet;
  GtkWidget *vbox_uploads;
  GtkWidget *hbox46;
  GtkWidget *label71;
  GtkWidget *scrolledwindow9;
  GtkWidget *label72;
  GtkWidget *label73;
  GtkWidget *label_size_range;
  GtkWidget *label_up_range;
  GtkWidget *label74;
  GtkWidget *hbox47;
  GtkWidget *hbox53;
  GtkWidget *label81;
  GtkWidget *label_uploads;
  GtkWidget *ul_stats_vbox1;
  GtkWidget *ul_stats_hbox1;
  GtkWidget *ul_stats_label1;
  GtkWidget *ul_stats_scrolledwindow;
  GtkWidget *ul_stats_label2;
  GtkWidget *ul_stats_size;
  GtkWidget *ul_stats_label3;
  GtkWidget *ul_stats_label4;
  GtkWidget *ul_stats_ace;
  GtkWidget *ul_stats_hbox2;
  GtkWidget *label_ul_stats;
  GtkWidget *vbox_downloads;
  GtkWidget *hbox40;
  GtkWidget *label60;
  GtkWidget *scrolledwindow6;
  GtkWidget *label61;
  GtkWidget *label97;
  GtkWidget *label62;
  GtkWidget *label63;
  GtkWidget *hbox41;
  GtkWidget *hbox42;
  GtkWidget *label64;
  GtkWidget *label80;
  GtkWidget *hbox51;
  GtkWidget *hbox43;
  GtkWidget *label65;
  GtkWidget *scrolledwindow7;
  GtkWidget *label66;
  GtkWidget *label96;
  GtkWidget *label67;
  GtkWidget *hbox44;
  GtkWidget *label_downloads;
  GtkWidget *vbox_search;
  GtkWidget *hbox18;
  GtkWidget *table2;
  GtkWidget *label79;
  GtkWidget *hbox19;
  GtkWidget *label_blank_3;
  GtkWidget *label30;
  GtkWidget *empty_notebook_page;
  GtkWidget *hbox20;
  GtkWidget *button_search_passive;
  GtkWidget *hbox52;
  GtkWidget *hbox63;
  GtkWidget *hbox64;
  GtkWidget *hbox62;
  GtkWidget *hbuttonbox3;
  GtkWidget *search_reissue_label;
  GtkWidget *label_search;
  GtkWidget *vbox_monitor;
  GtkWidget *hbox45;
  GtkWidget *label75;
  GtkWidget *label68;
  GtkWidget *label69;
  GtkWidget *scrolledwindow8;
  GtkWidget *label70;
  GtkWidget *label_monitor;
  GtkWidget *vbox12;
  GtkWidget *hbox67;
  GtkWidget *label101;
  GtkWidget *label102;
  GtkWidget *scrolledwindow10;
  GtkWidget *label105;
  GtkWidget *label106;
  GtkWidget *label107;
  GtkWidget *alignment1;
  GtkWidget *hbox66;
  GtkWidget *button_reset_search_stats;
  GtkWidget *label98;
  GtkWidget *vbox_config;
  GtkWidget *frame_save_new_files;
  GtkWidget *table_save_files_button;
  GtkWidget *frame_move_downloaded_files;
  GtkWidget *table_move_files_button;
  GtkWidget *frame_path_to_files;
  GtkWidget *vbox_path_to_files;
  GtkWidget *hbox_path_buttons;
  GtkWidget *button_config_add_dir;
  GtkWidget *label42;
  GtkWidget *hbox27;
  GtkWidget *label41;
  GtkWidget *table_port_ip_speed_searches;
  GtkWidget *frame_local_ip;
  GtkWidget *table_local_ip;
  GtkWidget *label78;
  GtkWidget *frame_listen_port;
  GtkWidget *vbox9;
  GtkWidget *hbox48;
  GtkWidget *label35;
  GtkWidget *hbox22;
  GtkWidget *hbox49;
  GtkWidget *frame_connection_speed;
  GtkWidget *vbox_connection_speed;
  GtkWidget *hbox_speed_kpbs;
  GtkWidget *label36;
  GtkWidget *frame_searches;
  GtkWidget *vbox_searches;
  GtkWidget *hbox_limit_search_results;
  GtkWidget *label37;
  GtkWidget *label38;
  GtkWidget *label39;
  GtkWidget *hbox55;
  GtkWidget *frame1;
  GtkWidget *hbox56;
  GtkWidget *label84;
  GtkWidget *label85;
  GtkWidget *frame2;
  GtkWidget *hbox57;
  GtkWidget *vbox10;
  GtkWidget *hbox59;
  GtkWidget *label90;
  GSList *socks_version_group = NULL;
  GtkWidget *hbox60;
  GtkWidget *label91;
  GtkWidget *label92;
  GtkWidget *hbox61;
  GtkWidget *label93;
  GtkWidget *label94;
  GtkWidget *label_config;
  GtkWidget *hbox_copyright;
  GtkAccelGroup *accel_group;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  accel_group = gtk_accel_group_new ();

  main_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (main_window), "main_window", main_window);
  gtk_container_set_border_width (GTK_CONTAINER (main_window), 9);
  gtk_window_set_title (GTK_WINDOW (main_window), "gtk-gnutella");

  hbox_main = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox_main);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_main", hbox_main,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_main);
  gtk_container_add (GTK_CONTAINER (main_window), hbox_main);

  vbox_left = gtk_vbox_new (FALSE, 6);
  gtk_widget_ref (vbox_left);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_left", vbox_left,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_left);
  gtk_box_pack_start (GTK_BOX (hbox_main), vbox_left, FALSE, FALSE, 0);
  gtk_widget_set_usize (vbox_left, 110, -2);

  sw_menu = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (sw_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "sw_menu", sw_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sw_menu);
  gtk_box_pack_start (GTK_BOX (vbox_left), sw_menu, FALSE, FALSE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw_menu), GTK_POLICY_NEVER, GTK_POLICY_NEVER);

  clist_menu = gtk_clist_new (1);
  gtk_widget_ref (clist_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_menu", clist_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_menu);
  gtk_container_add (GTK_CONTAINER (sw_menu), clist_menu);
  gtk_clist_set_column_width (GTK_CLIST (clist_menu), 0, 80);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_menu), GTK_SELECTION_BROWSE);
  gtk_clist_column_titles_hide (GTK_CLIST (clist_menu));

  vbox_connections = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_connections", vbox_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_connections);
  gtk_box_pack_start (GTK_BOX (vbox_left), vbox_connections, FALSE, FALSE, 0);

  hbox6 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox6);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox6", hbox6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox6);
  gtk_box_pack_start (GTK_BOX (vbox_connections), hbox6, FALSE, FALSE, 0);

  label_connections = gtk_label_new ("Connections:");
  gtk_widget_ref (label_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_connections", label_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_connections);
  gtk_box_pack_start (GTK_BOX (hbox6), label_connections, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label_connections), GTK_JUSTIFY_LEFT);

  sw_connections = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (sw_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "sw_connections", sw_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sw_connections);
  gtk_box_pack_start (GTK_BOX (vbox_connections), sw_connections, FALSE, FALSE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw_connections), GTK_POLICY_NEVER, GTK_POLICY_NEVER);

  clist_connections = gtk_clist_new (1);
  gtk_widget_ref (clist_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_connections", clist_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_connections);
  gtk_container_add (GTK_CONTAINER (sw_connections), clist_connections);
  gtk_widget_set_sensitive (clist_connections, FALSE);
  GTK_WIDGET_UNSET_FLAGS (clist_connections, GTK_CAN_FOCUS);
  gtk_clist_set_column_width (GTK_CLIST (clist_connections), 0, 80);
  gtk_clist_column_titles_hide (GTK_CLIST (clist_connections));

  label_blank_1 = gtk_label_new ("");
  gtk_widget_ref (label_blank_1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_blank_1", label_blank_1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_blank_1);
  gtk_box_pack_start (GTK_BOX (vbox_left), label_blank_1, TRUE, TRUE, 0);

  vbox_stats = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_stats", vbox_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_stats);
  gtk_box_pack_start (GTK_BOX (vbox_left), vbox_stats, FALSE, FALSE, 0);

  hbox7 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox7);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox7", hbox7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox7);
  gtk_box_pack_start (GTK_BOX (vbox_stats), hbox7, FALSE, FALSE, 0);

  label_stats = gtk_label_new ("gnutellaNet stats:");
  gtk_widget_ref (label_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_stats", label_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_stats);
  gtk_box_pack_start (GTK_BOX (hbox7), label_stats, FALSE, FALSE, 0);

  sw_stats = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (sw_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "sw_stats", sw_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sw_stats);
  gtk_box_pack_start (GTK_BOX (vbox_stats), sw_stats, FALSE, FALSE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw_stats), GTK_POLICY_NEVER, GTK_POLICY_NEVER);

  clist_stats = gtk_clist_new (1);
  gtk_widget_ref (clist_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_stats", clist_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_stats);
  gtk_container_add (GTK_CONTAINER (sw_stats), clist_stats);
  gtk_widget_set_sensitive (clist_stats, FALSE);
  GTK_WIDGET_UNSET_FLAGS (clist_stats, GTK_CAN_FOCUS);
  gtk_clist_set_column_width (GTK_CLIST (clist_stats), 0, 80);
  gtk_clist_column_titles_hide (GTK_CLIST (clist_stats));

  button_stats_update = gtk_button_new_with_label ("Update");
  gtk_widget_ref (button_stats_update);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_stats_update", button_stats_update,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_stats_update);
  gtk_box_pack_start (GTK_BOX (vbox_left), button_stats_update, FALSE, FALSE, 0);

  hseparator1 = gtk_hseparator_new ();
  gtk_widget_ref (hseparator1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hseparator1", hseparator1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hseparator1);
  gtk_box_pack_start (GTK_BOX (vbox_left), hseparator1, FALSE, TRUE, 5);

  button_quit = gtk_button_new_with_label ("Quit");
  gtk_widget_ref (button_quit);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_quit", button_quit,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_quit);
  gtk_box_pack_start (GTK_BOX (vbox_left), button_quit, FALSE, FALSE, 0);

  vbox_right = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox_right);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_right", vbox_right,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_right);
  gtk_box_pack_start (GTK_BOX (hbox_main), vbox_right, TRUE, TRUE, 0);

  notebook_main = gtk_notebook_new ();
  gtk_widget_ref (notebook_main);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "notebook_main", notebook_main,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (notebook_main);
  gtk_box_pack_start (GTK_BOX (vbox_right), notebook_main, TRUE, TRUE, 0);
  GTK_WIDGET_UNSET_FLAGS (notebook_main, GTK_CAN_FOCUS);
  gtk_notebook_set_show_tabs (GTK_NOTEBOOK (notebook_main), FALSE);
  gtk_notebook_set_show_border (GTK_NOTEBOOK (notebook_main), FALSE);

  vbox_gnutellanet = gtk_vbox_new (FALSE, 6);
  gtk_widget_ref (vbox_gnutellanet);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_gnutellanet", vbox_gnutellanet,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_gnutellanet);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox_gnutellanet);

  vbox6 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox6);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox6", vbox6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox6);
  gtk_box_pack_start (GTK_BOX (vbox_gnutellanet), vbox6, TRUE, TRUE, 0);

  hbox15 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox15);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox15", hbox15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox15);
  gtk_box_pack_start (GTK_BOX (vbox6), hbox15, FALSE, TRUE, 0);

  label22 = gtk_label_new ("gnutellaNet connections:");
  gtk_widget_ref (label22);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label22", label22,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label22);
  gtk_box_pack_start (GTK_BOX (hbox15), label22, FALSE, FALSE, 0);

  sw_nodes = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (sw_nodes);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "sw_nodes", sw_nodes,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sw_nodes);
  gtk_box_pack_start (GTK_BOX (vbox6), sw_nodes, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw_nodes), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);

  clist_nodes = gtk_clist_new (5);
  gtk_widget_ref (clist_nodes);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_nodes", clist_nodes,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_nodes);
  gtk_container_add (GTK_CONTAINER (sw_nodes), clist_nodes);
  gtk_container_set_border_width (GTK_CONTAINER (clist_nodes), 2);
  GTK_WIDGET_UNSET_FLAGS (clist_nodes, GTK_CAN_FOCUS);
  gtk_clist_set_column_width (GTK_CLIST (clist_nodes), 0, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_nodes), 1, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_nodes), 2, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_nodes), 3, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_nodes), 4, 80);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_nodes), GTK_SELECTION_MULTIPLE);
  gtk_clist_column_titles_show (GTK_CLIST (clist_nodes));

  label13 = gtk_label_new ("Host");
  gtk_widget_ref (label13);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label13", label13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label13);
  gtk_clist_set_column_widget (GTK_CLIST (clist_nodes), 0, label13);

  label14 = gtk_label_new ("Type");
  gtk_widget_ref (label14);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label14", label14,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label14);
  gtk_clist_set_column_widget (GTK_CLIST (clist_nodes), 1, label14);

  label_node_vendor = gtk_label_new ("Vendor");
  gtk_widget_ref (label_node_vendor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_node_vendor", label_node_vendor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_node_vendor);
  gtk_clist_set_column_widget (GTK_CLIST (clist_nodes), 2, label_node_vendor);

  label_node_proto = gtk_label_new ("Ver");
  gtk_widget_ref (label_node_proto);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_node_proto", label_node_proto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_node_proto);
  gtk_clist_set_column_widget (GTK_CLIST (clist_nodes), 3, label_node_proto);

  label15 = gtk_label_new ("Info");
  gtk_widget_ref (label15);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label15", label15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label15);
  gtk_clist_set_column_widget (GTK_CLIST (clist_nodes), 4, label15);

  hbox2 = gtk_hbox_new (FALSE, 6);
  gtk_widget_ref (hbox2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox2", hbox2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox2);
  gtk_box_pack_start (GTK_BOX (vbox_gnutellanet), hbox2, FALSE, TRUE, 0);

  hbox16 = gtk_hbox_new (TRUE, 8);
  gtk_widget_ref (hbox16);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox16", hbox16,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox16);
  gtk_box_pack_start (GTK_BOX (hbox2), hbox16, FALSE, TRUE, 0);

  button_nodes_remove = gtk_button_new_with_label ("Remove");
  gtk_widget_ref (button_nodes_remove);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_nodes_remove", button_nodes_remove,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_nodes_remove);
  gtk_box_pack_start (GTK_BOX (hbox16), button_nodes_remove, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (button_nodes_remove, FALSE);

  button_nodes_add = gtk_button_new_with_label ("Add");
  gtk_widget_ref (button_nodes_add);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_nodes_add", button_nodes_add,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_nodes_add);
  gtk_box_pack_start (GTK_BOX (hbox16), button_nodes_add, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (button_nodes_add, FALSE);

  entry_host = gtk_entry_new ();
  gtk_widget_ref (entry_host);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_host", entry_host,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_host);
  gtk_box_pack_start (GTK_BOX (hbox2), entry_host, TRUE, TRUE, 0);

  hbox3 = gtk_hbox_new (FALSE, 6);
  gtk_widget_ref (hbox3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox3", hbox3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox3);
  gtk_box_pack_start (GTK_BOX (vbox_gnutellanet), hbox3, FALSE, TRUE, 0);

  label2 = gtk_label_new ("Try to keep at least");
  gtk_widget_ref (label2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label2", label2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label2);
  gtk_box_pack_start (GTK_BOX (hbox3), label2, FALSE, FALSE, 0);

  entry_up_connections = gtk_entry_new_with_max_length (5);
  gtk_widget_ref (entry_up_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_up_connections", entry_up_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_up_connections);
  gtk_box_pack_start (GTK_BOX (hbox3), entry_up_connections, FALSE, TRUE, 0);
  gtk_widget_set_usize (entry_up_connections, 32, -2);

  label3 = gtk_label_new ("connections up.");
  gtk_widget_ref (label3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label3", label3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label3);
  gtk_box_pack_start (GTK_BOX (hbox3), label3, FALSE, FALSE, 0);

  hbox54 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox54);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox54", hbox54,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox54);
  gtk_box_pack_start (GTK_BOX (hbox3), hbox54, TRUE, TRUE, 0);

  label82 = gtk_label_new ("Maximum of");
  gtk_widget_ref (label82);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label82", label82,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label82);
  gtk_box_pack_start (GTK_BOX (hbox54), label82, FALSE, FALSE, 0);

  entry_max_connections = gtk_entry_new ();
  gtk_widget_ref (entry_max_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_max_connections", entry_max_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_max_connections);
  gtk_box_pack_start (GTK_BOX (hbox54), entry_max_connections, FALSE, FALSE, 4);
  gtk_widget_set_usize (entry_max_connections, 32, -2);

  label83 = gtk_label_new ("total connections.");
  gtk_widget_ref (label83);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label83", label83,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label83);
  gtk_box_pack_start (GTK_BOX (hbox54), label83, FALSE, FALSE, 0);

  hbox5 = gtk_hbox_new (TRUE, 6);
  gtk_widget_ref (hbox5);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox5", hbox5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox5);
  gtk_box_pack_start (GTK_BOX (vbox_gnutellanet), hbox5, TRUE, TRUE, 0);

  frame_network = gtk_frame_new ("Network information");
  gtk_widget_ref (frame_network);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_network", frame_network,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_network);
  gtk_box_pack_start (GTK_BOX (hbox5), frame_network, FALSE, TRUE, 0);

  table1 = gtk_table_new (6, 2, FALSE);
  gtk_widget_ref (table1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table1", table1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table1);
  gtk_container_add (GTK_CONTAINER (frame_network), table1);
  gtk_container_set_border_width (GTK_CONTAINER (table1), 4);
  gtk_table_set_row_spacings (GTK_TABLE (table1), 2);
  gtk_table_set_col_spacings (GTK_TABLE (table1), 2);

  hbox9 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox9);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox9", hbox9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox9);
  gtk_table_attach (GTK_TABLE (table1), hbox9, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  label7 = gtk_label_new ("gnutellaNet messages:");
  gtk_widget_ref (label7);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label7", label7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label7);
  gtk_box_pack_start (GTK_BOX (hbox9), label7, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label7), GTK_JUSTIFY_LEFT);

  hbox10 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox10);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox10", hbox10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox10);
  gtk_table_attach (GTK_TABLE (table1), hbox10, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  label8 = gtk_label_new ("Searches to local DB:");
  gtk_widget_ref (label8);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label8", label8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label8);
  gtk_box_pack_start (GTK_BOX (hbox10), label8, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label8), GTK_JUSTIFY_LEFT);

  hbox11 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox11);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox11", hbox11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox11);
  gtk_table_attach (GTK_TABLE (table1), hbox11, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  label9 = gtk_label_new ("Routing errors:");
  gtk_widget_ref (label9);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label9", label9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label9);
  gtk_box_pack_start (GTK_BOX (hbox11), label9, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label9), GTK_JUSTIFY_LEFT);

  hbox12 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox12);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox12", hbox12,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox12);
  gtk_table_attach (GTK_TABLE (table1), hbox12, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  label10 = gtk_label_new ("Dropped messages:");
  gtk_widget_ref (label10);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label10", label10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label10);
  gtk_box_pack_start (GTK_BOX (hbox12), label10, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label10), GTK_JUSTIFY_LEFT);

  hbox13 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox13);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox13", hbox13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox13);
  gtk_table_attach (GTK_TABLE (table1), hbox13, 0, 1, 4, 5,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  label11 = gtk_label_new ("Download count (files):");
  gtk_widget_ref (label11);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label11", label11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label11);
  gtk_box_pack_start (GTK_BOX (hbox13), label11, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label11), GTK_JUSTIFY_LEFT);

  hbox14 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox14);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox14", hbox14,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox14);
  gtk_table_attach (GTK_TABLE (table1), hbox14, 0, 1, 5, 6,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  label12 = gtk_label_new ("Upload count (files):");
  gtk_widget_ref (label12);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label12", label12,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label12);
  gtk_box_pack_start (GTK_BOX (hbox14), label12, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label12), GTK_JUSTIFY_LEFT);

  entry_global_messages = gtk_entry_new ();
  gtk_widget_ref (entry_global_messages);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_global_messages", entry_global_messages,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_global_messages);
  gtk_table_attach (GTK_TABLE (table1), entry_global_messages, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_global_messages, 72, -2);
  gtk_widget_set_sensitive (entry_global_messages, FALSE);
  gtk_entry_set_editable (GTK_ENTRY (entry_global_messages), FALSE);

  entry_global_searches = gtk_entry_new ();
  gtk_widget_ref (entry_global_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_global_searches", entry_global_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_global_searches);
  gtk_table_attach (GTK_TABLE (table1), entry_global_searches, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_global_searches, 72, -2);
  gtk_widget_set_sensitive (entry_global_searches, FALSE);
  gtk_entry_set_editable (GTK_ENTRY (entry_global_searches), FALSE);

  entry_routing_errors = gtk_entry_new ();
  gtk_widget_ref (entry_routing_errors);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_routing_errors", entry_routing_errors,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_routing_errors);
  gtk_table_attach (GTK_TABLE (table1), entry_routing_errors, 1, 2, 2, 3,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_routing_errors, 72, -2);
  gtk_widget_set_sensitive (entry_routing_errors, FALSE);
  gtk_entry_set_editable (GTK_ENTRY (entry_routing_errors), FALSE);

  entry_dropped_messages = gtk_entry_new ();
  gtk_widget_ref (entry_dropped_messages);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_dropped_messages", entry_dropped_messages,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_dropped_messages);
  gtk_table_attach (GTK_TABLE (table1), entry_dropped_messages, 1, 2, 3, 4,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_dropped_messages, 72, -2);
  gtk_widget_set_sensitive (entry_dropped_messages, FALSE);
  gtk_entry_set_editable (GTK_ENTRY (entry_dropped_messages), FALSE);

  entry_count_downloads = gtk_entry_new ();
  gtk_widget_ref (entry_count_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_count_downloads", entry_count_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_count_downloads);
  gtk_table_attach (GTK_TABLE (table1), entry_count_downloads, 1, 2, 4, 5,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_count_downloads, 72, -2);
  gtk_widget_set_sensitive (entry_count_downloads, FALSE);
  gtk_entry_set_editable (GTK_ENTRY (entry_count_downloads), FALSE);

  entry_count_uploads = gtk_entry_new ();
  gtk_widget_ref (entry_count_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_count_uploads", entry_count_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_count_uploads);
  gtk_table_attach (GTK_TABLE (table1), entry_count_uploads, 1, 2, 5, 6,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_count_uploads, 72, -2);
  gtk_widget_set_sensitive (entry_count_uploads, FALSE);
  gtk_entry_set_editable (GTK_ENTRY (entry_count_uploads), FALSE);

  vbox3 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox3", vbox3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox3);
  gtk_box_pack_start (GTK_BOX (hbox5), vbox3, TRUE, TRUE, 0);

  hbox8 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox8);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox8", hbox8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox8);
  gtk_box_pack_start (GTK_BOX (vbox3), hbox8, FALSE, FALSE, 0);

  label_host_catcher = gtk_label_new ("gnutellaNet host catcher:");
  gtk_widget_ref (label_host_catcher);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_host_catcher", label_host_catcher,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_host_catcher);
  gtk_box_pack_start (GTK_BOX (hbox8), label_host_catcher, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label_host_catcher), GTK_JUSTIFY_LEFT);

  table3 = gtk_table_new (1, 2, FALSE);
  gtk_widget_ref (table3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table3", table3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table3);
  gtk_box_pack_start (GTK_BOX (vbox3), table3, TRUE, TRUE, 0);

  hbox65 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox65);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox65", hbox65,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox65);
  gtk_table_attach (GTK_TABLE (table3), hbox65, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  label95 = gtk_label_new ("Hosts in catcher:");
  gtk_widget_ref (label95);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label95", label95,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label95);
  gtk_box_pack_start (GTK_BOX (hbox65), label95, FALSE, FALSE, 0);

  entry_hosts_in_catcher = gtk_entry_new ();
  gtk_widget_ref (entry_hosts_in_catcher);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_hosts_in_catcher", entry_hosts_in_catcher,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_hosts_in_catcher);
  gtk_table_attach (GTK_TABLE (table3), entry_hosts_in_catcher, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_widget_set_usize (entry_hosts_in_catcher, 72, -2);
  gtk_widget_set_sensitive (entry_hosts_in_catcher, FALSE);
  gtk_entry_set_editable (GTK_ENTRY (entry_hosts_in_catcher), FALSE);

  hbuttonbox1 = gtk_hbutton_box_new ();
  gtk_widget_ref (hbuttonbox1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbuttonbox1", hbuttonbox1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbuttonbox1);
  gtk_box_pack_start (GTK_BOX (vbox3), hbuttonbox1, FALSE, TRUE, 0);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox1), GTK_BUTTONBOX_SPREAD);
  gtk_button_box_set_spacing (GTK_BUTTON_BOX (hbuttonbox1), 15);

  button_host_catcher_clear = gtk_button_new_with_label ("Clear");
  gtk_widget_ref (button_host_catcher_clear);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_host_catcher_clear", button_host_catcher_clear,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_host_catcher_clear);
  gtk_container_add (GTK_CONTAINER (hbuttonbox1), button_host_catcher_clear);
  gtk_widget_set_sensitive (button_host_catcher_clear, FALSE);
  GTK_WIDGET_SET_FLAGS (button_host_catcher_clear, GTK_CAN_DEFAULT);

  hbuttonbox2 = gtk_hbutton_box_new ();
  gtk_widget_ref (hbuttonbox2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbuttonbox2", hbuttonbox2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbuttonbox2);
  gtk_box_pack_start (GTK_BOX (vbox3), hbuttonbox2, FALSE, TRUE, 0);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox2), GTK_BUTTONBOX_SPREAD);
  gtk_button_box_set_spacing (GTK_BUTTON_BOX (hbuttonbox2), 15);

  label_gnutellanet = gtk_label_new ("gnutellaNet");
  gtk_widget_ref (label_gnutellanet);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_gnutellanet", label_gnutellanet,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_gnutellanet);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 0), label_gnutellanet);

  vbox_uploads = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_uploads", vbox_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_uploads);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox_uploads);

  hbox46 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox46);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox46", hbox46,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox46);
  gtk_box_pack_start (GTK_BOX (vbox_uploads), hbox46, FALSE, TRUE, 0);

  label71 = gtk_label_new ("Uploads:");
  gtk_widget_ref (label71);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label71", label71,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label71);
  gtk_box_pack_start (GTK_BOX (hbox46), label71, FALSE, FALSE, 0);

  scrolledwindow9 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow9);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow9", scrolledwindow9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow9);
  gtk_box_pack_start (GTK_BOX (vbox_uploads), scrolledwindow9, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow9), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_uploads = gtk_clist_new (5);
  gtk_widget_ref (clist_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_uploads", clist_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_uploads);
  gtk_container_add (GTK_CONTAINER (scrolledwindow9), clist_uploads);
  gtk_clist_set_column_width (GTK_CLIST (clist_uploads), 0, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_uploads), 1, 60);
  gtk_clist_set_column_width (GTK_CLIST (clist_uploads), 2, 40);
  gtk_clist_set_column_width (GTK_CLIST (clist_uploads), 3, 40);
  gtk_clist_set_column_width (GTK_CLIST (clist_uploads), 4, 60);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_uploads), GTK_SELECTION_EXTENDED);
  gtk_clist_column_titles_show (GTK_CLIST (clist_uploads));

  label72 = gtk_label_new ("File");
  gtk_widget_ref (label72);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label72", label72,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label72);
  gtk_clist_set_column_widget (GTK_CLIST (clist_uploads), 0, label72);

  label73 = gtk_label_new ("Host");
  gtk_widget_ref (label73);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label73", label73,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label73);
  gtk_clist_set_column_widget (GTK_CLIST (clist_uploads), 1, label73);

  label_size_range = gtk_label_new ("Size");
  gtk_widget_ref (label_size_range);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_size_range", label_size_range,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_size_range);
  gtk_clist_set_column_widget (GTK_CLIST (clist_uploads), 2, label_size_range);

  label_up_range = gtk_label_new ("Range");
  gtk_widget_ref (label_up_range);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_up_range", label_up_range,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_up_range);
  gtk_clist_set_column_widget (GTK_CLIST (clist_uploads), 3, label_up_range);

  label74 = gtk_label_new ("Status");
  gtk_widget_ref (label74);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label74", label74,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label74);
  gtk_clist_set_column_widget (GTK_CLIST (clist_uploads), 4, label74);

  hbox47 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox47);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox47", hbox47,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox47);
  gtk_box_pack_start (GTK_BOX (vbox_uploads), hbox47, FALSE, TRUE, 0);

  button_kill_upload = gtk_button_new_with_label (" Kill selected ");
  gtk_widget_ref (button_kill_upload);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_kill_upload", button_kill_upload,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_kill_upload);
  gtk_box_pack_start (GTK_BOX (hbox47), button_kill_upload, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_kill_upload, FALSE);

  button_clear_uploads = gtk_button_new_with_label (" Clear completed ");
  gtk_widget_ref (button_clear_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_clear_uploads", button_clear_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_clear_uploads);
  gtk_box_pack_start (GTK_BOX (hbox47), button_clear_uploads, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_clear_uploads, FALSE);

  hbox53 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox53);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox53", hbox53,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox53);
  gtk_box_pack_start (GTK_BOX (vbox_uploads), hbox53, FALSE, FALSE, 0);

  checkbutton_clear_uploads = gtk_check_button_new_with_label ("Auto clear completed uploads");
  gtk_widget_ref (checkbutton_clear_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_clear_uploads", checkbutton_clear_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_clear_uploads);
  gtk_box_pack_start (GTK_BOX (hbox53), checkbutton_clear_uploads, FALSE, FALSE, 0);

  entry_max_uploads = gtk_entry_new_with_max_length (4);
  gtk_widget_ref (entry_max_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_max_uploads", entry_max_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_max_uploads);
  gtk_box_pack_start (GTK_BOX (hbox53), entry_max_uploads, FALSE, TRUE, 0);
  gtk_widget_set_usize (entry_max_uploads, 32, -2);

  label81 = gtk_label_new ("Maximum simultaneous uploads");
  gtk_widget_ref (label81);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label81", label81,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label81);
  gtk_box_pack_start (GTK_BOX (hbox53), label81, FALSE, FALSE, 0);

  label_uploads = gtk_label_new ("Uploads");
  gtk_widget_ref (label_uploads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_uploads", label_uploads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_uploads);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 1), label_uploads);

  ul_stats_vbox1 = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (ul_stats_vbox1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_vbox1", ul_stats_vbox1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_vbox1);
  gtk_container_add (GTK_CONTAINER (notebook_main), ul_stats_vbox1);

  ul_stats_hbox1 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (ul_stats_hbox1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_hbox1", ul_stats_hbox1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_hbox1);
  gtk_box_pack_start (GTK_BOX (ul_stats_vbox1), ul_stats_hbox1, FALSE, FALSE, 0);

  ul_stats_label1 = gtk_label_new ("Upload History:");
  gtk_widget_ref (ul_stats_label1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_label1", ul_stats_label1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_label1);
  gtk_box_pack_start (GTK_BOX (ul_stats_hbox1), ul_stats_label1, FALSE, FALSE, 0);

  ul_stats_scrolledwindow = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (ul_stats_scrolledwindow);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_scrolledwindow", ul_stats_scrolledwindow,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_scrolledwindow);
  gtk_box_pack_start (GTK_BOX (ul_stats_vbox1), ul_stats_scrolledwindow, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (ul_stats_scrolledwindow), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_ul_stats = gtk_clist_new (5);
  gtk_widget_ref (clist_ul_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_ul_stats", clist_ul_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_ul_stats);
  gtk_container_add (GTK_CONTAINER (ul_stats_scrolledwindow), clist_ul_stats);
  gtk_clist_set_column_width (GTK_CLIST (clist_ul_stats), 0, 283);
  gtk_clist_set_column_width (GTK_CLIST (clist_ul_stats), 1, 44);
  gtk_clist_set_column_width (GTK_CLIST (clist_ul_stats), 2, 53);
  gtk_clist_set_column_width (GTK_CLIST (clist_ul_stats), 3, 53);
  gtk_clist_set_column_width (GTK_CLIST (clist_ul_stats), 4, 23);
  gtk_clist_column_titles_show (GTK_CLIST (clist_ul_stats));

  ul_stats_label2 = gtk_label_new ("Filename");
  gtk_widget_ref (ul_stats_label2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_label2", ul_stats_label2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_label2);
  gtk_clist_set_column_widget (GTK_CLIST (clist_ul_stats), 0, ul_stats_label2);

  ul_stats_size = gtk_label_new ("Size");
  gtk_widget_ref (ul_stats_size);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_size", ul_stats_size,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_size);
  gtk_clist_set_column_widget (GTK_CLIST (clist_ul_stats), 1, ul_stats_size);

  ul_stats_label3 = gtk_label_new ("Attempts");
  gtk_widget_ref (ul_stats_label3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_label3", ul_stats_label3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_label3);
  gtk_clist_set_column_widget (GTK_CLIST (clist_ul_stats), 2, ul_stats_label3);

  ul_stats_label4 = gtk_label_new ("Complete");
  gtk_widget_ref (ul_stats_label4);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_label4", ul_stats_label4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_label4);
  gtk_clist_set_column_widget (GTK_CLIST (clist_ul_stats), 3, ul_stats_label4);

  ul_stats_ace = gtk_label_new ("Normalized");
  gtk_widget_ref (ul_stats_ace);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_ace", ul_stats_ace,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_ace);
  gtk_clist_set_column_widget (GTK_CLIST (clist_ul_stats), 4, ul_stats_ace);

  ul_stats_hbox2 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (ul_stats_hbox2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ul_stats_hbox2", ul_stats_hbox2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ul_stats_hbox2);
  gtk_box_pack_start (GTK_BOX (ul_stats_vbox1), ul_stats_hbox2, FALSE, FALSE, 0);

  button_ul_stats_clear_deleted = gtk_button_new_with_label (" Clear Nonexistant Files ");
  gtk_widget_ref (button_ul_stats_clear_deleted);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_ul_stats_clear_deleted", button_ul_stats_clear_deleted,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_ul_stats_clear_deleted);
  gtk_box_pack_start (GTK_BOX (ul_stats_hbox2), button_ul_stats_clear_deleted, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_ul_stats_clear_deleted, FALSE);

  button_ul_stats_clear_all = gtk_button_new_with_label (" Clear All ");
  gtk_widget_ref (button_ul_stats_clear_all);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_ul_stats_clear_all", button_ul_stats_clear_all,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_ul_stats_clear_all);
  gtk_box_pack_start (GTK_BOX (ul_stats_hbox2), button_ul_stats_clear_all, FALSE, FALSE, 0);

  label_ul_stats = gtk_label_new ("Upload Stats");
  gtk_widget_ref (label_ul_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_ul_stats", label_ul_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_ul_stats);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 2), label_ul_stats);

  vbox_downloads = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_downloads", vbox_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_downloads);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox_downloads);

  hbox40 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox40);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox40", hbox40,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox40);
  gtk_box_pack_start (GTK_BOX (vbox_downloads), hbox40, FALSE, FALSE, 0);

  label60 = gtk_label_new ("Downloads:");
  gtk_widget_ref (label60);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label60", label60,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label60);
  gtk_box_pack_start (GTK_BOX (hbox40), label60, FALSE, FALSE, 0);

  scrolledwindow6 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow6);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow6", scrolledwindow6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow6);
  gtk_box_pack_start (GTK_BOX (vbox_downloads), scrolledwindow6, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow6), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_downloads = gtk_clist_new (4);
  gtk_widget_ref (clist_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_downloads", clist_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_downloads);
  gtk_container_add (GTK_CONTAINER (scrolledwindow6), clist_downloads);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads), 0, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads), 1, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads), 2, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_downloads), 3, 80);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_downloads), GTK_SELECTION_EXTENDED);
  gtk_clist_column_titles_show (GTK_CLIST (clist_downloads));

  label61 = gtk_label_new ("File");
  gtk_widget_ref (label61);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label61", label61,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label61);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads), 0, label61);

  label97 = gtk_label_new ("Host");
  gtk_widget_ref (label97);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label97", label97,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label97);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads), 1, label97);

  label62 = gtk_label_new ("Size");
  gtk_widget_ref (label62);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label62", label62,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label62);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads), 2, label62);

  label63 = gtk_label_new ("Status");
  gtk_widget_ref (label63);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label63", label63,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label63);
  gtk_clist_set_column_widget (GTK_CLIST (clist_downloads), 3, label63);

  hbox41 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox41);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox41", hbox41,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox41);
  gtk_box_pack_start (GTK_BOX (vbox_downloads), hbox41, FALSE, TRUE, 0);

  button_abort_download = gtk_button_new_with_label (" Abort selected ");
  gtk_widget_ref (button_abort_download);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_abort_download", button_abort_download,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_abort_download);
  gtk_box_pack_start (GTK_BOX (hbox41), button_abort_download, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_abort_download, FALSE);

  button_resume_download = gtk_button_new_with_label (" Resume selected ");
  gtk_widget_ref (button_resume_download);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_resume_download", button_resume_download,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_resume_download);
  gtk_box_pack_start (GTK_BOX (hbox41), button_resume_download, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_resume_download, FALSE);

  button_clear_download = gtk_button_new_with_label (" Clear completed ");
  gtk_widget_ref (button_clear_download);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_clear_download", button_clear_download,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_clear_download);
  gtk_box_pack_start (GTK_BOX (hbox41), button_clear_download, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_clear_download, FALSE);

  hbox42 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox42);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox42", hbox42,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox42);
  gtk_box_pack_start (GTK_BOX (vbox_downloads), hbox42, FALSE, TRUE, 0);

  label64 = gtk_label_new ("Maximum simultaneous downloads:");
  gtk_widget_ref (label64);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label64", label64,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label64);
  gtk_box_pack_start (GTK_BOX (hbox42), label64, FALSE, FALSE, 0);

  entry_max_downloads = gtk_entry_new ();
  gtk_widget_ref (entry_max_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_max_downloads", entry_max_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_max_downloads);
  gtk_box_pack_start (GTK_BOX (hbox42), entry_max_downloads, FALSE, TRUE, 0);
  gtk_widget_set_usize (entry_max_downloads, 32, -2);

  label80 = gtk_label_new ("Max downloads from single host:");
  gtk_widget_ref (label80);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label80", label80,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label80);
  gtk_box_pack_start (GTK_BOX (hbox42), label80, FALSE, FALSE, 0);

  entry_max_host_downloads = gtk_entry_new ();
  gtk_widget_ref (entry_max_host_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_max_host_downloads", entry_max_host_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_max_host_downloads);
  gtk_box_pack_start (GTK_BOX (hbox42), entry_max_host_downloads, FALSE, TRUE, 0);
  gtk_widget_set_usize (entry_max_host_downloads, 32, -2);

  hbox51 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox51);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox51", hbox51,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox51);
  gtk_box_pack_start (GTK_BOX (vbox_downloads), hbox51, FALSE, TRUE, 0);

  checkbutton_clear_downloads = gtk_check_button_new_with_label ("Auto clear completed downloads");
  gtk_widget_ref (checkbutton_clear_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_clear_downloads", checkbutton_clear_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_clear_downloads);
  gtk_box_pack_start (GTK_BOX (hbox51), checkbutton_clear_downloads, FALSE, FALSE, 0);

  checkbutton_never_push = gtk_check_button_new_with_label ("Never send a push request");
  gtk_widget_ref (checkbutton_never_push);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_never_push", checkbutton_never_push,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_never_push);
  gtk_box_pack_start (GTK_BOX (hbox51), checkbutton_never_push, FALSE, FALSE, 0);

  hbox43 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox43);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox43", hbox43,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox43);
  gtk_box_pack_start (GTK_BOX (vbox_downloads), hbox43, FALSE, TRUE, 0);

  label65 = gtk_label_new ("Download queue:");
  gtk_widget_ref (label65);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label65", label65,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label65);
  gtk_box_pack_start (GTK_BOX (hbox43), label65, FALSE, FALSE, 0);

  scrolledwindow7 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow7);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow7", scrolledwindow7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow7);
  gtk_box_pack_start (GTK_BOX (vbox_downloads), scrolledwindow7, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow7), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_download_queue = gtk_clist_new (3);
  gtk_widget_ref (clist_download_queue);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_download_queue", clist_download_queue,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_download_queue);
  gtk_container_add (GTK_CONTAINER (scrolledwindow7), clist_download_queue);
  gtk_clist_set_column_width (GTK_CLIST (clist_download_queue), 0, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_download_queue), 1, 80);
  gtk_clist_set_column_width (GTK_CLIST (clist_download_queue), 2, 80);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_download_queue), GTK_SELECTION_EXTENDED);
  gtk_clist_column_titles_show (GTK_CLIST (clist_download_queue));

  label66 = gtk_label_new ("File");
  gtk_widget_ref (label66);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label66", label66,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label66);
  gtk_clist_set_column_widget (GTK_CLIST (clist_download_queue), 0, label66);

  label96 = gtk_label_new ("Host");
  gtk_widget_ref (label96);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label96", label96,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label96);
  gtk_clist_set_column_widget (GTK_CLIST (clist_download_queue), 1, label96);

  label67 = gtk_label_new ("Size");
  gtk_widget_ref (label67);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label67", label67,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label67);
  gtk_clist_set_column_widget (GTK_CLIST (clist_download_queue), 2, label67);

  hbox44 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox44);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox44", hbox44,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox44);
  gtk_box_pack_start (GTK_BOX (vbox_downloads), hbox44, FALSE, TRUE, 0);

  button_remove_download = gtk_button_new_with_label (" Remove selected from queue ");
  gtk_widget_ref (button_remove_download);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_remove_download", button_remove_download,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_remove_download);
  gtk_box_pack_start (GTK_BOX (hbox44), button_remove_download, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_remove_download, FALSE);

  label_downloads = gtk_label_new ("Downloads");
  gtk_widget_ref (label_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_downloads", label_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_downloads);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 3), label_downloads);

  vbox_search = gtk_vbox_new (FALSE, 6);
  gtk_widget_ref (vbox_search);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_search", vbox_search,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_search);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox_search);

  hbox18 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox18);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox18", hbox18,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox18);
  gtk_box_pack_start (GTK_BOX (vbox_search), hbox18, FALSE, TRUE, 0);

  entry_search = gtk_entry_new ();
  gtk_widget_ref (entry_search);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_search", entry_search,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_search);
  gtk_box_pack_start (GTK_BOX (hbox18), entry_search, TRUE, TRUE, 0);

  button_search = gtk_button_new_with_label (" New search ");
  gtk_widget_ref (button_search);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search", button_search,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search);
  gtk_box_pack_start (GTK_BOX (hbox18), button_search, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_search, FALSE);

  table2 = gtk_table_new (1, 5, FALSE);
  gtk_widget_ref (table2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table2", table2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table2);
  gtk_box_pack_start (GTK_BOX (vbox_search), table2, FALSE, FALSE, 0);
  gtk_table_set_col_spacings (GTK_TABLE (table2), 8);

  button_search_close = gtk_button_new_with_label ("Close this search");
  gtk_widget_ref (button_search_close);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_close", button_search_close,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_close);
  gtk_table_attach (GTK_TABLE (table2), button_search_close, 3, 4, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (button_search_close, FALSE);

  button_search_filter = gtk_button_new_with_label ("Filter results");
  gtk_widget_ref (button_search_filter);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_filter", button_search_filter,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_filter);
  gtk_table_attach (GTK_TABLE (table2), button_search_filter, 2, 3, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);

  label79 = gtk_label_new ("Active searches:");
  gtk_widget_ref (label79);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label79", label79,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label79);
  gtk_table_attach (GTK_TABLE (table2), label79, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);

  combo_searches = gtk_combo_new ();
  gtk_widget_ref (combo_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "combo_searches", combo_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (combo_searches);
  gtk_table_attach (GTK_TABLE (table2), combo_searches, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (combo_searches, FALSE);

  combo_entry_searches = GTK_COMBO (combo_searches)->entry;
  gtk_widget_ref (combo_entry_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "combo_entry_searches", combo_entry_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (combo_entry_searches);
  gtk_entry_set_editable (GTK_ENTRY (combo_entry_searches), FALSE);

  hbox19 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox19);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox19", hbox19,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox19);
  gtk_box_pack_start (GTK_BOX (vbox_search), hbox19, FALSE, FALSE, 0);

  label_items_found = gtk_label_new ("No item found");
  gtk_widget_ref (label_items_found);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_items_found", label_items_found,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_items_found);
  gtk_box_pack_start (GTK_BOX (hbox19), label_items_found, FALSE, FALSE, 0);

  label_blank_3 = gtk_label_new ("");
  gtk_widget_ref (label_blank_3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_blank_3", label_blank_3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_blank_3);
  gtk_box_pack_start (GTK_BOX (hbox19), label_blank_3, TRUE, TRUE, 0);

  label30 = gtk_label_new ("Minimum connection speed (kbps)");
  gtk_widget_ref (label30);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label30", label30,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label30);
  gtk_box_pack_start (GTK_BOX (hbox19), label30, FALSE, FALSE, 0);

  entry_minimum_speed = gtk_entry_new ();
  gtk_widget_ref (entry_minimum_speed);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_minimum_speed", entry_minimum_speed,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_minimum_speed);
  gtk_box_pack_start (GTK_BOX (hbox19), entry_minimum_speed, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_minimum_speed, 32, -2);

  notebook_search_results = gtk_notebook_new ();
  gtk_widget_ref (notebook_search_results);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "notebook_search_results", notebook_search_results,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (notebook_search_results);
  gtk_box_pack_start (GTK_BOX (vbox_search), notebook_search_results, TRUE, TRUE, 0);
  GTK_WIDGET_UNSET_FLAGS (notebook_search_results, GTK_CAN_FOCUS);
  gtk_notebook_set_show_tabs (GTK_NOTEBOOK (notebook_search_results), FALSE);
  gtk_notebook_set_show_border (GTK_NOTEBOOK (notebook_search_results), FALSE);

  empty_notebook_page = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (empty_notebook_page);
  gtk_container_add (GTK_CONTAINER (notebook_search_results), empty_notebook_page);

  hbox20 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox20);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox20", hbox20,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox20);
  gtk_box_pack_start (GTK_BOX (vbox_search), hbox20, FALSE, TRUE, 0);

  button_search_download = gtk_button_new_with_label (" Download selected files ");
  gtk_widget_ref (button_search_download);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_download", button_search_download,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_download);
  gtk_box_pack_start (GTK_BOX (hbox20), button_search_download, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_search_download, FALSE);
  gtk_widget_add_accelerator (button_search_download, "clicked", accel_group,
                              GDK_d, GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  button_search_stream = gtk_button_new_with_label (" Stream selected files ");
  gtk_widget_ref (button_search_stream);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_stream", button_search_stream,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_stream);
  gtk_box_pack_start (GTK_BOX (hbox20), button_search_stream, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_search_stream, FALSE);

  button_search_passive = gtk_button_new_with_label ("New passive search");
  gtk_widget_ref (button_search_passive);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_passive", button_search_passive,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_passive);
  gtk_box_pack_start (GTK_BOX (hbox20), button_search_passive, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, button_search_passive, "A passive search matches any search results routed through this node", NULL);
  gtk_widget_add_accelerator (button_search_passive, "clicked", accel_group,
                              GDK_p, GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  button_search_clear = gtk_button_new_with_label ("Clear results");
  gtk_widget_ref (button_search_clear);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_search_clear", button_search_clear,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_search_clear);
  gtk_box_pack_start (GTK_BOX (hbox20), button_search_clear, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_search_clear, FALSE);
  gtk_widget_add_accelerator (button_search_clear, "clicked", accel_group,
                              GDK_c, GDK_CONTROL_MASK,
                              GTK_ACCEL_VISIBLE);

  hbox52 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox52);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox52", hbox52,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox52);
  gtk_box_pack_start (GTK_BOX (vbox_search), hbox52, FALSE, TRUE, 0);

  checkbutton_jump_to_downloads = gtk_check_button_new_with_label ("Jump to downloads");
  gtk_widget_ref (checkbutton_jump_to_downloads);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_jump_to_downloads", checkbutton_jump_to_downloads,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_jump_to_downloads);
  gtk_box_pack_start (GTK_BOX (hbox52), checkbutton_jump_to_downloads, FALSE, FALSE, 0);

  hbox63 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox63);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox63", hbox63,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox63);
  gtk_box_pack_start (GTK_BOX (hbox52), hbox63, TRUE, TRUE, 0);

  hbox64 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox64);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox64", hbox64,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox64);
  gtk_box_pack_start (GTK_BOX (hbox63), hbox64, TRUE, TRUE, 0);

  checkbutton_autodownload = gtk_check_button_new_with_label ("Automatic Download");
  gtk_widget_ref (checkbutton_autodownload);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_autodownload", checkbutton_autodownload,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_autodownload);
  gtk_box_pack_start (GTK_BOX (hbox64), checkbutton_autodownload, FALSE, FALSE, 0);

  hbox62 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox62);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox62", hbox62,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox62);
  gtk_box_pack_start (GTK_BOX (hbox52), hbox62, TRUE, TRUE, 0);

  hbuttonbox3 = gtk_hbutton_box_new ();
  gtk_widget_ref (hbuttonbox3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbuttonbox3", hbuttonbox3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbuttonbox3);
  gtk_box_pack_start (GTK_BOX (hbox62), hbuttonbox3, TRUE, TRUE, 0);

  search_reissue_label = gtk_label_new ("Retry search every (seconds, 0=never):");
  gtk_widget_ref (search_reissue_label);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "search_reissue_label", search_reissue_label,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (search_reissue_label);
  gtk_box_pack_start (GTK_BOX (hbox62), search_reissue_label, FALSE, FALSE, 2);

  entry_search_reissue_timeout = gtk_entry_new ();
  gtk_widget_ref (entry_search_reissue_timeout);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_search_reissue_timeout", entry_search_reissue_timeout,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_search_reissue_timeout);
  gtk_box_pack_start (GTK_BOX (hbox62), entry_search_reissue_timeout, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_search_reissue_timeout, 40, -2);

  label_search = gtk_label_new ("Search");
  gtk_widget_ref (label_search);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_search", label_search,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_search);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 4), label_search);

  vbox_monitor = gtk_vbox_new (FALSE, 10);
  gtk_widget_ref (vbox_monitor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_monitor", vbox_monitor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_monitor);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox_monitor);

  hbox45 = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox45);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox45", hbox45,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox45);
  gtk_box_pack_start (GTK_BOX (vbox_monitor), hbox45, FALSE, TRUE, 0);

  checkbutton_monitor = gtk_check_button_new_with_label ("Search monitor enabled");
  gtk_widget_ref (checkbutton_monitor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_monitor", checkbutton_monitor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_monitor);
  gtk_box_pack_start (GTK_BOX (hbox45), checkbutton_monitor, FALSE, FALSE, 0);

  label75 = gtk_label_new ("");
  gtk_widget_ref (label75);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label75", label75,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label75);
  gtk_box_pack_start (GTK_BOX (hbox45), label75, TRUE, FALSE, 0);

  label68 = gtk_label_new ("Show last");
  gtk_widget_ref (label68);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label68", label68,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label68);
  gtk_box_pack_start (GTK_BOX (hbox45), label68, FALSE, FALSE, 0);

  entry_monitor = gtk_entry_new ();
  gtk_widget_ref (entry_monitor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_monitor", entry_monitor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_monitor);
  gtk_box_pack_start (GTK_BOX (hbox45), entry_monitor, FALSE, TRUE, 0);
  gtk_widget_set_usize (entry_monitor, 32, -2);

  label69 = gtk_label_new ("searches");
  gtk_widget_ref (label69);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label69", label69,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label69);
  gtk_box_pack_start (GTK_BOX (hbox45), label69, FALSE, FALSE, 0);

  scrolledwindow8 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow8);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow8", scrolledwindow8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow8);
  gtk_box_pack_start (GTK_BOX (vbox_monitor), scrolledwindow8, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow8), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_monitor = gtk_clist_new (1);
  gtk_widget_ref (clist_monitor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_monitor", clist_monitor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_monitor);
  gtk_container_add (GTK_CONTAINER (scrolledwindow8), clist_monitor);
  GTK_WIDGET_UNSET_FLAGS (clist_monitor, GTK_CAN_FOCUS);
  gtk_clist_set_column_width (GTK_CLIST (clist_monitor), 0, 80);
  gtk_clist_set_selection_mode (GTK_CLIST (clist_monitor), GTK_SELECTION_BROWSE);
  gtk_clist_column_titles_show (GTK_CLIST (clist_monitor));

  label70 = gtk_label_new ("Search");
  gtk_widget_ref (label70);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label70", label70,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label70);
  gtk_clist_set_column_widget (GTK_CLIST (clist_monitor), 0, label70);

  label_monitor = gtk_label_new ("Monitor");
  gtk_widget_ref (label_monitor);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_monitor", label_monitor,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_monitor);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 5), label_monitor);

  vbox12 = gtk_vbox_new (FALSE, 5);
  gtk_widget_ref (vbox12);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox12", vbox12,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox12);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox12);

  hbox67 = gtk_hbox_new (FALSE, 3);
  gtk_widget_ref (hbox67);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox67", hbox67,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox67);
  gtk_box_pack_start (GTK_BOX (vbox12), hbox67, FALSE, TRUE, 0);

  checkbutton_enable_search_stats = gtk_check_button_new_with_label ("Enable Search Stats");
  gtk_widget_ref (checkbutton_enable_search_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_enable_search_stats", checkbutton_enable_search_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_enable_search_stats);
  gtk_box_pack_start (GTK_BOX (hbox67), checkbutton_enable_search_stats, FALSE, FALSE, 0);

  label101 = gtk_label_new ("             Update Interval (1/10s)");
  gtk_widget_ref (label101);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label101", label101,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label101);
  gtk_box_pack_start (GTK_BOX (hbox67), label101, TRUE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label101), GTK_JUSTIFY_RIGHT);

  entry_search_stats_update_interval = gtk_entry_new ();
  gtk_widget_ref (entry_search_stats_update_interval);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_search_stats_update_interval", entry_search_stats_update_interval,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_search_stats_update_interval);
  gtk_box_pack_start (GTK_BOX (hbox67), entry_search_stats_update_interval, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_search_stats_update_interval, 40, -2);

  label102 = gtk_label_new ("  Deletion Coeff. (0-100)");
  gtk_widget_ref (label102);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label102", label102,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label102);
  gtk_box_pack_start (GTK_BOX (hbox67), label102, TRUE, TRUE, 0);
  gtk_label_set_justify (GTK_LABEL (label102), GTK_JUSTIFY_RIGHT);

  entry_search_stats_delcoef = gtk_entry_new ();
  gtk_widget_ref (entry_search_stats_delcoef);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_search_stats_delcoef", entry_search_stats_delcoef,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_search_stats_delcoef);
  gtk_box_pack_end (GTK_BOX (hbox67), entry_search_stats_delcoef, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_search_stats_delcoef, 32, -2);

  scrolledwindow10 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow10);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow10", scrolledwindow10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow10);
  gtk_box_pack_start (GTK_BOX (vbox12), scrolledwindow10, TRUE, TRUE, 0);

  clist_search_stats = gtk_clist_new (3);
  gtk_widget_ref (clist_search_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "clist_search_stats", clist_search_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (clist_search_stats);
  gtk_container_add (GTK_CONTAINER (scrolledwindow10), clist_search_stats);
  gtk_clist_set_column_width (GTK_CLIST (clist_search_stats), 0, 498);
  gtk_clist_set_column_width (GTK_CLIST (clist_search_stats), 1, 93);
  gtk_clist_set_column_width (GTK_CLIST (clist_search_stats), 2, 80);
  gtk_clist_column_titles_show (GTK_CLIST (clist_search_stats));

  label105 = gtk_label_new ("Search Term");
  gtk_widget_ref (label105);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label105", label105,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label105);
  gtk_clist_set_column_widget (GTK_CLIST (clist_search_stats), 0, label105);

  label106 = gtk_label_new ("This Interval");
  gtk_widget_ref (label106);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label106", label106,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label106);
  gtk_clist_set_column_widget (GTK_CLIST (clist_search_stats), 1, label106);

  label107 = gtk_label_new ("Total");
  gtk_widget_ref (label107);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label107", label107,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label107);
  gtk_clist_set_column_widget (GTK_CLIST (clist_search_stats), 2, label107);

  alignment1 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "alignment1", alignment1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment1);
  gtk_box_pack_start (GTK_BOX (vbox12), alignment1, FALSE, FALSE, 0);

  hbox66 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox66);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox66", hbox66,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox66);
  gtk_container_add (GTK_CONTAINER (alignment1), hbox66);

  button_reset_search_stats = gtk_button_new_with_label ("  Reset Stats  ");
  gtk_widget_ref (button_reset_search_stats);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_reset_search_stats", button_reset_search_stats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_reset_search_stats);
  gtk_box_pack_start (GTK_BOX (hbox66), button_reset_search_stats, FALSE, FALSE, 0);

  label_search_stats_count = gtk_label_new ("0");
  gtk_widget_ref (label_search_stats_count);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_search_stats_count", label_search_stats_count,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_search_stats_count);
  gtk_box_pack_end (GTK_BOX (hbox66), label_search_stats_count, FALSE, FALSE, 0);
  gtk_widget_set_usize (label_search_stats_count, 48, -2);
  gtk_label_set_justify (GTK_LABEL (label_search_stats_count), GTK_JUSTIFY_RIGHT);

  label98 = gtk_label_new ("label98");
  gtk_widget_ref (label98);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label98", label98,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label98);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 6), label98);

  vbox_config = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox_config);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_config", vbox_config,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_config);
  gtk_container_add (GTK_CONTAINER (notebook_main), vbox_config);

  frame_save_new_files = gtk_frame_new ("While downloading, store files to:");
  gtk_widget_ref (frame_save_new_files);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_save_new_files", frame_save_new_files,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_save_new_files);
  gtk_box_pack_start (GTK_BOX (vbox_config), frame_save_new_files, TRUE, TRUE, 0);

  table_save_files_button = gtk_table_new (1, 1, FALSE);
  gtk_widget_ref (table_save_files_button);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table_save_files_button", table_save_files_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table_save_files_button);
  gtk_container_add (GTK_CONTAINER (frame_save_new_files), table_save_files_button);
  gtk_container_set_border_width (GTK_CONTAINER (table_save_files_button), 4);

  button_config_save_path = gtk_button_new_with_label ("");
  gtk_widget_ref (button_config_save_path);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_config_save_path", button_config_save_path,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_config_save_path);
  gtk_table_attach (GTK_TABLE (table_save_files_button), button_config_save_path, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);

  frame_move_downloaded_files = gtk_frame_new ("Move downloaded files to:");
  gtk_widget_ref (frame_move_downloaded_files);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_move_downloaded_files", frame_move_downloaded_files,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_move_downloaded_files);
  gtk_box_pack_start (GTK_BOX (vbox_config), frame_move_downloaded_files, TRUE, TRUE, 0);

  table_move_files_button = gtk_table_new (1, 1, FALSE);
  gtk_widget_ref (table_move_files_button);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table_move_files_button", table_move_files_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table_move_files_button);
  gtk_container_add (GTK_CONTAINER (frame_move_downloaded_files), table_move_files_button);
  gtk_container_set_border_width (GTK_CONTAINER (table_move_files_button), 4);

  button_config_move_path = gtk_button_new_with_label ("");
  gtk_widget_ref (button_config_move_path);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_config_move_path", button_config_move_path,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_config_move_path);
  gtk_table_attach (GTK_TABLE (table_move_files_button), button_config_move_path, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);

  frame_path_to_files = gtk_frame_new ("Path(s) to files");
  gtk_widget_ref (frame_path_to_files);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_path_to_files", frame_path_to_files,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_path_to_files);
  gtk_box_pack_start (GTK_BOX (vbox_config), frame_path_to_files, TRUE, TRUE, 0);

  vbox_path_to_files = gtk_vbox_new (FALSE, 4);
  gtk_widget_ref (vbox_path_to_files);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_path_to_files", vbox_path_to_files,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_path_to_files);
  gtk_container_add (GTK_CONTAINER (frame_path_to_files), vbox_path_to_files);
  gtk_container_set_border_width (GTK_CONTAINER (vbox_path_to_files), 4);

  entry_config_path = gtk_entry_new ();
  gtk_widget_ref (entry_config_path);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_path", entry_config_path,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_path);
  gtk_box_pack_start (GTK_BOX (vbox_path_to_files), entry_config_path, FALSE, FALSE, 0);

  hbox_path_buttons = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox_path_buttons);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_path_buttons", hbox_path_buttons,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_path_buttons);
  gtk_box_pack_start (GTK_BOX (vbox_path_to_files), hbox_path_buttons, TRUE, FALSE, 0);

  button_config_add_dir = gtk_button_new_with_label (" Add directory ");
  gtk_widget_ref (button_config_add_dir);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_config_add_dir", button_config_add_dir,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_config_add_dir);
  gtk_box_pack_start (GTK_BOX (hbox_path_buttons), button_config_add_dir, FALSE, FALSE, 0);

  label_files_scanned = gtk_label_new ("Files scanned : ");
  gtk_widget_ref (label_files_scanned);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_files_scanned", label_files_scanned,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_files_scanned);
  gtk_box_pack_start (GTK_BOX (hbox_path_buttons), label_files_scanned, FALSE, FALSE, 0);

  label42 = gtk_label_new ("");
  gtk_widget_ref (label42);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label42", label42,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label42);
  gtk_box_pack_start (GTK_BOX (hbox_path_buttons), label42, TRUE, FALSE, 0);

  button_config_rescan_dir = gtk_button_new_with_label (" Rescan ");
  gtk_widget_ref (button_config_rescan_dir);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_config_rescan_dir", button_config_rescan_dir,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_config_rescan_dir);
  gtk_box_pack_start (GTK_BOX (hbox_path_buttons), button_config_rescan_dir, FALSE, FALSE, 0);

  hbox27 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox27);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox27", hbox27,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox27);
  gtk_box_pack_start (GTK_BOX (vbox_path_to_files), hbox27, TRUE, TRUE, 0);

  label41 = gtk_label_new ("Search extensions:");
  gtk_widget_ref (label41);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label41", label41,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label41);
  gtk_box_pack_start (GTK_BOX (hbox27), label41, FALSE, FALSE, 0);

  entry_config_extensions = gtk_entry_new ();
  gtk_widget_ref (entry_config_extensions);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_extensions", entry_config_extensions,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_extensions);
  gtk_box_pack_start (GTK_BOX (vbox_path_to_files), entry_config_extensions, FALSE, FALSE, 0);

  table_port_ip_speed_searches = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table_port_ip_speed_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table_port_ip_speed_searches", table_port_ip_speed_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table_port_ip_speed_searches);
  gtk_box_pack_start (GTK_BOX (vbox_config), table_port_ip_speed_searches, TRUE, TRUE, 0);
  gtk_table_set_row_spacings (GTK_TABLE (table_port_ip_speed_searches), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table_port_ip_speed_searches), 4);

  frame_local_ip = gtk_frame_new ("Local IP");
  gtk_widget_ref (frame_local_ip);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_local_ip", frame_local_ip,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_local_ip);
  gtk_table_attach (GTK_TABLE (table_port_ip_speed_searches), frame_local_ip, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  table_local_ip = gtk_table_new (1, 3, FALSE);
  gtk_widget_ref (table_local_ip);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table_local_ip", table_local_ip,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table_local_ip);
  gtk_container_add (GTK_CONTAINER (frame_local_ip), table_local_ip);

  checkbutton_config_force_ip = gtk_check_button_new_with_label ("Force local IP to:");
  gtk_widget_ref (checkbutton_config_force_ip);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_config_force_ip", checkbutton_config_force_ip,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_config_force_ip);
  gtk_table_attach (GTK_TABLE (table_local_ip), checkbutton_config_force_ip, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);

  entry_config_force_ip = gtk_entry_new ();
  gtk_widget_ref (entry_config_force_ip);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_force_ip", entry_config_force_ip,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_force_ip);
  gtk_table_attach (GTK_TABLE (table_local_ip), entry_config_force_ip, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);

  label78 = gtk_label_new ("  ");
  gtk_widget_ref (label78);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label78", label78,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label78);
  gtk_table_attach (GTK_TABLE (table_local_ip), label78, 2, 3, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);

  frame_listen_port = gtk_frame_new ("Listen port");
  gtk_widget_ref (frame_listen_port);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_listen_port", frame_listen_port,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_listen_port);
  gtk_table_attach (GTK_TABLE (table_port_ip_speed_searches), frame_listen_port, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  vbox9 = gtk_vbox_new (FALSE, 2);
  gtk_widget_ref (vbox9);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox9", vbox9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox9);
  gtk_container_add (GTK_CONTAINER (frame_listen_port), vbox9);
  gtk_container_set_border_width (GTK_CONTAINER (vbox9), 4);

  hbox48 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox48);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox48", hbox48,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox48);
  gtk_box_pack_start (GTK_BOX (vbox9), hbox48, FALSE, FALSE, 0);

  label35 = gtk_label_new ("Default : 6346, Disable : 0");
  gtk_widget_ref (label35);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label35", label35,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label35);
  gtk_box_pack_start (GTK_BOX (hbox48), label35, FALSE, FALSE, 0);

  hbox22 = gtk_hbox_new (FALSE, 8);
  gtk_widget_ref (hbox22);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox22", hbox22,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox22);
  gtk_box_pack_start (GTK_BOX (vbox9), hbox22, TRUE, FALSE, 0);

  entry_config_port = gtk_entry_new ();
  gtk_widget_ref (entry_config_port);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_port", entry_config_port,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_port);
  gtk_box_pack_start (GTK_BOX (hbox22), entry_config_port, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_config_port, 64, -2);

  button_config_update_port = gtk_button_new_with_label (" Update ");
  gtk_widget_ref (button_config_update_port);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "button_config_update_port", button_config_update_port,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button_config_update_port);
  gtk_box_pack_start (GTK_BOX (hbox22), button_config_update_port, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (button_config_update_port, FALSE);
  GTK_WIDGET_UNSET_FLAGS (button_config_update_port, GTK_CAN_FOCUS);

  hbox49 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox49);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox49", hbox49,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox49);
  gtk_box_pack_start (GTK_BOX (vbox9), hbox49, FALSE, FALSE, 0);

  label_current_port = gtk_label_new ("Current port : 6346");
  gtk_widget_ref (label_current_port);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_current_port", label_current_port,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_current_port);
  gtk_box_pack_start (GTK_BOX (hbox49), label_current_port, FALSE, FALSE, 0);

  frame_connection_speed = gtk_frame_new ("Connection speed");
  gtk_widget_ref (frame_connection_speed);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_connection_speed", frame_connection_speed,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_connection_speed);
  gtk_table_attach (GTK_TABLE (table_port_ip_speed_searches), frame_connection_speed, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  vbox_connection_speed = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_connection_speed);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_connection_speed", vbox_connection_speed,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_connection_speed);
  gtk_container_add (GTK_CONTAINER (frame_connection_speed), vbox_connection_speed);
  gtk_container_set_border_width (GTK_CONTAINER (vbox_connection_speed), 4);

  hbox_speed_kpbs = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox_speed_kpbs);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_speed_kpbs", hbox_speed_kpbs,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_speed_kpbs);
  gtk_box_pack_start (GTK_BOX (vbox_connection_speed), hbox_speed_kpbs, TRUE, TRUE, 0);

  entry_config_speed = gtk_entry_new ();
  gtk_widget_ref (entry_config_speed);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_speed", entry_config_speed,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_speed);
  gtk_box_pack_start (GTK_BOX (hbox_speed_kpbs), entry_config_speed, FALSE, TRUE, 0);
  gtk_widget_set_usize (entry_config_speed, 48, -2);

  label36 = gtk_label_new ("kbits/s");
  gtk_widget_ref (label36);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label36", label36,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label36);
  gtk_box_pack_start (GTK_BOX (hbox_speed_kpbs), label36, FALSE, FALSE, 0);

  checkbutton_config_throttle = gtk_check_button_new_with_label ("Throttle uploads");
  gtk_widget_ref (checkbutton_config_throttle);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_config_throttle", checkbutton_config_throttle,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_config_throttle);
  gtk_box_pack_start (GTK_BOX (vbox_connection_speed), checkbutton_config_throttle, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (checkbutton_config_throttle, FALSE);

  frame_searches = gtk_frame_new ("Searches");
  gtk_widget_ref (frame_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame_searches", frame_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_searches);
  gtk_table_attach (GTK_TABLE (table_port_ip_speed_searches), frame_searches, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  vbox_searches = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_searches);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_searches", vbox_searches,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_searches);
  gtk_container_add (GTK_CONTAINER (frame_searches), vbox_searches);
  gtk_container_set_border_width (GTK_CONTAINER (vbox_searches), 4);

  hbox_limit_search_results = gtk_hbox_new (FALSE, 4);
  gtk_widget_ref (hbox_limit_search_results);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_limit_search_results", hbox_limit_search_results,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_limit_search_results);
  gtk_box_pack_start (GTK_BOX (vbox_searches), hbox_limit_search_results, TRUE, TRUE, 0);

  label37 = gtk_label_new ("Limit search results to ");
  gtk_widget_ref (label37);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label37", label37,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label37);
  gtk_box_pack_start (GTK_BOX (hbox_limit_search_results), label37, FALSE, FALSE, 0);

  entry_config_search_items = gtk_entry_new ();
  gtk_widget_ref (entry_config_search_items);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_search_items", entry_config_search_items,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_search_items);
  gtk_box_pack_start (GTK_BOX (hbox_limit_search_results), entry_config_search_items, FALSE, TRUE, 0);
  gtk_widget_set_usize (entry_config_search_items, 32, -2);

  label38 = gtk_label_new ("items");
  gtk_widget_ref (label38);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label38", label38,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label38);
  gtk_box_pack_start (GTK_BOX (hbox_limit_search_results), label38, FALSE, FALSE, 0);

  label39 = gtk_label_new ("(This limits how many results gnutella returns to other people searching your files)");
  gtk_widget_ref (label39);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label39", label39,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label39);
  gtk_box_pack_start (GTK_BOX (vbox_searches), label39, TRUE, TRUE, 0);
  gtk_label_set_line_wrap (GTK_LABEL (label39), TRUE);

  hbox55 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox55);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox55", hbox55,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox55);
  gtk_box_pack_start (GTK_BOX (vbox_config), hbox55, TRUE, TRUE, 0);

  frame1 = gtk_frame_new ("gnutellaNet TTL settings");
  gtk_widget_ref (frame1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame1", frame1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame1);
  gtk_box_pack_start (GTK_BOX (hbox55), frame1, TRUE, TRUE, 2);
  gtk_widget_set_usize (frame1, 178, -2);

  hbox56 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox56);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox56", hbox56,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox56);
  gtk_container_add (GTK_CONTAINER (frame1), hbox56);

  label84 = gtk_label_new ("Max TTL:");
  gtk_widget_ref (label84);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label84", label84,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label84);
  gtk_box_pack_start (GTK_BOX (hbox56), label84, FALSE, FALSE, 2);

  entry_config_maxttl = gtk_entry_new ();
  gtk_widget_ref (entry_config_maxttl);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_maxttl", entry_config_maxttl,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_maxttl);
  gtk_box_pack_start (GTK_BOX (hbox56), entry_config_maxttl, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_config_maxttl, 32, -2);

  label85 = gtk_label_new ("My TTL:");
  gtk_widget_ref (label85);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label85", label85,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label85);
  gtk_box_pack_start (GTK_BOX (hbox56), label85, FALSE, FALSE, 7);
  gtk_widget_set_usize (label85, 46, -2);

  entry_config_myttl = gtk_entry_new ();
  gtk_widget_ref (entry_config_myttl);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "entry_config_myttl", entry_config_myttl,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_config_myttl);
  gtk_box_pack_start (GTK_BOX (hbox56), entry_config_myttl, FALSE, FALSE, 0);
  gtk_widget_set_usize (entry_config_myttl, 32, -2);

  frame2 = gtk_frame_new ("Proxy Options");
  gtk_widget_ref (frame2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame2", frame2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame2);
  gtk_box_pack_start (GTK_BOX (hbox55), frame2, TRUE, TRUE, 2);
  gtk_widget_set_usize (frame2, 301, 91);

  hbox57 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox57);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox57", hbox57,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox57);
  gtk_container_add (GTK_CONTAINER (frame2), hbox57);

  vbox10 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox10);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox10", vbox10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox10);
  gtk_box_pack_start (GTK_BOX (hbox57), vbox10, TRUE, TRUE, 0);

  hbox59 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox59);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox59", hbox59,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox59);
  gtk_box_pack_start (GTK_BOX (vbox10), hbox59, TRUE, TRUE, 0);

  label90 = gtk_label_new ("Proxy type:");
  gtk_widget_ref (label90);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label90", label90,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label90);
  gtk_box_pack_start (GTK_BOX (hbox59), label90, FALSE, FALSE, 0);

  radio_http = gtk_radio_button_new_with_label (socks_version_group, "http");
  socks_version_group = gtk_radio_button_group (GTK_RADIO_BUTTON (radio_http));
  gtk_widget_ref (radio_http);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "radio_http", radio_http,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (radio_http);
  gtk_box_pack_start (GTK_BOX (hbox59), radio_http, FALSE, FALSE, 0);

  radio_socksv4 = gtk_radio_button_new_with_label (socks_version_group, "v4");
  socks_version_group = gtk_radio_button_group (GTK_RADIO_BUTTON (radio_socksv4));
  gtk_widget_ref (radio_socksv4);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "radio_socksv4", radio_socksv4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (radio_socksv4);
  gtk_box_pack_start (GTK_BOX (hbox59), radio_socksv4, FALSE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (radio_socksv4), TRUE);

  radio_socksv5 = gtk_radio_button_new_with_label (socks_version_group, "v5");
  socks_version_group = gtk_radio_button_group (GTK_RADIO_BUTTON (radio_socksv5));
  gtk_widget_ref (radio_socksv5);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "radio_socksv5", radio_socksv5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (radio_socksv5);
  gtk_box_pack_start (GTK_BOX (hbox59), radio_socksv5, FALSE, FALSE, 0);

  checkbutton_proxy_connections = gtk_check_button_new_with_label ("Proxy Connections?");
  gtk_widget_ref (checkbutton_proxy_connections);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "checkbutton_proxy_connections", checkbutton_proxy_connections,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_proxy_connections);
  gtk_box_pack_start (GTK_BOX (hbox59), checkbutton_proxy_connections, FALSE, FALSE, 0);

  hbox60 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox60);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox60", hbox60,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox60);
  gtk_box_pack_start (GTK_BOX (vbox10), hbox60, TRUE, TRUE, 0);

  label91 = gtk_label_new ("Socks Host:");
  gtk_widget_ref (label91);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label91", label91,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label91);
  gtk_box_pack_start (GTK_BOX (hbox60), label91, FALSE, FALSE, 0);

  config_entry_socks_host = gtk_entry_new ();
  gtk_widget_ref (config_entry_socks_host);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "config_entry_socks_host", config_entry_socks_host,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (config_entry_socks_host);
  gtk_box_pack_start (GTK_BOX (hbox60), config_entry_socks_host, FALSE, FALSE, 0);

  label92 = gtk_label_new ("Port:");
  gtk_widget_ref (label92);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label92", label92,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label92);
  gtk_box_pack_start (GTK_BOX (hbox60), label92, FALSE, FALSE, 0);

  config_entry_socks_port = gtk_entry_new ();
  gtk_widget_ref (config_entry_socks_port);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "config_entry_socks_port", config_entry_socks_port,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (config_entry_socks_port);
  gtk_box_pack_start (GTK_BOX (hbox60), config_entry_socks_port, FALSE, FALSE, 0);
  gtk_widget_set_usize (config_entry_socks_port, 43, -2);

  hbox61 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox61);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox61", hbox61,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox61);
  gtk_box_pack_start (GTK_BOX (vbox10), hbox61, TRUE, TRUE, 0);

  label93 = gtk_label_new ("Username:");
  gtk_widget_ref (label93);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label93", label93,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label93);
  gtk_box_pack_start (GTK_BOX (hbox61), label93, FALSE, FALSE, 4);

  config_entry_socks_username = gtk_entry_new ();
  gtk_widget_ref (config_entry_socks_username);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "config_entry_socks_username", config_entry_socks_username,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (config_entry_socks_username);
  gtk_box_pack_start (GTK_BOX (hbox61), config_entry_socks_username, FALSE, FALSE, 0);
  gtk_widget_set_usize (config_entry_socks_username, 82, -2);

  label94 = gtk_label_new ("Password:");
  gtk_widget_ref (label94);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label94", label94,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label94);
  gtk_box_pack_start (GTK_BOX (hbox61), label94, FALSE, FALSE, 2);

  config_entry_socks_password = gtk_entry_new ();
  gtk_widget_ref (config_entry_socks_password);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "config_entry_socks_password", config_entry_socks_password,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (config_entry_socks_password);
  gtk_box_pack_start (GTK_BOX (hbox61), config_entry_socks_password, FALSE, FALSE, 0);
  gtk_widget_set_usize (config_entry_socks_password, 82, -2);

  label_config = gtk_label_new ("Config");
  gtk_widget_ref (label_config);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_config", label_config,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_config);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook_main), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook_main), 7), label_config);

  hbox_copyright = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox_copyright);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_copyright", hbox_copyright,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_copyright);
  gtk_box_pack_start (GTK_BOX (vbox_right), hbox_copyright, FALSE, FALSE, 0);

  label_left = gtk_label_new ("  ");
  gtk_widget_ref (label_left);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_left", label_left,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_left);
  gtk_box_pack_start (GTK_BOX (hbox_copyright), label_left, FALSE, TRUE, 0);

  label_right = gtk_label_new ("  ");
  gtk_widget_ref (label_right);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_right", label_right,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_right);
  gtk_box_pack_end (GTK_BOX (hbox_copyright), label_right, FALSE, FALSE, 0);

  gtk_signal_connect (GTK_OBJECT (main_window), "delete_event",
                      GTK_SIGNAL_FUNC (on_main_window_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_menu), "select_row",
                      GTK_SIGNAL_FUNC (on_clist_menu_select_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_stats_update), "clicked",
                      GTK_SIGNAL_FUNC (on_button_stats_update_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_quit), "clicked",
                      GTK_SIGNAL_FUNC (on_button_quit_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_nodes), "select_row",
                      GTK_SIGNAL_FUNC (on_clist_nodes_select_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_nodes), "unselect_row",
                      GTK_SIGNAL_FUNC (on_clist_nodes_unselect_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_nodes), "button_press_event",
                      GTK_SIGNAL_FUNC (on_clist_nodes_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_nodes), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_nodes_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_nodes_remove), "clicked",
                      GTK_SIGNAL_FUNC (on_button_nodes_remove_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_nodes_add), "clicked",
                      GTK_SIGNAL_FUNC (on_button_nodes_add_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_host), "changed",
                      GTK_SIGNAL_FUNC (on_entry_host_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_host), "activate",
                      GTK_SIGNAL_FUNC (on_entry_host_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_up_connections), "activate",
                      GTK_SIGNAL_FUNC (on_entry_up_connections_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_up_connections), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_up_connections_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_connections), "activate",
                      GTK_SIGNAL_FUNC (on_entry_max_connections_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_connections), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_max_connections_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_host_catcher_clear), "clicked",
                      GTK_SIGNAL_FUNC (on_button_host_catcher_clear_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_uploads), "select_row",
                      GTK_SIGNAL_FUNC (on_clist_uploads_select_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_uploads), "unselect_row",
                      GTK_SIGNAL_FUNC (on_clist_uploads_unselect_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_uploads), "click_column",
                      GTK_SIGNAL_FUNC (on_clist_uploads_click_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_uploads), "button_press_event",
                      GTK_SIGNAL_FUNC (on_clist_uploads_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_uploads), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_uploads_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_kill_upload), "clicked",
                      GTK_SIGNAL_FUNC (on_button_kill_upload_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_clear_uploads), "clicked",
                      GTK_SIGNAL_FUNC (on_button_clear_uploads_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_clear_uploads), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_clear_uploads_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_uploads), "activate",
                      GTK_SIGNAL_FUNC (on_entry_max_uploads_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_uploads), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_max_uploads_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_ul_stats), "click_column",
                      GTK_SIGNAL_FUNC (on_clist_ul_stats_click_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_ul_stats), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_ul_stats_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_ul_stats_clear_deleted), "clicked",
                      GTK_SIGNAL_FUNC (on_button_ul_stats_clear_deleted_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_ul_stats_clear_all), "clicked",
                      GTK_SIGNAL_FUNC (on_button_ul_stats_clear_all_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads), "select_row",
                      GTK_SIGNAL_FUNC (on_clist_downloads_select_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads), "unselect_row",
                      GTK_SIGNAL_FUNC (on_clist_downloads_unselect_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads), "click_column",
                      GTK_SIGNAL_FUNC (on_clist_downloads_click_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads), "button_press_event",
                      GTK_SIGNAL_FUNC (on_clist_downloads_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_downloads), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_downloads_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_abort_download), "clicked",
                      GTK_SIGNAL_FUNC (on_button_abort_download_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_resume_download), "clicked",
                      GTK_SIGNAL_FUNC (on_button_resume_download_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_clear_download), "clicked",
                      GTK_SIGNAL_FUNC (on_button_clear_download_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_downloads), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_max_downloads_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_downloads), "activate",
                      GTK_SIGNAL_FUNC (on_entry_max_downloads_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_host_downloads), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_max_host_downloads_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_max_host_downloads), "activate",
                      GTK_SIGNAL_FUNC (on_entry_max_host_downloads_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_clear_downloads), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_clear_downloads_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_never_push), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_never_push_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_download_queue), "select_row",
                      GTK_SIGNAL_FUNC (on_clist_download_queue_select_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_download_queue), "unselect_row",
                      GTK_SIGNAL_FUNC (on_clist_download_queue_unselect_row),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_download_queue), "click_column",
                      GTK_SIGNAL_FUNC (on_clist_download_queue_click_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_download_queue), "button_press_event",
                      GTK_SIGNAL_FUNC (on_clist_download_queue_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_download_queue), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_download_queue_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_remove_download), "clicked",
                      GTK_SIGNAL_FUNC (on_button_remove_download_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search), "changed",
                      GTK_SIGNAL_FUNC (on_entry_search_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search), "activate",
                      GTK_SIGNAL_FUNC (on_entry_search_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_close), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_close_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_filter), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_filter_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_minimum_speed), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_minimum_speed_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_minimum_speed), "activate",
                      GTK_SIGNAL_FUNC (on_entry_minimum_speed_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_download), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_download_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_stream), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_stream_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_passive), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_passive_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_search_clear), "clicked",
                      GTK_SIGNAL_FUNC (on_button_search_clear_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_jump_to_downloads), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_jump_to_downloads_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_autodownload), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_autodownload_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_reissue_timeout), "activate",
                      GTK_SIGNAL_FUNC (on_entry_search_reissue_timeout_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_reissue_timeout), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_search_reissue_timeout_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_monitor), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_monitor_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_monitor), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_monitor_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_monitor), "activate",
                      GTK_SIGNAL_FUNC (on_entry_monitor_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_monitor), "button_press_event",
                      GTK_SIGNAL_FUNC (on_clist_monitor_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_enable_search_stats), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_enable_search_stats_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_stats_update_interval), "activate",
                      GTK_SIGNAL_FUNC (on_entry_search_stats_update_interval_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_stats_update_interval), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_search_stats_update_interval_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_stats_delcoef), "activate",
                      GTK_SIGNAL_FUNC (on_entry_search_stats_delcoef_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_search_stats_delcoef), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_search_stats_delcoef_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (clist_search_stats), "resize_column",
                      GTK_SIGNAL_FUNC (on_clist_search_stats_resize_column),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_reset_search_stats), "clicked",
                      GTK_SIGNAL_FUNC (on_button_reset_search_stats_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_config_save_path), "clicked",
                      GTK_SIGNAL_FUNC (on_button_config_save_path_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_config_move_path), "clicked",
                      GTK_SIGNAL_FUNC (on_button_config_move_path_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_path), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_path_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_path), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_path_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_config_add_dir), "clicked",
                      GTK_SIGNAL_FUNC (on_button_config_add_dir_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_config_rescan_dir), "clicked",
                      GTK_SIGNAL_FUNC (on_button_config_rescan_dir_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_extensions), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_extensions_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_extensions), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_extensions_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_config_force_ip), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_config_force_ip_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_force_ip), "changed",
                      GTK_SIGNAL_FUNC (on_entry_config_force_ip_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_force_ip), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_force_ip_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_force_ip), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_force_ip_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_port), "changed",
                      GTK_SIGNAL_FUNC (on_entry_config_port_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_port), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_port_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (button_config_update_port), "clicked",
                      GTK_SIGNAL_FUNC (on_button_config_update_port_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_speed), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_speed_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_speed), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_speed_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_config_throttle), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_config_throttle_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_search_items), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_search_items_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_search_items), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_search_items_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_maxttl), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_maxttl_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_maxttl), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_maxttl_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_myttl), "activate",
                      GTK_SIGNAL_FUNC (on_entry_config_myttl_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (entry_config_myttl), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_entry_config_myttl_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (radio_http), "toggled",
                      GTK_SIGNAL_FUNC (on_radio_http_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (radio_socksv4), "toggled",
                      GTK_SIGNAL_FUNC (on_radio_socksv4_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (radio_socksv5), "toggled",
                      GTK_SIGNAL_FUNC (on_radio_socksv5_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_proxy_connections), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_proxy_connections_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (config_entry_socks_host), "activate",
                      GTK_SIGNAL_FUNC (on_config_entry_socks_host_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (config_entry_socks_host), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_config_entry_socks_host_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (config_entry_socks_port), "activate",
                      GTK_SIGNAL_FUNC (on_config_entry_socks_port_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (config_entry_socks_port), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_config_entry_socks_port_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (config_entry_socks_username), "activate",
                      GTK_SIGNAL_FUNC (on_config_entry_socks_username_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (config_entry_socks_username), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_config_entry_socks_username_focus_out_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (config_entry_socks_password), "activate",
                      GTK_SIGNAL_FUNC (on_config_entry_socks_password_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (config_entry_socks_password), "focus_out_event",
                      GTK_SIGNAL_FUNC (on_config_entry_socks_password_focus_out_event),
                      NULL);

  gtk_object_set_data (GTK_OBJECT (main_window), "tooltips", tooltips);

  gtk_window_add_accel_group (GTK_WINDOW (main_window), accel_group);

  return main_window;
}

GtkWidget*
create_popup_dl_active (void)
{
  GtkAccelGroup *popup_dl_active_accels;
  GtkWidget *separator1;

  popup_dl_active = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_dl_active), "popup_dl_active", popup_dl_active);
  popup_dl_active_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_dl_active));

  popup_dl_active_title = gtk_menu_item_new_with_label ("title");
  gtk_widget_ref (popup_dl_active_title);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "popup_dl_active_title", popup_dl_active_title,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_dl_active_title);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), popup_dl_active_title);

  separator1 = gtk_menu_item_new ();
  gtk_widget_ref (separator1);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "separator1", separator1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator1);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), separator1);
  gtk_widget_set_sensitive (separator1, FALSE);

  download_p_push = gtk_menu_item_new_with_label ("Force push mode");
  gtk_widget_ref (download_p_push);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "download_p_push", download_p_push,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (download_p_push);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), download_p_push);

  download_p_queue = gtk_menu_item_new_with_label ("Move back to queue");
  gtk_widget_ref (download_p_queue);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "download_p_queue", download_p_queue,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (download_p_queue);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), download_p_queue);

  download_p_kill = gtk_menu_item_new_with_label ("Kill and remove file");
  gtk_widget_ref (download_p_kill);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_active), "download_p_kill", download_p_kill,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (download_p_kill);
  gtk_container_add (GTK_CONTAINER (popup_dl_active), download_p_kill);

  gtk_signal_connect (GTK_OBJECT (download_p_push), "activate",
                      GTK_SIGNAL_FUNC (on_download_p_push_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (download_p_queue), "activate",
                      GTK_SIGNAL_FUNC (on_download_p_queue_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (download_p_kill), "activate",
                      GTK_SIGNAL_FUNC (on_download_p_kill_activate),
                      NULL);

  return popup_dl_active;
}

GtkWidget*
create_popup_dl_queued (void)
{
  GtkAccelGroup *popup_dl_queued_accels;
  GtkWidget *separator1;

  popup_dl_queued = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_dl_queued), "popup_dl_queued", popup_dl_queued);
  popup_dl_queued_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_dl_queued));

  popup_dl_queued_title = gtk_menu_item_new_with_label ("title");
  gtk_widget_ref (popup_dl_queued_title);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_queued), "popup_dl_queued_title", popup_dl_queued_title,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_dl_queued_title);
  gtk_container_add (GTK_CONTAINER (popup_dl_queued), popup_dl_queued_title);

  separator1 = gtk_menu_item_new ();
  gtk_widget_ref (separator1);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_queued), "separator1", separator1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator1);
  gtk_container_add (GTK_CONTAINER (popup_dl_queued), separator1);
  gtk_widget_set_sensitive (separator1, FALSE);

  download_start_now = gtk_menu_item_new_with_label ("Start now");
  gtk_widget_ref (download_start_now);
  gtk_object_set_data_full (GTK_OBJECT (popup_dl_queued), "download_start_now", download_start_now,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (download_start_now);
  gtk_container_add (GTK_CONTAINER (popup_dl_queued), download_start_now);

  gtk_signal_connect (GTK_OBJECT (download_start_now), "activate",
                      GTK_SIGNAL_FUNC (on_download_start_now_activate),
                      NULL);

  return popup_dl_queued;
}

GtkWidget*
create_popup_hosts (void)
{
  GtkAccelGroup *popup_hosts_accels;
  GtkWidget *separator1;
  GtkWidget *popup_hosts_importe;

  popup_hosts = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_hosts), "popup_hosts", popup_hosts);
  popup_hosts_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_hosts));

  popup_hosts_title = gtk_menu_item_new_with_label ("Hosts catched");
  gtk_widget_ref (popup_hosts_title);
  gtk_object_set_data_full (GTK_OBJECT (popup_hosts), "popup_hosts_title", popup_hosts_title,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_hosts_title);
  gtk_container_add (GTK_CONTAINER (popup_hosts), popup_hosts_title);

  separator1 = gtk_menu_item_new ();
  gtk_widget_ref (separator1);
  gtk_object_set_data_full (GTK_OBJECT (popup_hosts), "separator1", separator1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator1);
  gtk_container_add (GTK_CONTAINER (popup_hosts), separator1);
  gtk_widget_set_sensitive (separator1, FALSE);

  popup_hosts_export = gtk_menu_item_new_with_label ("Export to text file");
  gtk_widget_ref (popup_hosts_export);
  gtk_object_set_data_full (GTK_OBJECT (popup_hosts), "popup_hosts_export", popup_hosts_export,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_hosts_export);
  gtk_container_add (GTK_CONTAINER (popup_hosts), popup_hosts_export);

  popup_hosts_importe = gtk_menu_item_new_with_label ("Import from text file");
  gtk_widget_ref (popup_hosts_importe);
  gtk_object_set_data_full (GTK_OBJECT (popup_hosts), "popup_hosts_importe", popup_hosts_importe,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_hosts_importe);
  gtk_container_add (GTK_CONTAINER (popup_hosts), popup_hosts_importe);

  gtk_signal_connect (GTK_OBJECT (popup_hosts_export), "activate",
                      GTK_SIGNAL_FUNC (on_popup_hosts_export_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_hosts_importe), "activate",
                      GTK_SIGNAL_FUNC (on_popup_hosts_importe_activate),
                      NULL);

  return popup_hosts;
}

GtkWidget*
create_popup_search (void)
{
  GtkAccelGroup *popup_search_accels;
  GtkWidget *separator1;
  GtkWidget *separator3;
  GtkWidget *separator2;

  popup_search = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_search), "popup_search", popup_search);
  popup_search_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_search));

  popup_search_title = gtk_menu_item_new_with_label ("title");
  gtk_widget_ref (popup_search_title);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_title", popup_search_title,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_title);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_title);

  separator1 = gtk_menu_item_new ();
  gtk_widget_ref (separator1);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "separator1", separator1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator1);
  gtk_container_add (GTK_CONTAINER (popup_search), separator1);
  gtk_widget_set_sensitive (separator1, FALSE);

  popup_search_filters = gtk_menu_item_new_with_label ("Filter the results");
  gtk_widget_ref (popup_search_filters);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_filters", popup_search_filters,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_filters);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_filters);

  separator3 = gtk_menu_item_new ();
  gtk_widget_ref (separator3);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "separator3", separator3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator3);
  gtk_container_add (GTK_CONTAINER (popup_search), separator3);
  gtk_widget_set_sensitive (separator3, FALSE);

  popup_search_stop = gtk_menu_item_new_with_label ("Stop this search");
  gtk_widget_ref (popup_search_stop);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_stop", popup_search_stop,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_stop);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_stop);

  popup_search_resume = gtk_menu_item_new_with_label ("Resume this search");
  gtk_widget_ref (popup_search_resume);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_resume", popup_search_resume,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_resume);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_resume);

  popup_search_restart = gtk_menu_item_new_with_label ("Restart this search");
  gtk_widget_ref (popup_search_restart);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_restart", popup_search_restart,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_restart);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_restart);

  popup_search_duplicate = gtk_menu_item_new_with_label ("Duplicate this search");
  gtk_widget_ref (popup_search_duplicate);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_duplicate", popup_search_duplicate,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_duplicate);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_duplicate);

  popup_search_close = gtk_menu_item_new_with_label ("Close this search");
  gtk_widget_ref (popup_search_close);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_close", popup_search_close,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_close);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_close);

  popup_search_clear_results = gtk_menu_item_new_with_label ("Clear search results");
  gtk_widget_ref (popup_search_clear_results);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_clear_results", popup_search_clear_results,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_clear_results);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_clear_results);
  gtk_widget_set_sensitive (popup_search_clear_results, FALSE);

  separator2 = gtk_menu_item_new ();
  gtk_widget_ref (separator2);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "separator2", separator2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator2);
  gtk_container_add (GTK_CONTAINER (popup_search), separator2);
  gtk_widget_set_sensitive (separator2, FALSE);

  popup_search_stop_sorting = gtk_menu_item_new_with_label ("Stop automatic sorting");
  gtk_widget_ref (popup_search_stop_sorting);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_stop_sorting", popup_search_stop_sorting,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_stop_sorting);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_stop_sorting);

  popup_search_toggle_tabs = gtk_menu_item_new_with_label ("Show tabs");
  gtk_widget_ref (popup_search_toggle_tabs);
  gtk_object_set_data_full (GTK_OBJECT (popup_search), "popup_search_toggle_tabs", popup_search_toggle_tabs,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_search_toggle_tabs);
  gtk_container_add (GTK_CONTAINER (popup_search), popup_search_toggle_tabs);

  gtk_signal_connect (GTK_OBJECT (popup_search_filters), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_filters_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_stop), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_stop_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_resume), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_resume_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_restart), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_restart_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_duplicate), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_duplicate_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_close), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_close_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_clear_results), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_clear_results_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_stop_sorting), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_stop_sorting_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (popup_search_toggle_tabs), "activate",
                      GTK_SIGNAL_FUNC (on_popup_search_toggle_tabs_activate),
                      NULL);

  return popup_search;
}

GtkWidget*
create_popup_monitor (void)
{
  GtkAccelGroup *popup_monitor_accels;

  popup_monitor = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_monitor), "popup_monitor", popup_monitor);
  popup_monitor_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_monitor));

  popup_monitor_title = gtk_menu_item_new_with_label ("Nothing for now");
  gtk_widget_ref (popup_monitor_title);
  gtk_object_set_data_full (GTK_OBJECT (popup_monitor), "popup_monitor_title", popup_monitor_title,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_monitor_title);
  gtk_container_add (GTK_CONTAINER (popup_monitor), popup_monitor_title);

  gtk_signal_connect (GTK_OBJECT (popup_monitor_title), "activate",
                      GTK_SIGNAL_FUNC (on_popup_monitor_title_activate),
                      NULL);

  return popup_monitor;
}

GtkWidget*
create_popup_nodes (void)
{
  GtkAccelGroup *popup_nodes_accels;

  popup_nodes = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_nodes), "popup_nodes", popup_nodes);
  popup_nodes_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_nodes));

  popup_nodes_title = gtk_menu_item_new_with_label ("Nothing for now");
  gtk_widget_ref (popup_nodes_title);
  gtk_object_set_data_full (GTK_OBJECT (popup_nodes), "popup_nodes_title", popup_nodes_title,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_nodes_title);
  gtk_container_add (GTK_CONTAINER (popup_nodes), popup_nodes_title);

  gtk_signal_connect (GTK_OBJECT (popup_nodes_title), "activate",
                      GTK_SIGNAL_FUNC (on_popup_nodes_title_activate),
                      NULL);

  return popup_nodes;
}

GtkWidget*
create_popup_uploads (void)
{
  GtkAccelGroup *popup_uploads_accels;

  popup_uploads = gtk_menu_new ();
  gtk_object_set_data (GTK_OBJECT (popup_uploads), "popup_uploads", popup_uploads);
  popup_uploads_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (popup_uploads));

  popup_uploads_title = gtk_menu_item_new_with_label ("Nothing for now");
  gtk_widget_ref (popup_uploads_title);
  gtk_object_set_data_full (GTK_OBJECT (popup_uploads), "popup_uploads_title", popup_uploads_title,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (popup_uploads_title);
  gtk_container_add (GTK_CONTAINER (popup_uploads), popup_uploads_title);

  gtk_signal_connect (GTK_OBJECT (popup_uploads_title), "activate",
                      GTK_SIGNAL_FUNC (on_popup_uploads_title_activate),
                      NULL);

  return popup_uploads;
}


